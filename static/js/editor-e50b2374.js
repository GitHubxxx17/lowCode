var Dt=Object.defineProperty;var Vt=(e,a,l)=>a in e?Dt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var ue=(e,a,l)=>(Vt(e,typeof a!="symbol"?a+"":a,l),l);import{B as It,j as Lt,C as _t,k as Bt,F as A,K as Ft,R as At,S as Mt,l as Pt,T as Tt,m as jt,n as Ot,q as yt,V as Nt,v as Rt,x as zt,y as $t,z as Kt,A as Ut,D as Ht,G as Wt,H as qt,I as Yt,f as ce,g as fe,c as J,b as _,J as Xt,L as Jt,M as Qt,N as Gt,O as Zt,P as gt,Q as y,d as t,U as el,W as tl,X as I,Y as ll,Z as al,_ as nl,$ as ol,a0 as il,a1 as sl,a2 as ul,a3 as rl,a4 as cl,a5 as dl,a6 as pl,a7 as fl,a8 as vl,a9 as ml,aa as hl,ab as yl,ac as gl,ad as bl,ae as xl,af as Cl,ag as wl,ah as Ie,ai as Sl,aj as El,ak as kl,al as Dl,am as Vl,an as Il,ao as Ll,ap as Pe,aq as _l,ar as Bl,as as Fl,at as Al,au as Ml,av as Ae,aw as Pl,ax as Tl,ay as jl,az as Ol,aA as Nl,aB as Rl,aC as zl,aD as $l,aE as We,aF as Kl,aG as Ul,aH as Hl,aI as Wl,aJ as qe,aK as ql,o as j,aL as tt,aM as Ge,aN as Yl,aO as lt,aP as Xl,r as V,aQ as Jl,a as Ve,aR as Ql,aS as Gl,aT as Me,aU as Zl,aV as r,aW as at,aX as ea,aY as ta,aZ as la,a_ as aa,a$ as na,b0 as oa,b1 as ia,b2 as sa,b3 as ua,b4 as ra,b5 as ca,b6 as da,t as De,b7 as pa,b8 as fa,b9 as va,ba as ma,bb as ha,bc as ya,bd as ga,be as ba,u as D,bf as xa,bg as Ca,bh as wa,bi as Sa,bj as Ea,bk as ka,bl as Da,bm as Va,bn as Ia,bo as La,bp as _a,bq as nt,br as ee,bs as Ba,bt as Fa,bu as X,bv as te,bw as Aa,bx as Ma,by as Pa,w as ke,bz as Ta,bA as H,bB as ja,bC as Oa,bD as Na,bE as Ra,bF as Be,bG as Ke,bH as za,bI as $a,bJ as Ka,p as W,i as me,e as U,bK as Ua,bL as Ha,bM as ct,bN as dt,bO as Wa}from"./index-0b3a1e15.js";import{m as pe,d as re,a as pt,_ as qa}from"./userStore-c7696f46.js";import{u as Fe,d as xe,s as bt,c as ft,B as xt,e as be,a as Ze,b as Ue,m as Ya,f as Xa,g as ze,h as Ja,P as Qa,i as Ga,j as Za,k as en,l as tn,n as ln,o as an,p as nn,q as on,r as sn,t as un,v as rn}from"./home-310c1856.js";const cn=()=>{},dn=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:It,BaseTransitionPropsValidators:Lt,Comment:_t,EffectScope:Bt,Fragment:A,KeepAlive:Ft,ReactiveEffect:At,Static:Mt,Suspense:Pt,Teleport:Tt,Text:jt,Transition:Ot,TransitionGroup:yt,VueElement:Nt,assertNumber:Rt,callWithAsyncErrorHandling:zt,callWithErrorHandling:$t,camelize:Kt,capitalize:Ut,cloneVNode:Ht,compatUtils:Wt,compile:cn,computed:qt,createApp:Yt,createBlock:ce,createCommentVNode:fe,createElementBlock:J,createElementVNode:_,createHydrationRenderer:Xt,createPropsRestProxy:Jt,createRenderer:Qt,createSSRApp:Gt,createSlots:Zt,createStaticVNode:gt,createTextVNode:y,createVNode:t,customRef:el,defineAsyncComponent:tl,defineComponent:I,defineCustomElement:ll,defineEmits:al,defineExpose:nl,defineModel:ol,defineOptions:il,defineProps:sl,defineSSRCustomElement:ul,defineSlots:rl,get devtools(){return cl},effect:dl,effectScope:pl,getCurrentInstance:fl,getCurrentScope:vl,getTransitionRawChildren:ml,guardReactiveProps:hl,h:yl,handleError:gl,hasInjectionContext:bl,hydrate:xl,initCustomFormatter:Cl,initDirectivesForSSR:wl,inject:Ie,isMemoSame:Sl,isProxy:El,isReactive:kl,isReadonly:Dl,isRef:Vl,isRuntimeOnly:Il,isShallow:Ll,isVNode:Pe,markRaw:_l,mergeDefaults:Bl,mergeModels:Fl,mergeProps:Al,nextTick:Ml,normalizeClass:Ae,normalizeProps:Pl,normalizeStyle:Tl,onActivated:jl,onBeforeMount:Ol,onBeforeUnmount:Nl,onBeforeUpdate:Rl,onDeactivated:zl,onErrorCaptured:$l,onMounted:We,onRenderTracked:Kl,onRenderTriggered:Ul,onScopeDispose:Hl,onServerPrefetch:Wl,onUnmounted:qe,onUpdated:ql,openBlock:j,popScopeId:tt,provide:Ge,proxyRefs:Yl,pushScopeId:lt,queuePostFlushCb:Xl,reactive:V,readonly:Jl,ref:Ve,registerRuntimeCompiler:Ql,render:Gl,renderList:Me,renderSlot:Zl,resolveComponent:r,resolveDirective:at,resolveDynamicComponent:ea,resolveFilter:ta,resolveTransitionHooks:la,setBlockTracking:aa,setDevtoolsHook:na,setTransitionHooks:oa,shallowReactive:ia,shallowReadonly:sa,shallowRef:ua,ssrContextKey:ra,ssrUtils:ca,stop:da,toDisplayString:De,toHandlerKey:pa,toHandlers:fa,toRaw:va,toRef:ma,toRefs:ha,toValue:ya,transformVNodeArgs:ga,triggerRef:ba,unref:D,useAttrs:xa,useCssModule:Ca,useCssVars:wa,useModel:Sa,useSSRContext:Ea,useSlots:ka,useTransitionState:Da,vModelCheckbox:Va,vModelDynamic:Ia,vModelRadio:La,vModelSelect:_a,vModelText:nt,vShow:ee,version:Ba,warn:Fa,watch:X,watchEffect:te,watchPostEffect:Aa,watchSyncEffect:Ma,withAsyncContext:Pa,withCtx:ke,withDefaults:Ta,withDirectives:H,withKeys:ja,withMemo:Oa,withModifiers:Na,withScopeId:Ra},Symbol.toStringTag,{value:"Module"}));const ot=I({props:{search:{type:Object}},setup(e){const a=Ve(null),l=V({searchList:Be(e.search.searchKey)||[],inputIsFocus:!1}),n=()=>{l.inputIsFocus=!0},i=()=>{l.inputIsFocus=!1};window.addEventListener("click",i),qe(()=>{window.removeEventListener("click",i)});const f=()=>{if(e.search.value.trim()!=""){let s=l.searchList.findIndex(C=>C==e.search.value);s>=0&&l.searchList.splice(s,1),l.searchList.unshift(e.search.value),Ke(e.search.searchKey,l.searchList)}},c=()=>{l.searchList=[],localStorage.removeItem(e.search.searchKey)},d=(s,C)=>{C.stopPropagation(),l.searchList.splice(s,1),Ke(e.search.searchKey,l.searchList)},h=s=>{i(),e.search.value=s,f()};return X(()=>e.search.value,s=>{s==""?n():i()}),()=>t("div",{class:"el-search",onClick:s=>{s.stopPropagation()}},[t("div",{class:[l.inputIsFocus?"el-search-input-focus":"","el-search-input"]},[H(t("input",{ref:a,type:"text",placeholder:e.search.placeholder,onFocus:n,onChange:f,"onUpdate:modelValue":s=>e.search.value=s},null),[[nt,e.search.value]]),t("span",null,[t("i",{class:["icon iconfont",e.search.value?"icon-cha":"icon-search"],onClick:s=>e.search.value=""},null)])]),l.inputIsFocus&&t("div",{class:"el-search-content",onClick:()=>{}},[l.searchList.length!=0&&t("div",{class:"el-search-content-history"},[t("div",{class:"el-search-content-history-header"},[t("span",null,[y("搜索历史")]),t("span",{onClick:c},[y("清空")])]),t("div",{class:"el-search-content-history-list"},[t("ul",null,[l.searchList.map((s,C)=>t("li",{onClick:u=>h(s)},[t("span",null,[s]),t("i",{class:"icon iconfont icon-guanbi",onClick:u=>d(C,u)},null)]))])])]),t("div",{class:"el-search-content-default"},[t("div",{class:"el-search-content-default-header"},[t("span",null,[e.search.searchDefault.label])]),t("div",{class:"el-search-content-default-list"},[t("ul",null,[e.search.searchDefault.list.map(s=>t("li",{onClick:C=>h(s)},[t("span",null,[s])]))])])])])])}}),pn=I({props:{EditorData:Object},setup(){const e=Ie("editorConfig"),a=V({search:{value:"",searchKey:"componentSearch",searchDefault:{label:"组件分类",list:["布局容器","常用组件","表单"]},placeholder:"查找组件"},componentList:{container:{label:"布局容器",list:[],hidden:!1},common:{label:"常用组件",list:[],hidden:!1},form:{label:"表单",list:[],hidden:!1}},activeName:V(["layoutContainer","commonComponents","form"])});return e.componentList.map(l=>{switch(l.category){case"container":a.componentList.container.list.push(l);break;case"common":a.componentList.common.list.push(l);break;case"form":a.componentList.form.list.push(l);break}}),X(()=>a.search.value,l=>{if(l=="")for(let n of Object.keys(a.componentList))a.componentList[n].list.filter(i=>{i.display=!0}),a.componentList[n].hidden=!1;else for(let n of Object.keys(a.componentList))if(a.componentList[n].label.indexOf(l)>=0)a.componentList[n].list.filter(i=>{i.display=!0});else{let i=a.componentList[n].list.length;a.componentList[n].list.map(f=>{f.label.indexOf(l)>=0?f.display=!0:(f.display=!1,i--)}),a.componentList[n].hidden=i==0}}),()=>t("div",{class:"ElComponent"},[t("div",{class:"ElComponent-top"},[t(ot,{search:a.search},null)]),t("div",{class:"ElComponent-list"},[t(r("elCollapse"),{modelValue:a.activeName,"onUpdate:modelValue":l=>a.activeName=l},{default:()=>[!a.componentList.container.hidden&&t(r("elCollapseItem"),{title:"布局容器",name:"layoutContainer"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.container.list.map(l=>l.display&&t("div",{onMousedown:n=>Fe.cloneMousedown(l,n)},[l.preview()]))])]}),!a.componentList.common.hidden&&t(r("elCollapseItem"),{title:"常用组件",name:"commonComponents"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.common.list.map(l=>l.display&&t("div",{onMousedown:n=>Fe.cloneMousedown(l,n)},[l.preview()]))])]}),!a.componentList.form.hidden&&t(r("elCollapseItem"),{title:"表单",name:"form"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.form.list.map(l=>l.display&&t("div",{onMousedown:n=>Fe.cloneMousedown(l,n)},[l.preview()]))])]})]})])])}});const fn=I({props:{EditorData:Object},setup(){const e=Ie("editorConfig"),a=V({search:{value:"",searchKey:"iconSearch",searchDefault:{label:"图标分类",list:["用户","关闭","哈哈哈"]},placeholder:"查找图标"},color:"#000",fontSize:16,iconList:e.iconList});return X(()=>a.search.value,l=>{if(l=="")for(let n of a.iconList)n.display=!0;else for(let n of a.iconList)n.label.indexOf(l)>=0?n.display=!0:n.display=!1}),()=>t("div",{class:"ElIcon"},[t("div",{class:"ElIcon-top"},[t(ot,{search:a.search},null)]),t("div",{class:"ElIcon-comfig"},[t(r("el-color-picker"),{modelValue:a.color,"onUpdate:modelValue":l=>a.color=l},null),t(r("el-input-number"),{modelValue:a.fontSize,"onUpdate:modelValue":l=>a.fontSize=l,"controls-position":"right",min:12,"data-unit":"px"},null)]),t("div",{class:"ElIcon-list"},[a.iconList.map(l=>l.display&&t("div",{onMousedown:n=>{l.defaultData.style.fontSize=`${a.fontSize}px`,l.defaultData.style.color=a.color,Fe.cloneMousedown(l,n)}},[l.preview()]))])])}});var Ct={exports:{}};const vn=za(dn);(function(e,a){(function(l,n){e.exports=n(vn)})($a,function(l){return function(){var n={789:function(d){d.exports=l}},i={};function f(d){var h=i[d];if(h!==void 0)return h.exports;var s=i[d]={exports:{}};return n[d](s,s.exports,f),s.exports}f.d=function(d,h){for(var s in h)f.o(h,s)&&!f.o(d,s)&&Object.defineProperty(d,s,{enumerable:!0,get:h[s]})},f.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},f.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var c={};return function(){function d(o,g){(g==null||g>o.length)&&(g=o.length);for(var w=0,L=new Array(g);w<g;w++)L[w]=o[w];return L}function h(o,g){if(o){if(typeof o=="string")return d(o,g);var w=Object.prototype.toString.call(o).slice(8,-1);return w==="Object"&&o.constructor&&(w=o.constructor.name),w==="Map"||w==="Set"?Array.from(o):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?d(o,g):void 0}}function s(o){return function(g){if(Array.isArray(g))return d(g)}(o)||function(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}(o)||h(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(o,g,w){return g in o?Object.defineProperty(o,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):o[g]=w,o}f.r(c),f.d(c,{default:function(){return Q}});var u=f(789),m=(0,u.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var o=this.data,g=this.onClick;return(0,u.createVNode)("span",{class:"vjs-tree-brackets",onClick:g},[o])}}),p=(0,u.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(o,g){var w=g.emit;return{uiType:(0,u.computed)(function(){return o.isMultiple?"checkbox":"radio"}),model:(0,u.computed)({get:function(){return o.checked},set:function(L){return w("update:modelValue",L)}})}},render:function(){var o=this.uiType,g=this.model,w=this.$emit;return(0,u.createVNode)("label",{class:["vjs-check-controller",g?"is-checked":""],onClick:function(L){return L.stopPropagation()}},[(0,u.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(o)},null),(0,u.createVNode)("input",{checked:g,class:"vjs-check-controller-original is-".concat(o),type:o,onChange:function(){return w("change",g)}},null)])}}),S=(0,u.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var o=this.nodeType,g=this.onClick,w=o==="objectStart"||o==="arrayStart";return w||o==="objectCollapsed"||o==="arrayCollapsed"?(0,u.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(w?"open":"close"),onClick:g},[(0,u.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,u.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function N(o){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},N(o)}function x(o){return Object.prototype.toString.call(o).slice(8,-1).toLowerCase()}function M(o){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=arguments.length>3?arguments[3]:void 0,G=L||{},ie=G.key,Ce=G.index,q=G.type,ve=q===void 0?"content":q,ne=G.showComma,we=ne!==void 0&&ne,he=G.length,Ee=he===void 0?1:he,Le=x(o);if(Le==="array"){var Te=R(o.map(function(se,$,b){return M(se,"".concat(g,"[").concat($,"]"),w+1,{index:$,showComma:$!==b.length-1,length:Ee,type:ve})}));return[M("[",g,w,{showComma:!1,key:ie,length:o.length,type:"arrayStart"})[0]].concat(Te,M("]",g,w,{showComma:we,length:o.length,type:"arrayEnd"})[0])}if(Le==="object"){var Se=Object.keys(o),je=R(Se.map(function(se,$,b){return M(o[se],/^[a-zA-Z_]\w*$/.test(se)?"".concat(g,".").concat(se):"".concat(g,'["').concat(se,'"]'),w+1,{key:se,showComma:$!==b.length-1,length:Ee,type:ve})}));return[M("{",g,w,{showComma:!1,key:ie,index:Ce,length:Se.length,type:"objectStart"})[0]].concat(je,M("}",g,w,{showComma:we,length:Se.length,type:"objectEnd"})[0])}return[{content:o,level:w,key:ie,index:Ce,path:g,showComma:we,length:Ee,type:ve}]}function R(o){if(typeof Array.prototype.flat=="function")return o.flat();for(var g=s(o),w=[];g.length;){var L=g.shift();Array.isArray(L)?g.unshift.apply(g,s(L)):w.push(L)}return w}function B(o){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(o==null)return o;if(o instanceof Date)return new Date(o);if(o instanceof RegExp)return new RegExp(o);if(N(o)!=="object")return o;if(g.get(o))return g.get(o);if(Array.isArray(o)){var w=o.map(function(ie){return B(ie,g)});return g.set(o,w),w}var L={};for(var G in o)L[G]=B(o[G],g);return g.set(o,L),L}function F(o,g){var w=Object.keys(o);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(o);g&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(o,G).enumerable})),w.push.apply(w,L)}return w}function z(o){for(var g=1;g<arguments.length;g++){var w=arguments[g]!=null?arguments[g]:{};g%2?F(Object(w),!0).forEach(function(L){C(o,L,w[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(w)):F(Object(w)).forEach(function(L){Object.defineProperty(o,L,Object.getOwnPropertyDescriptor(w,L))})}return o}var v={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},O=(0,u.defineComponent)({name:"TreeNode",props:z(z({},v),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(o,g){var w=g.emit,L=(0,u.computed)(function(){return x(o.node.content)}),G=(0,u.computed)(function(){return"vjs-value vjs-value-".concat(L.value)}),ie=(0,u.computed)(function(){return o.showDoubleQuotes?'"'.concat(o.node.key,'"'):o.node.key}),Ce=(0,u.computed)(function(){return o.selectableType==="multiple"}),q=(0,u.computed)(function(){return o.selectableType==="single"}),ve=(0,u.computed)(function(){return o.nodeSelectable(o.node)&&(Ce.value||q.value)}),ne=(0,u.reactive)({editing:!1}),we=function($){var b,k,P=(k=(b=$.target)===null||b===void 0?void 0:b.value)==="null"?null:k==="undefined"?void 0:k==="true"||k!=="false"&&(k[0]+k[k.length-1]==='""'||k[0]+k[k.length-1]==="''"?k.slice(1,-1):typeof Number(k)=="number"&&!isNaN(Number(k))||k==="NaN"?Number(k):k);w("valueChange",P,o.node.path)},he=(0,u.computed)(function(){var $,b=($=o.node)===null||$===void 0?void 0:$.content;return b===null?b="null":b===void 0&&(b="undefined"),L.value==="string"?'"'.concat(b,'"'):b+""}),Ee=function(){var $=o.renderNodeValue;return $?$({node:o.node,defaultValue:he.value}):he.value},Le=function(){w("bracketsClick",!o.collapsed,o.node.path)},Te=function(){w("iconClick",!o.collapsed,o.node.path)},Se=function(){w("selectedChange",o.node)},je=function(){w("nodeClick",o.node),ve.value&&o.selectOnClickNode&&w("selectedChange",o.node)},se=function($){if(o.editable&&!ne.editing){ne.editing=!0;var b=function k(P){var K;P.target!==$.target&&((K=P.target)===null||K===void 0?void 0:K.parentElement)!==$.target&&(ne.editing=!1,document.removeEventListener("click",k))};document.removeEventListener("click",b),document.addEventListener("click",b)}};return function(){var $,b=o.node;return(0,u.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":o.showSelectController,"has-carets":o.showIcon,"is-highlight":o.highlightSelectedNode&&o.checked},onClick:je,style:o.style},[o.showLineNumber&&(0,u.createVNode)("span",{class:"vjs-node-index"},[b.id+1]),o.showSelectController&&ve.value&&b.type!=="objectEnd"&&b.type!=="arrayEnd"&&(0,u.createVNode)(p,{isMultiple:Ce.value,checked:o.checked,onChange:Se},null),(0,u.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(b.level)).map(function(k,P){return(0,u.createVNode)("div",{key:P,class:{"vjs-indent-unit":!0,"has-line":o.showLine}},null)}),o.showIcon&&(0,u.createVNode)(S,{nodeType:b.type,onClick:Te},null)]),b.key&&(0,u.createVNode)("span",{class:"vjs-key"},[($=o.renderNodeKey,$?$({node:o.node,defaultKey:ie.value||""}):ie.value),(0,u.createVNode)("span",{class:"vjs-colon"},[":".concat(o.showKeyValueSpace?" ":"")])]),(0,u.createVNode)("span",null,[b.type!=="content"&&b.content?(0,u.createVNode)(m,{data:b.content.toString(),onClick:Le},null):(0,u.createVNode)("span",{class:G.value,onClick:!o.editable||o.editableTrigger&&o.editableTrigger!=="click"?void 0:se,onDblclick:o.editable&&o.editableTrigger==="dblclick"?se:void 0},[o.editable&&ne.editing?(0,u.createVNode)("input",{value:he.value,onChange:we,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):Ee()]),b.showComma&&(0,u.createVNode)("span",null,[","]),o.showLength&&o.collapsed&&(0,u.createVNode)("span",{class:"vjs-comment"},[(0,u.createTextVNode)(" // "),b.length,(0,u.createTextVNode)(" items ")])])])}}});function E(o,g){var w=Object.keys(o);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(o);g&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(o,G).enumerable})),w.push.apply(w,L)}return w}function T(o){for(var g=1;g<arguments.length;g++){var w=arguments[g]!=null?arguments[g]:{};g%2?E(Object(w),!0).forEach(function(L){C(o,L,w[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(w)):E(Object(w)).forEach(function(L){Object.defineProperty(o,L,Object.getOwnPropertyDescriptor(w,L))})}return o}var Q=(0,u.defineComponent)({name:"Tree",props:T(T({},v),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(o,g){var w=g.emit,L=g.slots,G=(0,u.ref)(),ie=(0,u.computed)(function(){return M(o.data,o.rootPath)}),Ce=function(b){return ie.value.reduce(function(k,P){var K,Y=P.level>=b,Z=(K=o.pathCollapsible)===null||K===void 0?void 0:K.call(o,P);return P.type!=="objectStart"&&P.type!=="arrayStart"||!Y&&!Z?k:T(T({},k),{},C({},P.path,1))},{})},q=(0,u.reactive)({translateY:0,visibleData:null,hiddenPaths:Ce(o.deep)}),ve=(0,u.computed)(function(){for(var b=null,k=[],P=ie.value.length,K=0;K<P;K++){var Y=T(T({},ie.value[K]),{},{id:K}),Z=q.hiddenPaths[Y.path];if(b&&b.path===Y.path){var ye=b.type==="objectStart",Re=T(T(T({},Y),b),{},{showComma:Y.showComma,content:ye?"{...}":"[...]",type:ye?"objectCollapsed":"arrayCollapsed"});b=null,k.push(Re)}else{if(Z&&!b){b=Y;continue}if(b)continue;k.push(Y)}}return k}),ne=(0,u.computed)(function(){var b=o.selectedValue;return b&&o.selectableType==="multiple"&&Array.isArray(b)?b:[b]}),we=(0,u.computed)(function(){return!o.selectableType||o.selectOnClickNode||o.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),he=function(){var b=ve.value;if(o.virtual){var k,P=o.height/o.itemHeight,K=((k=G.value)===null||k===void 0?void 0:k.scrollTop)||0,Y=Math.floor(K/o.itemHeight),Z=Y<0?0:Y+P>b.length?b.length-P:Y;Z<0&&(Z=0);var ye=Z+P;q.translateY=Z*o.itemHeight,q.visibleData=b.filter(function(Re,Oe){return Oe>=Z&&Oe<ye})}else q.visibleData=b},Ee=function(){he()},Le=function(b){var k,P,K=b.path,Y=o.selectableType;if(Y==="multiple"){var Z=ne.value.findIndex(function(ge){return ge===K}),ye=s(ne.value);Z!==-1?ye.splice(Z,1):ye.push(K),w("update:selectedValue",ye),w("selectedChange",ye,s(ne.value))}else if(Y==="single"&&ne.value[0]!==K){var Re=(k=ne.value,P=1,function(ge){if(Array.isArray(ge))return ge}(k)||function(ge,it){var _e=ge==null?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(_e!=null){var st,ut,Xe=[],Je=!0,rt=!1;try{for(_e=_e.call(ge);!(Je=(st=_e.next()).done)&&(Xe.push(st.value),!it||Xe.length!==it);Je=!0);}catch(kt){rt=!0,ut=kt}finally{try{Je||_e.return==null||_e.return()}finally{if(rt)throw ut}}return Xe}}(k,P)||h(k,P)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],Oe=K;w("update:selectedValue",Oe),w("selectedChange",Oe,Re)}},Te=function(b){w("nodeClick",b)},Se=function(b,k){if(b)q.hiddenPaths=T(T({},q.hiddenPaths),{},C({},k,1));else{var P=T({},q.hiddenPaths);delete P[k],q.hiddenPaths=P}},je=function(b,k){o.collapsedOnClickBrackets&&Se(b,k),w("bracketsClick",b)},se=function(b,k){Se(b,k),w("iconClick",b)},$=function(b,k){var P=B(o.data),K=o.rootPath;new Function("data","val","data".concat(k.slice(K.length),"=val"))(P,b),w("update:data",P)};return(0,u.watchEffect)(function(){we.value&&function(b){throw new Error("[VueJSONPretty] ".concat(b))}(we.value)}),(0,u.watchEffect)(function(){ve.value&&he()}),(0,u.watch)(function(){return o.deep},function(b){b&&(q.hiddenPaths=Ce(b))}),function(){var b,k,P=(b=o.renderNodeKey)!==null&&b!==void 0?b:L.renderNodeKey,K=(k=o.renderNodeValue)!==null&&k!==void 0?k:L.renderNodeValue,Y=q.visibleData&&q.visibleData.map(function(Z){return(0,u.createVNode)(O,{key:Z.id,node:Z,collapsed:!!q.hiddenPaths[Z.path],showDoubleQuotes:o.showDoubleQuotes,showLength:o.showLength,checked:ne.value.includes(Z.path),selectableType:o.selectableType,showLine:o.showLine,showLineNumber:o.showLineNumber,showSelectController:o.showSelectController,selectOnClickNode:o.selectOnClickNode,nodeSelectable:o.nodeSelectable,highlightSelectedNode:o.highlightSelectedNode,editable:o.editable,editableTrigger:o.editableTrigger,showIcon:o.showIcon,showKeyValueSpace:o.showKeyValueSpace,renderNodeKey:P,renderNodeValue:K,onNodeClick:Te,onBracketsClick:je,onIconClick:se,onSelectedChange:Le,onValueChange:$,style:o.itemHeight&&o.itemHeight!==20?{lineHeight:"".concat(o.itemHeight,"px")}:{}},null)});return(0,u.createVNode)("div",{ref:G,class:{"vjs-tree":!0,"is-virtual":o.virtual},onScroll:o.virtual?Ee:void 0,style:o.showLineNumber?T({paddingLeft:"".concat(12*Number(ie.value.length.toString().length),"px")},o.style):o.style},[o.virtual?(0,u.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(o.height,"px")}},[(0,u.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(ve.value.length*o.itemHeight,"px")}},[(0,u.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(q.translateY,"px)")}},[Y])])]):Y])}}})}(),c}()})})(Ct);var mn=Ct.exports;const hn=Ka(mn);const yn=e=>(lt("data-v-7aa8fc1a"),e=e(),tt(),e),gn={class:"ElJsonViewer"},bn=yn(()=>_("span",null,"源码",-1)),xn=I({__name:"ElJsonViewer",setup(e){const a=xe(W),l=pe(W);l.setEditorData();const n=()=>{const i=document.createElement("textarea");i.value=JSON.stringify(a.selectedComponent||l.EditorData),document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i),me.success({message:"复制源码成功",duration:1e3})};return(i,f)=>(j(),J("div",gn,[_("div",{class:"ElJsonViewer-top"},[bn,_("i",{class:"icon iconfont icon-copy",onClick:n})]),t(D(hn),{virtual:"",showIcon:"",showSelectController:"",height:820,data:D(a).selectedComponent||D(l).EditorData},null,8,["data"])]))}});const Ne=(e,a)=>{const l=e.__vccOpts||e;for(const[n,i]of a)l[n]=i;return l},Cn=Ne(xn,[["__scopeId","data-v-7aa8fc1a"]]),wn={class:"ElOutline-top"},Sn={class:"ElOutline-content"},En=I({__name:"ElOutline",setup(e){const a=Ie("editorConfig"),l=pe(W),n=xe(W);let i=Ve(null);const f=(s,C=2)=>{let u=C||2,m=l.EditorDataMap.get(s).children;if(Array.isArray(m)){let p=[];return m.forEach((S,N)=>{let x=l.EditorDataMap.get(S),M=a.componentMap.get(x.type).label;p.push({id:u+N,"node-key":S,label:M,children:f(S,C+m.length)})}),p}else return[]},c=V({data:[{id:1,label:"页面","node-key":"page",children:f("page")}],defaultProps:{children:"children","node-key":"node-key",label:"label"},search:{value:"",searchKey:"componentSearch",searchDefault:{label:"常见组件节点标签",list:["页面","容器","输入框","按钮"]},placeholder:"输入关键字过滤组件节点标签"}}),d=s=>{console.log("change"),n.selectKey=s?s["node-key"]:null},h=(s,C)=>s?C.label.indexOf(s)!==-1:!0;return X(()=>n.selectKey,()=>{n.selectKey?i.value.setCurrentKey(n.selectKey,!1):(l.Breadcrumb=["页面"],i.value.setCurrentKey("page",!1))}),X(()=>c.search.value,()=>{i.value.filter(c.search.value)}),We(()=>{n.selectKey?i.value.setCurrentKey(n.selectKey,!1):(l.Breadcrumb=["页面"],i.value.setCurrentKey("page",!1)),l.menuConfig.elOutlineTree=i}),X(()=>l.menuConfig.key,s=>{c.data[0].children=f("page"),console.log("mainData.menuConfig.key:"+s)}),(s,C)=>{const u=r("el-tree"),m=at("contextmenu");return j(),J("div",{class:"ElOutline",onMousedown:C[0]||(C[0]=(...p)=>D(ft)&&D(ft)(...p))},[_("div",wn,[t(D(ot),{search:c.search},null,8,["search"])]),H((j(),J("div",Sn,[t(u,{ref_key:"elOutlineTree",ref:i,class:"filter-tree",data:c.data,props:c.defaultProps,"filter-node-method":h,"node-key":"node-key","highlight-current":"","default-expand-all":"",onCurrentChange:d},null,8,["data","props"])])),[[m,D(bt),void 0,{prevent:!0}]])],32)}}});const kn=Ne(En,[["__scopeId","data-v-94cc3ef1"]]),Dn={class:"EditorLeft"},Vn={class:"EditorLeft-nav"},In=["onClick"],Ln={class:"EditorLeft-content"},_n=I({__name:"EditorLeft",setup(e){const a=V([{label:"组件",icon:"icon iconfont icon-zujian",active:!0},{label:"图标",icon:"icon iconfont icon-xiaolian",active:!1},{label:"大纲",icon:"icon iconfont icon-list-outline",active:!1},{label:"代码",icon:"icon iconfont icon-daima",active:!1}]),l=n=>{a.forEach((i,f)=>{if(f==n){i.active=!0;return}i.active=!1})};return(n,i)=>(j(),J("div",Dn,[_("div",Vn,[_("ul",null,[(j(!0),J(A,null,Me(a,(f,c)=>(j(),J("li",{key:c,class:Ae({active:f.active}),onClick:d=>l(c)},[_("i",{class:Ae(f.icon)},null,2),_("span",null,De(f.label),1)],10,In))),128))])]),_("div",Ln,[a[0].active?(j(),ce(D(pn),{key:0})):fe("",!0),a[1].active?(j(),ce(D(fn),{key:1})):fe("",!0),a[2].active?(j(),ce(kn,{key:2})):fe("",!0),a[3].active?(j(),ce(Cn,{key:3})):fe("",!0)])]))}});const Bn=Ne(_n,[["__scopeId","data-v-9f7e1469"]]);const le=I({props:{option:{type:Object}},setup(e){return()=>{const a=(n,i,f)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(console.log(f),n==""?f[i]="0px":/^\d+$/.test(n)?f[i]=`${n}px`:/^\d+px$/.test(n)?f[i]=n:f[i]=f.oldValue)},l=(n,i)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(i.oldValue=n)};return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(U,{modelValue:e.option.value,"onUpdate:modelValue":n=>e.option.value=n,placeholder:e.option.placeholder?e.option.placeholder:"请输入内容",clearable:e.option.clearable,onBlur:()=>a(e.option.value,"value",e.option),onFocus:()=>l(e.option.value,e.option)},null)])}}});function Fn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const ae=I({props:{label:{type:String},setting:{type:Object},change:{type:Function}},setup(e){return()=>{let a;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.label]),t(r("el-select"),{modelValue:e.setting.value,"onUpdate:modelValue":l=>e.setting.value=l,filterable:e.setting.filterable?e.setting.filterable:!0,placeholder:e.setting.placeholder?e.setting.placeholder:"",onChange:l=>e.change&&e.change(l)},Fn(a=e.setting.options.map(l=>t(r("el-option"),{key:l.value,value:l.value},null)))?a:{default:()=>[a]})])}}}),oe=I({props:{option:{type:Object}},setup(e){return()=>t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(r("el-switch"),{modelValue:e.option.value,"onUpdate:modelValue":a=>e.option.value=a},null)])}});function Qe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const de=I({props:{option:{type:Object}},setup(e){const a=V({color:e.option.style.color?e.option.style.color:"rgba(0,0,0)",fontSize:e.option.style.fontSize?e.option.style.fontSize:"",fontWeight:e.option.style.fontWeight?e.option.style.fontWeight:"",lineHeight:e.option.style.lineHeight?e.option.style.lineHeight:"",fontFamily:e.option.style.fontFamily?e.option.style.fontFamily:"",oldValue:""}),l=[{value:"黑体"},{value:"宋体"},{value:"楷体"},{value:"微软雅黑"}],n=[{value:"normal"},{value:"bold"},{value:"bolder"},{value:"lighter"},{value:"100"},{value:"200"},{value:"300"},{value:"400"},{value:"500"},{value:"600"},{value:"700"},{value:"800"},{value:"900"}],i=[{value:"1.3倍"},{value:"1.5倍"},{value:"1.7倍"}];let f=V({value:e.option.style.backgroundColor?e.option.style.backgroundColor:"rgba(255, 255, 255,0)"});const c=V({isBorderActive:"border",borderValue:0,selectInputValue:"",showSelect:!1,color:"rgba(0,0,0)"}),d=B=>{c.isBorderActive=B,u(B)},h=B=>{c.borderValue=B},s=[{text:"——————",value:"solid",render:()=>t(A,null,[t("span",{class:"solidLine"},[y("————  ")]),t("span",null,[y(" 实线 ")])])},{text:"------------------",value:"dashed",render:()=>t(A,null,[t("span",{class:"dottedLine"},[y("----------   ")]),t("span",null,[y(" 虚线 ")])])},{text:"···················",value:"dotted",render:()=>t(A,null,[t("span",{class:"pointLine"},[y("···················  ")]),t("span",null,[y(" 点线 ")])])}],C=B=>{c.selectInputValue=B},u=B=>{if(console.log(e.option.style[B],B),e.option.style[B]){let F=e.option.style[B].match(/^(\d+px) (.*?) (.*?)$/);c.borderValue=parseInt(F[1].match(/^\d+/)[0]),s.forEach(z=>{z.value==F[2]&&(c.selectInputValue=z.text)}),c.color=F[3]}};u("border");const m=V([{label:"外边距(margin)",top:e.option.style.marginTop?e.option.style.marginTop:"0px",bottom:e.option.style.marginBottom?e.option.style.marginBottom:"0px",left:e.option.style.marginLeft?e.option.style.marginLeft:"0px",right:e.option.style.marginRight?e.option.style.marginRight:"0px",oldValue:""},{label:"内边距(padding)",top:e.option.style.paddingTop?e.option.style.paddingTop:"0px",bottom:e.option.style.paddingBottom?e.option.style.paddingBottom:"0px",left:e.option.style.paddingLeft?e.option.style.paddingLeft:"0px",right:e.option.style.paddingRight?e.option.style.paddingRight:"0px",oldValue:""}]),p=V({isRadiusAllActive:!0,isRadiusSelfActive:!1,tipIsshow:!1,tip:"",radiusValue:"",radiusTLValue:"",radiusTRValue:"",radiusBLValue:"",radiusBRValue:"",oldValue:""}),S=()=>{const{radiusTLValue:B,radiusTRValue:F,radiusBLValue:z,radiusBRValue:v}=p;p.tip=`${B||"0px"} ${F||"0px"} ${z||"0px"} ${v||"0px"}`},N=()=>{const{borderRadius:B,borderTopLeftRadius:F,borderTopRightRadius:z,borderBottomLeftRadius:v,borderBottomRightRadius:O}=e.option.style;if(B&&(p.radiusValue=B,p.radiusTLValue=p.radiusTRValue=p.radiusBLValue=p.radiusBRValue=B,p.tipIsshow=!1),F||z||v||O){let E=`${F||"0px"} ${z||"0px"} ${v||"0px"} ${O||"0px"}`;p.tip=E,p.tipIsshow=!0,F&&(p.radiusTLValue=F),z&&(p.radiusTRValue=z),v&&(p.radiusBLValue=v),O&&(p.radiusBRValue=O)}};N();const x=V([{label:"外阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""},{label:"内阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""}]),M=(B,F,z)=>{B==""?z[F]="0px":/^\d+$/.test(B)?z[F]=`${B}px`:/^\d+px$/.test(B)?z[F]=B:z[F]=z.oldValue},R=(B,F)=>{F.oldValue=B};return te(()=>{a.color!="rgba(0,0,0)"?e.option.style.color=a.color:delete e.option.style.color,a.fontSize!=""?e.option.style.fontSize=a.fontSize:delete e.option.style.fontSize,a.fontWeight!=""?e.option.style.fontWeight=a.fontWeight:delete e.option.style.fontWeight,a.fontFamily!=""?e.option.style.fontFamily=a.fontFamily:delete e.option.style.fontFamily,a.lineHeight!=""?/^\d+px$/.test(a.lineHeight)?e.option.style.lineHeight=a.lineHeight:e.option.style.lineHeight=a.lineHeight.match(/^\d+(\.\d+)?/)[0]:delete e.option.style.lineHeight,f.value!="rgba(255, 255, 255,0)"?e.option.style.backgroundColor=f.value:delete e.option.style.backgroundColor;const B=["border","borderTop","borderLeft","borderRight","borderBottom"];(()=>{let T="solid";c.selectInputValue!=""&&s.forEach(Q=>{Q.text.includes(c.selectInputValue)&&(T=Q.value)}),B.forEach(Q=>{c.isBorderActive==Q&&(c.borderValue!=0?e.option.style[Q]=`${c.borderValue}px ${T} ${c.color}`:delete e.option.style[Q])})})();const F=["top","left","right","bottom"];["marginTop","marginLeft","marginRight","marginBottom"].forEach((T,Q)=>{m[0][F[Q]]!="0px"?e.option.style[T]=m[0][F[Q]]:delete e.option.style[T]}),["paddingTop","paddingLeft","paddingRight","paddingBottom"].forEach((T,Q)=>{m[1][F[Q]]!="0px"?e.option.style[T]=m[1][F[Q]]:delete e.option.style[T]});const O=["radiusTLValue","radiusTRValue","radiusBLValue","radiusBRValue"],E=["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];p.isRadiusAllActive?p.radiusValue!=""&&!p.tipIsshow?(e.option.style.borderRadius=p.radiusValue,E.forEach(T=>delete e.option.style[T])):delete e.option.style.borderRadius:p.radiusTLValue==p.radiusTRValue&&p.radiusTRValue==p.radiusBLValue&&p.radiusBLValue==p.radiusBRValue?(e.option.style.borderRadius=p.radiusTRValue,E.forEach(T=>delete e.option.style[T])):(delete e.option.style.borderRadius,O.forEach((T,Q)=>{["","0px"].includes(p[T])?delete e.option.style[E[Q]]:e.option.style[E[Q]]=p[T]})),!(x[0].x=="0px"&&x[0].y=="0px"&&x[0].fuzzy=="0px"&&x[0].extension=="0px")&&!(x[1].x=="0px"&&x[1].y=="0px"&&x[1].fuzzy=="0px"&&x[1].extension=="0px")?e.option.style.boxShadow=`${x[0].x} ${x[0].y} ${x[0].fuzzy} ${x[0].extension} ${x[0].color} ,inset ${x[1].x} ${x[1].y} ${x[1].fuzzy} ${x[1].extension} ${x[1].color}`:(x[0].x=="0px"&&x[0].y=="0px"&&x[0].fuzzy=="0px"&&x[0].extension=="0px"||(e.option.style.boxShadow=`${x[0].x} ${x[0].y} ${x[0].fuzzy} ${x[0].extension} ${x[0].color}`),x[1].x=="0px"&&x[1].y=="0px"&&x[1].fuzzy=="0px"&&x[1].extension=="0px"||(e.option.style.boxShadow=`inset ${x[1].x} ${x[1].y} ${x[1].fuzzy} ${x[1].extension} ${x[1].color}`))}),()=>{let B,F,z;return t(A,null,[e.option.writingStyle&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("文字样式")]),t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(r("el-color-picker"),{"show-alpha":!0,modelValue:a.color,"onUpdate:modelValue":v=>a.color=v},null)]),t("label",null,[y("颜色")])]),t("div",{class:"shadow-setting-item"},[t(U,{modelValue:a.fontSize,"onUpdate:modelValue":v=>a.fontSize=v,onChange:v=>M(v,"fontSize",a),onFocus:v=>R(a.fontSize,a)},null),t("label",null,[y("字号")])])]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t(r("el-select"),{modelValue:a.fontWeight,"onUpdate:modelValue":v=>a.fontWeight=v,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Qe(B=n.map(v=>t(r("el-option"),{key:v.value,value:v.value},null)))?B:{default:()=>[B]}),t("label",null,[y("字重")])]),t("div",{class:"shadow-setting-item"},[t(r("el-select"),{modelValue:a.fontFamily,"onUpdate:modelValue":v=>a.fontFamily=v,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Qe(F=l.map(v=>t(r("el-option"),{key:v.value,value:v.value},null)))?F:{default:()=>[F]}),t("label",null,[y("字体")])]),t("div",{class:"shadow-setting-item"},[t(r("el-select"),{modelValue:a.lineHeight,"onUpdate:modelValue":v=>a.lineHeight=v,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Qe(z=i.map(v=>t(r("el-option"),{key:v.value,value:v.value},null)))?z:{default:()=>[z]}),t("label",null,[y("行间距")])])])])])]),e.option.bgColor&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("背景颜色")]),t("div",{class:"elCollapseItem bgColorPicker"},[t(r("el-color-picker"),{"show-alpha":!0,modelValue:f.value,"onUpdate:modelValue":v=>f.value=v},null)])]),e.option.border&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("边框")]),t("div",{class:"elCollapseItem elCollapseBorder"},[t("div",{class:"elCollapseBorder-icon"},[t("div",null,null),t("div",{class:"common"},[t("div",{class:["top",c.isBorderActive=="borderTop"?"active-top":""],onClick:()=>d("borderTop")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:["left",c.isBorderActive=="borderLeft"?"active-left":""],onClick:()=>d("borderLeft")},null)]),t("div",{class:"common"},[t("div",{class:["middle",c.isBorderActive=="border"?"active-middle":""],onClick:()=>d("border")},null)]),t("div",{class:"common"},[t("div",{class:["right",c.isBorderActive=="borderRight"?"active-right":""],onClick:()=>d("borderRight")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:"bottom"},null),t("div",{class:["bottom",c.isBorderActive=="borderBottom"?"active-bottom":""],onClick:()=>d("borderBottom")},null)]),t("div",null,null)]),t("div",{class:"elCollapseBorder-setting"},[t(Ua,{modelValue:c.borderValue,onChange:h},null),t("div",{class:"lineAndColor"},[t("div",{class:"line"},[t(U,{readonly:!0,modelValue:c.selectInputValue,"onUpdate:modelValue":v=>c.selectInputValue=v,placeholder:"请选择",onFocus:()=>{c.showSelect=!0},onBlur:()=>{c.showSelect=!1}},null),H(t("ul",{class:"select"},[s.map(v=>t("li",{onMousedown:()=>{C(v.text)}},[v.render()]))]),[[ee,c.showSelect]])]),t("div",{class:"color"},[t(Ha,{modelValue:c.color,"onUpdate:modelValue":v=>c.color=v,"show-alpha":!0},null)])])])])]),e.option.marginAndPadding&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("边距")]),m.map((v,O)=>t("div",{class:"elCollapseItem"},[t("div",{class:"marginAndPadding"},[t("p",null,[v.label]),t("div",{class:"marginAndPadding-setting"},[t("div",{class:"marginAndPadding-setting-item"},[t(U,{modelValue:v.top,"onUpdate:modelValue":E=>v.top=E,onChange:E=>M(E,"top",m[O]),onFocus:E=>R(v.top,m[O])},null),t("label",null,[y("top")])]),t("div",{class:"marginAndPadding-setting-item"},[t(U,{modelValue:v.bottom,"onUpdate:modelValue":E=>v.bottom=E,onChange:E=>M(E,"bottom",m[O]),onFocus:E=>R(v.bottom,m[O])},null),t("label",null,[y("bottom")])]),t("div",{class:"marginAndPadding-setting-item"},[t(U,{modelValue:v.left,"onUpdate:modelValue":E=>v.left=E,onChange:E=>M(E,"left",m[O]),onFocus:E=>R(v.left,m[O])},null),t("label",null,[y("left")])]),t("div",{class:"marginAndPadding-setting-item"},[t(U,{modelValue:v.right,"onUpdate:modelValue":E=>v.right=E,onChange:E=>M(E,"right",m[O]),onFocus:E=>R(v.right,m[O])},null),t("label",null,[y("right")])])])])])),t("div",{class:"margin-border-self"},null)]),e.option.radius&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("圆角")]),t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"elCollapseRadius-icon"},[t("div",{class:["common all",p.isRadiusAllActive?"active":""],onClick:()=>{p.isRadiusAllActive=!0,p.isRadiusSelfActive=!1,N()}},null),t("div",{class:["common self",p.isRadiusSelfActive?"active":""],onClick:()=>{p.isRadiusAllActive=!1,p.isRadiusSelfActive=!0,N()}},null)]),t("div",{class:"elCollapseRadius-setting"},[t(U,{modelValue:p.radiusValue,"onUpdate:modelValue":v=>p.radiusValue=v,disabled:!p.isRadiusAllActive,onChange:v=>{M(v,"radiusValue",p),p.radiusTLValue=p.radiusTRValue=p.radiusBLValue=p.radiusBRValue=p.radiusValue,console.log(p)},onFocus:v=>R(p.radiusValue,p)},null),p.tipIsshow&&t("div",{class:"elCollapseRadius-setting-tip"},[t("span",null,[p.tip]),p.isRadiusAllActive&&t("i",{class:"icon iconfont icon-cha",onClick:v=>{p.tipIsshow=!1}},null)])])]),H(t("div",{class:"elCollapseItem elCollapseRadius"},[t(U,{modelValue:p.radiusTLValue,"onUpdate:modelValue":v=>p.radiusTLValue=v,onChange:v=>{M(v,"radiusTLValue",p),S()},onFocus:v=>R(p.radiusTLValue,p)},null),t(U,{class:"radiusSelfInput",modelValue:p.radiusTRValue,"onUpdate:modelValue":v=>p.radiusTRValue=v,onChange:v=>{M(v,"radiusTRValue",p),S()},onFocus:v=>R(p.radiusTRValue,p)},null),t(U,{class:"radiusSelfInput",modelValue:p.radiusBLValue,"onUpdate:modelValue":v=>p.radiusBLValue=v,onChange:v=>{M(v,"radiusBLValue",p),S()},onFocus:v=>R(p.radiusBLValue,p)},null),t(U,{class:"radiusSelfInput",modelValue:p.radiusBRValue,"onUpdate:modelValue":v=>p.radiusBRValue=v,onChange:v=>{M(v,"radiusBRValue",p),S()},onFocus:v=>R(p.radiusBRValue,p)},null)]),[[ee,p.isRadiusSelfActive]]),H(t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"radiusCommon radius-top-left"},null),t("div",{class:"radiusCommon radius-top-right"},null),t("div",{class:"radiusCommon radius-bottom-left"},null),t("div",{class:"radiusCommon  radius-bottom-right"},null)]),[[ee,p.isRadiusSelfActive]])]),e.option.shadow&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("阴影")]),x.map((v,O)=>t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("p",null,[v.label]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(r("el-color-picker"),{"show-alpha":!0,modelValue:v.color,"onUpdate:modelValue":E=>v.color=E},null)]),t("label",null,[y("颜色")])]),t("div",{class:"shadow-setting-item"},[t(U,{modelValue:v.x,"onUpdate:modelValue":E=>v.x=E,onChange:E=>M(E,"x",x[O]),onFocus:E=>R(v.x,x[O])},null),t("label",null,[y("X值")])]),t("div",{class:"shadow-setting-item"},[t(U,{modelValue:v.y,"onUpdate:modelValue":E=>v.y=E,onChange:E=>M(E,"y",x[O]),onFocus:E=>R(v.y,x[O])},null),t("label",null,[y("Y值")])]),t("div",{class:"shadow-setting-item"},[t(U,{modelValue:v.fuzzy,"onUpdate:modelValue":E=>v.fuzzy=E,onChange:E=>M(E,"fuzzy",x[O]),onFocus:E=>R(v.fuzzy,x[O])},null),t("label",null,[y("模糊值")])]),t("div",{class:"shadow-setting-item"},[t(U,{modelValue:v.extension,"onUpdate:modelValue":E=>v.extension=E,onChange:E=>M(E,"extension",x[O]),onFocus:E=>R(v.extension,x[O])},null),t("label",null,[y("扩展值")])])])])]))])])}}});function vt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const He=I({props:{setting:{type:Object}},setup(e){const a=xe(W),l=pe(W),n=f=>{e.setting.value=="触发方式"&&(l.EditorDataMap.get(a.selectKey).bubblePrompt.triggerMode=f.value),e.setting.value=="提示位置"&&(l.EditorDataMap.get(a.selectKey).bubblePrompt.promptLocation=f.value),e.setting.value=="尺寸"&&(l.EditorDataMap.get(a.selectKey).size=i(f.value))},i=f=>f=="中"?"default":f=="小"?"small":"large";return()=>{let f,c;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.setting.value]),l.EditorDataMap.get(a.selectKey).type=="button"&&t(ct,{class:"ml-4"},vt(f=e.setting.options.map(d=>t(r("el-button"),{size:"small",class:[d.value==l.EditorDataMap.get(a.selectKey).bubblePrompt.triggerMode?"buttonSelected":"",d.value==l.EditorDataMap.get(a.selectKey).bubblePrompt.promptLocation?"buttonSelected":"",i(d.value)==l.EditorDataMap.get(a.selectKey).size?"buttonSelected":""],onClick:()=>{n(d)}},{default:()=>[d.value]})))?f:{default:()=>[f]}),l.EditorDataMap.get(a.selectKey).type!="button"&&t(ct,{class:"ml-4"},vt(c=e.setting.options.map(d=>t(r("el-button"),{size:"small",class:[i(d.value)==l.EditorDataMap.get(a.selectKey).size?"buttonSelected":""],onClick:()=>{n(d)}},{default:()=>[d.value]})))?c:{default:()=>[c]})])}}}),et=I({props:{label:{type:String},setting:{type:Object},otherShow:{type:Boolean}},setup(e){const a=xe(W),l=pe(W),n=Ie("editorConfig");e.setting.icon&&e.setting.iconText&&(e.setting.isFill=!0,e.setting.clearable=!0);const i=s=>{e.setting.isShowList?e.setting.isShowList=!1:e.setting.isShowList=!0,s.stopPropagation()},f=()=>t(A,null,[t("span",{class:["icon iconfont",e.setting.icon]},null),t("span",{class:"context"},[e.setting.iconText])]),c=s=>{e.setting.isShowList=!1,e.setting.isFill=!e.setting.isFill,e.setting.clearable=!e.setting.clearable,e.label=="左侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.leftIcon=""),e.label=="右侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.rightIcon=""),s.stopPropagation()},d=n.iconList.map(s=>s.defaultData.icon.split(" ")[2]),h=s=>{e.setting.isShowList=!1,e.setting.clearable=!0,e.setting.isFill=!0,e.setting.icon=s,e.setting.iconText=s.replace("icon-",""),e.label=="左侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.leftIcon=s),e.label=="右侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.rightIcon=s),e.label=="修改图标"&&(l.EditorDataMap.get(a.selectKey).icon=`icon iconfont ${s}`)};return document.addEventListener("click",()=>{e.setting.isShowList&&(e.setting.isShowList=!1)}),()=>t("div",{class:"elCollapseItem base-settings flexSelectContainer"},[t("p",null,[e.label]),t("div",{class:"flexSelect",onClick:s=>i(s)},[t("div",{class:"iconContext"},[e.setting.isFill?f():"请选择图标"]),H(t("span",{class:["clear icon iconfont",e.setting.clearIcon],onClick:s=>c(s),onMouseover:()=>e.setting.clearIcon="icon-cha1",onMouseout:()=>e.setting.clearIcon="icon-cha"},null),[[ee,e.setting.clearable]])]),H(t("ul",{class:"flexSelectUl"},[d.map(s=>t("li",{class:"flexSelectUl-option",onClick:C=>h(s)},[t("span",{class:["icon iconfont",s]},null)]))]),[[ee,e.setting.isShowList]])])}});function $e(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const wt=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({value:"div",options:[{value:"header"},{value:"nav"},{value:"section"},{value:"main"},{value:"footer"},{value:"div"},{value:"p"}]});e.option.containerLabels&&(l.value=e.option.containerLabels);const n=V({value:"默认(static)",options:[{value:"默认(static)"},{value:"绝对(relative)"},{value:"相对(absolute)"},{value:"固定(fixed)"}]});e.option.style.position&&(e.option.style.position=="relative"&&(n.value="绝对(relative)"),e.option.style.position=="absolute"&&(n.value="相对(absolute)"),e.option.style.position=="fixed"&&(n.value="固定(fixed)"));const i=V([{label:"高度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"自动适配",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}},{label:"宽度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"超出显示",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}}]),f=[{value:"px"},{value:"em"},{value:"%"},{value:"vw"},{value:"vh"}];e.option.style.width&&(i[1].value=e.option.style.width.match(/^\d+/)[0],i[1].valueUnit=e.option.style.width.match(/^(\d+)(.*)/)[2]),e.option.style.height&&(i[0].value=e.option.style.height.match(/^\d+/)[0],i[0].valueUnit=e.option.style.height.match(/^(\d+)(.*)/)[2]),e.option.style.maxHeight&&(i[0].max=e.option.style.maxHeight.match(/^\d+/)[0],i[0].maxUnit=e.option.style.maxHeight.match(/^(\d+)(.*)/)[2]),e.option.style.minHeight&&(i[0].min=e.option.style.minHeight.match(/^\d+/)[0],i[0].minUnit=e.option.style.minHeight.match(/^(\d+)(.*)/)[2]),e.option.style.maxWidth&&(i[0].max=e.option.style.maxWidth.match(/^\d+/)[0],i[0].maxUnit=e.option.style.maxWidth.match(/^(\d+)(.*)/)[2]),e.option.style.minWidth&&(i[0].min=e.option.style.minWidth.match(/^\d+/)[0],i[0].minUnit=e.option.style.minWidth.match(/^(\d+)(.*)/)[2]),e.option.style.overflowY&&(e.option.style.overflowY=="visible"&&(i[0].scrollMode.value="超出显示"),e.option.style.overflowY=="hidden"&&i[0].scrollMode.value=="超出隐藏",e.option.style.overflowY=="scroll"&&i[0].scrollMode.value=="超出滚动",e.option.style.overflowY=="auto"&&i[0].scrollMode.value=="自动适配"),e.option.style.overflowX&&(e.option.style.overflowX=="visible"&&(i[1].scrollMode.value="超出显示"),e.option.style.overflowX=="hidden"&&i[1].scrollMode.value=="超出隐藏",e.option.style.overflowX=="scroll"&&i[1].scrollMode.value=="超出滚动",e.option.style.overflowX=="auto"&&i[1].scrollMode.value=="自动适配");const c=V({list:[{icon:"icon-zuoduiqi",active:!0,attribute:"left"},{icon:"icon-juzhongduiqi",active:!1,attribute:"center"},{icon:"icon-youduiqi",active:!1,attribute:"right"},{icon:"icon-zuoyouduiqi",active:!1,attribute:"justify"}],value:"left"}),d=V({alignmentLabel:"块级(block)设置",flexisShow:!1,options:[{icon:"icon-a-Displayblock",active:!0,alignmentLabel:"块级(block)设置"},{icon:"icon-a-Displayinline-block",active:!1,alignmentLabel:"行内块(inline-block)设置"},{icon:"icon-a-Displayinline",active:!1,alignmentLabel:"行内(inline)设置"},{icon:"icon-a-Displayflex",active:!1,alignmentLabel:"flex布局设置"}],flexList:[{label:"布局方向",list:[{value:"水平方向",attribute:"row"},{value:"垂直方向",attribute:"column"},{value:"水平反向",attribute:"row-reverse"},{value:"垂直反向",attribute:"column-reverse"}],value:"水平方向"},{label:"水平对齐",list:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],value:"左对齐"},{label:"垂直对齐",list:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}],value:"顶部对齐"},{label:"是否换行",list:[{value:"不换行",attribute:"nowrap"},{value:"自动换行",attribute:"wrap"},{value:"自动换行(颠倒)",attribute:"wrap-reverse"}],value:"不换行"}],flexAttribute:["","","",""],flexDirectionMap:new Map}),h=s=>{d.flexList[s].list.some(C=>{C.attribute==d.flexAttribute[s]&&(d.flexList[s].value=C.value)})};return(()=>{if(e.option.style.display){if(d.options.forEach(s=>s.active=!1),e.option.style.display=="flex")d.alignmentLabel="flex布局设置",d.options[3].active=!0,d.flexisShow=!0,e.option.style.flexDirection&&(d.flexAttribute[0]=e.option.style.flexDirection,h(0)),e.option.style.justifyContent&&(d.flexAttribute[1]=e.option.style.justifyContent,h(1)),e.option.style.alignItems&&(d.flexAttribute[2]=e.option.style.alignItems,h(2)),e.option.style.flexWrap&&(d.flexAttribute[3]=e.option.style.flexWrap,h(3));else if(e.option.style.textAlign){let s=0;e.option.style.display=="inline-block"&&(s=1),e.option.style.display=="inline"&&(s=2),d.alignmentLabel=d.options[s].alignmentLabel,d.options[s].active=!0,c.value=e.option.style.textAlign,c.list.forEach(C=>{C.active=!1,c.value==C.attribute&&(C.active=!0)})}}})(),d.flexDirectionMap.set("row",{jc:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),d.flexDirectionMap.set("column",{jc:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),d.flexDirectionMap.set("row-reverse",{jc:[{value:"右对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"左对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),d.flexDirectionMap.set("column-reverse",{jc:[{value:"底部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"顶部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),te(()=>{l.value!="div"?e.option.containerLabels=l.value:delete e.option.containerLabels,n.value.includes("static")?delete e.option.style.position:e.option.style.position=n.value.match(/\((.*?)\)/)[1],i[0].max!=0?e.option.style.maxHeight=`${i[0].max}${i[0].maxUnit}`:delete e.option.style.maxHeight,i[0].min!=0?e.option.style.minHeight=`${i[0].min}${i[0].minUnit}`:delete e.option.style.minHeight,i[1].max!=0?e.option.style.maxWidth=`${i[1].max}${i[1].maxUnit}`:delete e.option.style.maxWidth,i[1].min!=0?e.option.style.minWidth=`${i[1].min}${i[1].minUnit}`:delete e.option.style.minWidth,i[0].value!=0?e.option.style.height=`${i[0].value}${i[0].valueUnit}`:delete e.option.style.height,i[1].value!=0?e.option.style.width=`${i[1].value}${i[1].valueUnit}`:delete e.option.style.width,i[0].scrollMode.value=="超出显示"&&(e.option.style.overflowY="visible"),i[0].scrollMode.value=="超出隐藏"&&(e.option.style.overflowY="hidden"),i[0].scrollMode.value=="超出滚动"&&(e.option.style.overflowY="scroll"),i[0].scrollMode.value=="自动适配"&&(e.option.style.overflowY="auto"),i[1].scrollMode.value=="超出显示"&&(e.option.style.overflowX="visible"),i[1].scrollMode.value=="超出隐藏"&&(e.option.style.overflowX="hidden"),i[1].scrollMode.value=="超出滚动"&&(e.option.style.overflowX="scroll"),i[1].scrollMode.value=="自动适配"&&(e.option.style.overflowX="auto"),e.option.style.display=d.alignmentLabel.match(/[a-zA-Z]+/g)[0],d.flexisShow?(d.flexAttribute[0]!=""&&(e.option.style.flexDirection=d.flexAttribute[0]),d.flexAttribute[1]!=""&&(e.option.style.justifyContent=d.flexAttribute[1]),d.flexAttribute[2]!=""&&(e.option.style.alignItems=d.flexAttribute[2]),d.flexAttribute[3]!=""&&(e.option.style.flexWrap=d.flexAttribute[3])):c.value!="left"?e.option.style.textAlign=c.value:delete e.option.style.textAlign}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic",class:"container"},{default:()=>[t(ae,{label:"容器标签",setting:l},null)]}),t(r("elCollapseItem"),{title:"布局",name:"layout",class:"container"},{default:()=>[t(ae,{label:"定位模式",setting:n},null),i.map((s,C)=>{let u,m,p;return t(A,null,[t("div",{class:"elCollapseItem"},[t("p",null,[s.label,y("设置")]),t("div",{class:"container-changeBtn"},[t("button",{class:{active:s.adapter},onClick:S=>s.adapter=!0},[y("适配")]),t("button",{class:{active:!s.adapter},onClick:S=>s.adapter=!1},[y("固定")])])]),s.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[y("最大"),s.label]),t("div",null,[t(U,{modelValue:s.max,"onUpdate:modelValue":S=>s.max=S},null),t(r("el-select"),{modelValue:i[C].maxUnit,"onUpdate:modelValue":S=>i[C].maxUnit=S},$e(u=f.map(S=>t(r("el-option"),{key:S.value,value:S.value},null)))?u:{default:()=>[u]})])]),t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[y("最小"),s.label]),t("div",null,[t(U,{modelValue:s.min,"onUpdate:modelValue":S=>s.min=S},null),t(r("el-select"),{modelValue:i[C].minUnit,"onUpdate:modelValue":S=>i[C].minUnit=S},$e(m=f.map(S=>t(r("el-option"),{key:S.value,value:S.value},null)))?m:{default:()=>[m]})])])]),!s.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[s.label]),t("div",null,[t(U,{modelValue:s.value,"onUpdate:modelValue":S=>s.value=S},null),t(r("el-select"),{modelValue:i[C].valueUnit,"onUpdate:modelValue":S=>i[C].valueUnit=S},$e(p=f.map(S=>t(r("el-option"),{key:S.value,value:S.value},null)))?p:{default:()=>[p]})])]),t(ae,{label:"滚动模式",setting:i[C].scrollMode},null)])])}),t("div",{class:"elCollapseItem container-displayType"},[t("p",null,[y("显示方式(display)")]),d.options.map(s=>t("div",{class:{active:s.active,"container-displayType-item":!0},onClick:C=>{d.options.forEach(u=>u.active=!1),s.active=!0,d.alignmentLabel=s.alignmentLabel,s.alignmentLabel.includes("flex")?d.flexisShow=!0:d.flexisShow=!1}},[t("i",{class:[s.icon,"icon","iconfont"]},null)]))]),t("div",{class:"elCollapseItem container-alignment"},[t("div",{class:"alignmentContent"},[t("p",null,[d.alignmentLabel]),!d.flexisShow&&t("div",{class:"alignmentContent-list"},[c.list.map(s=>t("div",{class:{active:s.active,"container-alignment-item":!0},onClick:C=>{c.list.forEach(u=>u.active=!1),s.active=!0,c.value=s.attribute}},[t("i",{class:[s.icon,"icon","iconfont"]},null)]))]),d.flexisShow&&d.flexList.map((s,C)=>{let u;return t("div",{class:"flexlayout-list"},[t("div",{class:"flexlayout-list-item"},[t("p",null,[s.label]),t(r("el-select"),{modelValue:s.value,"onUpdate:modelValue":m=>s.value=m,onChange:m=>{let p=s.list.filter(S=>{if(S.value==s.value)return S});d.flexAttribute[C]=p[0].attribute,C==0&&(d.flexList[1].list=d.flexDirectionMap.get(p[0].attribute).jc,d.flexList[2].list=d.flexDirectionMap.get(p[0].attribute).ai,d.flexList[1].value=d.flexList[1].list[0].value,d.flexList[2].value=d.flexList[2].list[0].value,d.flexAttribute[1]=d.flexList[1].list[0].attribute,d.flexAttribute[2]=d.flexList[2].list[0].attribute)}},$e(u=s.list.map(m=>t(r("el-option"),{key:m.value,value:m.value},null)))?u:{default:()=>[u]})])])})])])]})]})])}}),mt=I({props:{setting:{type:Object}},setup(e){const a={triggerMode:{value:"触发方式",options:[{value:"鼠标悬浮"},{value:"聚焦"}]},promptLocation:{value:"提示位置",options:[{value:"上"},{value:"左"},{value:"下"},{value:"右"}]}};return()=>t("div",{class:"basicPopup"},[t("div",{class:"basicPopup-triangle"},null),t("div",{class:"basicPopup-boxBgc"},[e.setting.textarea.map(l=>t("div",{class:"basicPopup-box"},[t("p",null,[l.label]),t(U,{type:"textarea",modelValue:l.value,"onUpdate:modelValue":n=>l.value=n,resize:"none",class:"input","input-style":{height:"80px"}},null)])),H(t(He,{setting:a.triggerMode},null),[[ee,e.setting.hasTriggerMode]]),H(t(He,{setting:a.promptLocation},null),[[ee,e.setting.hasPromptLocation]]),t("div",{class:"seizeAseat"},null)])])}}),An=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(de,{option:l},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),Mn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({pageTitle:{label:"页面标题",value:e.option.title?e.option.title:""},subtitle:{label:"副标题",value:e.option.subtitle?e.option.subtitle:""}});return te(()=>{e.option.title=l.pageTitle.value,e.option.subtitle=l.subtitle.value}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{option:l.pageTitle},null),t(xt,{option:l.subtitle},null)]})]})])}}),Pn=I({props:{EditorData:Object},setup(){const e=Ie("erConfig"),a=xe(W),l=pe(W);return()=>{var n,i;return t("div",{class:"property",key:a.selectKey},[e.componentMap.get((n=a.selectKey)==null?void 0:n.replace(/-[^-]*$/,""))?e.componentMap.get((i=a.selectKey)==null?void 0:i.replace(/-[^-]*$/,"")).Properties(l.EditorDataMap.get(a.selectKey)):t(Mn,{option:l.EditorDataMap.get("page")},null)])}}}),Tn=I({props:{EditorData:Object},setup(){const e=Ie("erConfig"),a=xe(W),l=pe(W);return()=>{var n,i;return t("div",{class:"appearance",key:a.selectKey},[e.componentMap.get((n=a.selectKey)==null?void 0:n.replace(/-[^-]*$/,""))?e.componentMap.get((i=a.selectKey)==null?void 0:i.replace(/-[^-]*$/,"")).appearances(l.EditorDataMap.get(a.selectKey)):t(An,{option:l.EditorDataMap.get("page")},null)])}}});const jn=I({props:{option:{type:Object},isShow:{type:Boolean}},setup(e){const a=V({menuActive:e.option.title,openeds:["1","2","3","4"],data:re(be.handlerMap.get(e.option.title).defaultData),action:re(e.option)}),l=()=>{a.menuActive==a.action.title&&(a.data.value=a.action.content,a.menuActive=="消息提醒"&&(a.action.messageType&&(a.data.messageType.value=e.option.messageType),a.action.duration&&(a.data.duration.value=e.option.duration),a.action.messageContent&&(a.data.messageContent.value=e.option.messageContent)))};return X(()=>e.isShow,n=>{n&&(a.menuActive=e.option.title,a.data=re(be.handlerMap.get(e.option.title).defaultData),a.action=re(e.option),l())},{immediate:!0}),X(()=>a.menuActive,()=>{a.data=re(be.handlerMap.get(a.menuActive).defaultData),l()},{immediate:!0}),te(()=>{e.option.title=a.menuActive,e.option.content=a.data.value,a.menuActive=="消息提醒"&&(a.data.messageType&&(e.option.messageType=a.data.messageType.value),a.data.duration&&(e.option.duration=a.data.duration.value),a.data.messageContent&&(e.option.messageContent=a.data.messageContent.value,e.option.content=a.data.messageContent.value))}),()=>t(A,null,[t("div",{class:"events-config"},[t("div",{class:"events-config-menu"},[t(r("el-menu"),{"default-active":a.menuActive,"default-openeds":a.openeds,onSelect:n=>{a.menuActive=n}},{default:()=>[t(r("el-sub-menu"),{index:"1"},{default:()=>t(A,null,[t(r("el-menu-item"),{index:"跳转连接"},{default:()=>[y("跳转连接")]}),t(r("el-menu-item"),{index:"刷新页面"},{default:()=>[y("刷新页面")]}),t(r("el-menu-item"),{index:"回退页面"},{default:()=>[y("回退页面")]})]),title:()=>t("span",null,[y("页面")])}),t(r("el-sub-menu"),{index:"2"},{default:()=>t(A,null,[t(r("el-menu-item"),{index:"打开弹窗"},{default:()=>[y("打开弹窗")]}),t(r("el-menu-item"),{index:"关闭弹窗"},{default:()=>[y("关闭弹窗")]}),t(r("el-menu-item"),{index:"消息提醒"},{default:()=>[y("消息提醒")]})]),title:()=>t("span",null,[y("弹窗")])}),t(r("el-sub-menu"),{index:"3"},{default:()=>t(A,null,[t(r("el-menu-item"),{index:"发送请求"},{default:()=>[y("发送请求")]})]),title:()=>t("span",null,[y("服务")])}),t(r("el-sub-menu"),{index:"4"},{default:()=>t(A,null,[t(r("el-menu-item"),{index:"提交表单"},{default:()=>[y("提交表单")]}),t(r("el-menu-item"),{index:"重置表单"},{default:()=>[y("重置表单")]}),t(r("el-menu-item"),{index:"校验表单"},{default:()=>[y("校验表单")]})]),title:()=>t("span",null,[y("表单")])})]})]),t("div",{class:"events-config-content"},[t("div",{class:"events-config-content-item"},[t("h3",{class:"events-config-content-item-title"},[y("动作说明")]),t("p",null,[be.handlerMap.get(a.menuActive).instructions])]),t("div",{class:"events-config-content-item"},[t("h3",{class:"events-config-content-item-title"},[y("动作配置")]),be.handlerMap.get(a.menuActive).configRender(a.data)])])])])}});function On(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const Nn=I({setup(){const e=xe(W),a=pe(W);let l=V({dialogIsShow:!1,addListIsShow:!1,eventsList:a.EditorDataMap.get(e.selectKey||"page").events||[],activeName:Array.from(be.eventMap.keys()),addAction:{title:"跳转连接",content:""},selectedEvent:null,selectedIndex:0,mouseEventsMap:new Map,isUpdate:!1});X(()=>e.selectKey,(u,m)=>{l.eventsList.length==0?delete a.EditorDataMap.get(m||"page").events:a.EditorDataMap.get(m||"page").events=l.eventsList,l.eventsList=a.EditorDataMap.get(u||"page").events||[],l.selectedEvent=null;for(let p of be.eventMap)l.mouseEventsMap.get(p[0]).exist=!1;for(let p of l.eventsList)l.mouseEventsMap.get(p.type).exist=!0}),te(()=>{!a.EditorDataMap.get(e.selectKey||"page").events&&l.eventsList.length==0&&(a.EditorDataMap.get(e.selectKey||"page").events=l.eventsList)});for(let u of be.eventMap)l.mouseEventsMap.set(u[0],{type:u[1].type,name:u[1].name,exist:!1});for(let u of l.eventsList)l.mouseEventsMap.get(u.type).exist=!0;const n=()=>{l.addListIsShow=!1};window.addEventListener("click",n);const i=()=>{l.addAction=re({title:"跳转连接",content:""})},f=u=>{l.eventsList.push({type:u.type,name:u.name,list:[]}),u.exist=!0},c=u=>{l.mouseEventsMap.get(l.eventsList[u].type).exist=!1,l.eventsList.splice(u,1)},d=u=>{l.isUpdate=!1,i(),l.dialogIsShow=!0,l.selectedEvent=u},h=()=>{if(l.addAction.content.trim()==""){me.warning("内容不能为空");return}l.dialogIsShow=!1,l.isUpdate?l.selectedEvent.list[l.selectedIndex]=re(l.addAction):l.selectedEvent.list.push(re(l.addAction)),i()},s=(u,m)=>{l.isUpdate=!0,l.addAction=re(u.list[m]),l.dialogIsShow=!0,l.selectedEvent=u,l.selectedIndex=m},C=(u,m)=>{u.list.splice(m,1)};return()=>{let u;return t(A,null,[t("div",{class:"events"},[t("div",{class:"events-addEvents",onClick:m=>{m.stopPropagation(),l.addListIsShow=!l.addListIsShow}},[t("span",null,[y("添加事件")])]),l.addListIsShow&&t("div",{class:"events-addEvents-list"},[t("ul",null,[Array.from(l.mouseEventsMap.values()).map(m=>t("li",{onClick:p=>{p.stopPropagation(),!m.exist&&(f(m),n())},class:m.exist?"disabled":""},[m.name]))])]),t(r("elCollapse"),{modelValue:l.activeName,"onUpdate:modelValue":m=>l.activeName=m},On(u=l.eventsList.map((m,p)=>t("div",{class:"events-elCollapseItem"},[t("div",{class:"events-nav"},[t("i",{class:"icon iconfont icon-tianjia",onClick:S=>d(m)},null),t("i",{class:"icon iconfont icon-shanchu",onClick:S=>c(p)},null)]),t(r("elCollapseItem"),{title:m.name,name:m.type},{default:()=>[t("div",{class:"events-list"},[m.list.map((S,N)=>t("div",{class:"events-list-item"},[t("div",{class:"events-list-item-header"},[t("span",null,[S.title]),t("span",null,[t("i",{class:"icon iconfont icon-xiugai",onClick:x=>s(m,N)},null),t("i",{class:"icon iconfont icon-shanchu",onClick:x=>C(m,N)},null)])]),t("div",{class:"events-list-item-content"},[be.handlerMap.get(S.title).selectedRender(S)])]))])]})])))?u:{default:()=>[u]})]),t(r("el-dialog"),{title:"事件配置",modelValue:l.dialogIsShow,"onUpdate:modelValue":m=>l.dialogIsShow=m,width:"60%",fullscreen:!0,"append-to-body":!0},{default:()=>t(jn,{option:l.addAction,isShow:l.dialogIsShow},null),footer:()=>t("span",{class:"dialog-footer"},[t(r("el-button"),{onClick:m=>l.dialogIsShow=!1},{default:()=>[y("取 消")]}),t(r("el-button"),{type:"primary",onClick:m=>h()},{default:()=>[y("确 定")]})])})])}}}),Rn={class:"ErComponent"},zn={class:"ErComponent-nav"},$n=["onClick"],Kn={class:"ErComponent-content"},Un=I({__name:"EditorRight",props:["EditorData"],setup(e){const a=e,l=V([{label:"属性",active:!0,isShow:!0},{label:"外观",active:!1,isShow:!0},{label:"事件",active:!1,isShow:!0}]),n=i=>{l.forEach((f,c)=>{if(c==i){f.active=!0;return}f.active=!1})};return(i,f)=>(j(),J("div",Rn,[_("div",zn,[(j(!0),J(A,null,Me(l,(c,d)=>H((j(),J("label",{onClick:h=>n(d),class:Ae(["ErComponent-nav-btn",{active:c.active}])},De(c.label),11,$n)),[[ee,c.isShow]])),256))]),_("div",Kn,[l[0].active?(j(),ce(D(Pn),{key:0,EditorData:a.EditorData},null,8,["EditorData"])):fe("",!0),l[1].active?(j(),ce(D(Tn),{key:1,EditorData:a.EditorData},null,8,["EditorData"])):fe("",!0),l[2].active?(j(),ce(D(Nn),{key:2})):fe("",!0)])]))}});const ht=I({props:{dataKey:String,EditorDataMap:Object},setup(e){let a=null,l=e.EditorDataMap.get(e.dataKey),n={node:l,id:e.dataKey};return l.type.includes("container")&&(a=t(St,{dataKey:e.dataKey},null),n.children=a,n.childrenList=l.children),()=>{var i;return(i=Ze.componentMap.get(l.type))==null?void 0:i.render(n)}}}),Hn=["data-key"],Wn=I({__name:"transitionDrag",props:["dataKey"],setup(e){const a=e,l=pe(W),n=i=>i.includes("container");return(i,f)=>(j(),ce(yt,{"move-class":"move",class:"transition",tag:"div"},{default:ke(()=>[(j(!0),J(A,null,Me(D(l).EditorDataMap.get(a.dataKey).children,c=>(j(),J(A,{key:c},[n(c)?(j(),ce(D(ht),{key:1,dataKey:c,EditorDataMap:D(l).EditorDataMap},null,8,["dataKey","EditorDataMap"])):(j(),J("div",{key:0,class:"cannotPreview","data-key":c},[t(D(ht),{dataKey:c,EditorDataMap:D(l).EditorDataMap},null,8,["dataKey","EditorDataMap"])],8,Hn))],64))),128))]),_:1}))}});const St=Ne(Wn,[["__scopeId","data-v-baee71ad"]]),qn=I({props:{EditorData:Object},setup(e){const a=pe(W);let l=Ve(null);return We(()=>{l.value.attributes.childrenList=e.EditorData.get("page").children,a.rootNode=l}),()=>H(t("div",{class:"Editorcontainer",ref:l,onMouseenter:n=>Fe.mouseenter(n),onClick:n=>Fe.onclickToDrag(n),style:e.EditorData.style,"data-key":"page"},[t(St,{dataKey:"page"},null)]),[[at("contextmenu"),bt]])}});const Yn=I({props:{selectComponent:Function,unselectComponent:Function,makeACopy:Function,copycomponents:Function,shearComponents:Function,delComponents:Function,pasteComponents:Function,moveForward:Function,moveBack:Function,undo:Function,redo:Function,commands:Object},setup(e){const a=pe(W);return()=>H(t("div",{class:"menu",style:a.menuConfig.style},[t(r("el-menu"),{class:"el-menu-vertical-demo","active-text-color":"#151b26","text-color":"#151b26"},{default:()=>[t(r("el-menu-item"),{index:"1",disabled:a.menuConfig.isShow.selectComponent},{default:()=>[t("div",{onClick:l=>e.selectComponent(l)},[y("选中组件")])]}),t(r("el-menu-item"),{index:"2",disabled:a.menuConfig.isShow.unselectComponent},{default:()=>[t("div",{onClick:l=>e.unselectComponent(l)},[y("取消选中")])]}),t("i",null,null),t(r("el-menu-item"),{index:"3",disabled:a.menuConfig.isShow.makeACopy},{default:()=>[t("div",{onClick:l=>e.makeACopy(l,e.commands)},[y("重复一份")])]}),t(r("el-menu-item"),{index:"4",disabled:a.menuConfig.isShow.copycomponents},{default:()=>[t("div",{onClick:l=>e.copycomponents(l)},[y("复制组件")])]}),t(r("el-menu-item"),{index:"5",disabled:a.menuConfig.isShow.shearComponents},{default:()=>[t("div",{onClick:l=>e.shearComponents(l,e.commands)},[y("剪切组件")])]}),t(r("el-menu-item"),{index:"6",disabled:a.menuConfig.isShow.pasteComponents},{default:()=>[t("div",{onClick:l=>e.pasteComponents(l)},[y("粘贴组件")])]}),t(r("el-menu-item"),{index:"7",disabled:a.menuConfig.isShow.delComponents},{default:()=>[t("div",{onClick:l=>e.delComponents(l,e.commands)},[y("删除")])]}),t("i",null,null),t(r("el-menu-item"),{index:"8",disabled:a.menuConfig.isShow.moveForward},{default:()=>[t("div",{onClick:l=>e.moveForward(l)},[y("向前移动")])]}),t(r("el-menu-item"),{index:"9",disabled:a.menuConfig.isShow.moveBack},{default:()=>[t("div",{onClick:l=>e.moveBack(l)},[y("向后移动")])]}),t("i",null,null),t(r("el-menu-item"),{index:"10",disabled:a.menuConfig.isShow.undo},{default:()=>[t("div",{onClick:l=>e.undo(l,e.commands)},[y("撤销 (UnDo)")])]}),t(r("el-menu-item"),{index:"11",disabled:a.menuConfig.isShow.redo},{default:()=>[t("div",{onClick:l=>e.redo(l,e.commands)},[y("还原 (ReDo)")])]})]})]),[[ee,a.menuConfig.isShowMenu]])}}),Xn=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(de,{option:l},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),Jn=I({props:{option:{type:Object}},setup(e){return()=>t(wt,{option:e.option},null)}}),Qn=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(de,{option:l},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),Gn=I({props:{option:{type:Object}},setup(e){return()=>t(wt,{option:e.option},null)}}),Zn=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(de,{option:l},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),eo=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({value:"普通文字",options:[{value:"普通文字"},{value:"段落"},{value:"一级标题"},{value:"二级标题"},{value:"三级标题"},{value:"四级标题"},{value:"五级标题"},{value:"六级标题"}]}),n=V({whetherInline:{label:"内联模式",value:!0},textContent:{label:"文字内容",value:e.option.children}});return e.option.style.display&&(n.whetherInline.value=!1),te(()=>{e.option.children=n.textContent.value,n.whetherInline.value?delete e.option.style.display:e.option.style.display="block"}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{label:"文字格式",setting:l},null),t(oe,{option:n.whetherInline},null),t(xt,{option:n.textContent},null)]})]})])}}),to=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},n=V({value:"默认",options:[{value:"默认"},{value:"主要"},{value:"成功"},{value:"信息"},{value:"警告"},{value:"危险"}]}),i=V({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),f=V({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]}),c=V({blockDisplay:{label:"块状显示",value:!1},leftIconSize:{label:"左侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""},rightIconSize:{label:"右侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""}});e.option.buttonstyle==""?n.value="默认":e.option.buttonstyle=="primary"?n.value="主要":e.option.buttonstyle=="success"?n.value="成功":e.option.buttonstyle=="info"?n.value="信息":e.option.buttonstyle=="warning"?n.value="警告":n.value="危险",e.option.style.display=="block"&&(c.blockDisplay.value=!0);let d=!1,h=!1;return d=!!e.option.icon.leftIcon,h=!!e.option.icon.rightIcon,e.option.icon.leftIconSize&&(c.leftIconSize.value=e.option.icon.leftIconSize),e.option.icon.leftIconSize&&(c.rightIconSize.value=e.option.icon.rightIconSize),te(()=>{n.value=="默认"?e.option.buttonstyle="":n.value=="主要"?e.option.buttonstyle="primary":n.value=="成功"?e.option.buttonstyle="success":n.value=="信息"?e.option.buttonstyle="info":n.value=="警告"?e.option.buttonstyle="warning":e.option.buttonstyle="danger",c.blockDisplay.value?e.option.style.display="block":e.option.style.display="",d?e.option.icon.leftIconSize=c.leftIconSize.value:e.option.icon.leftIconSize="",h?e.option.icon.rightIconSize=c.rightIconSize.value:e.option.icon.rightIconSize=""}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{label:"样式",setting:n},null),t(oe,{option:c.blockDisplay},null),t(He,{setting:f},null)]}),t(r("elCollapseItem"),{title:"自定义样式",name:"customStyle"},{default:()=>[t(ae,{label:"状态",setting:i},null),t(de,{option:l},null),H(t(le,{option:c.leftIconSize},null),[[ee,d]]),H(t(le,{option:c.rightIconSize},null),[[ee,h]])]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})])}}),lo=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({bindingField:{label:"名称",value:"我的按钮",placeholder:"请输入名称"},twiceComfire:{label:"二次确认",value:!1},bubblePrompt:{label:"气泡提示",value:!1},leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},rightIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},disable:{label:"禁用",value:!0}}),n=V({textarea:[{label:"确认内容",value:""}],hasTriggerMode:!1,hasPromptLocation:!1}),i=V({textarea:[{label:"正常提示",value:""},{label:"禁用信息",value:""}],hasTriggerMode:!0,hasPromptLocation:!0});return l.bindingField.value!=e.option.children&&(l.bindingField.value=e.option.children),e.option.twiceComfire.value?(l.twiceComfire.value=!0,n.textarea[0].value=e.option.twiceComfire.info):l.twiceComfire.value=!1,l.leftIconSelect.icon=e.option.icon.leftIcon?e.option.icon.leftIcon:"",l.leftIconSelect.iconText=e.option.icon.leftIcon?e.option.icon.leftIcon.replace("icon-",""):"",l.rightIconSelect.icon=e.option.icon.rightIcon?e.option.icon.rightIcon:"",l.rightIconSelect.iconText=e.option.icon.rightIcon?e.option.icon.rightIcon.replace("icon-",""):"",e.option.bubblePrompt.value?(l.bubblePrompt.value=!0,i.textarea[0].value=e.option.bubblePrompt.normalInfo,i.textarea[1].value=e.option.bubblePrompt.disableInfo):l.twiceComfire.value=!1,l.disable.value=e.option.isDisable,te(()=>{l.bindingField.value!="我的按钮"&&(e.option.children=l.bindingField.value?l.bindingField.value:"我的按钮"),l.twiceComfire.value?(e.option.twiceComfire.value=!0,e.option.twiceComfire.info=n.textarea[0].value):(e.option.twiceComfire.value=!1,e.option.twiceComfire.info=n.textarea[0].value=""),l.bubblePrompt.value?(e.option.bubblePrompt.value=!0,e.option.bubblePrompt.normalInfo=i.textarea[0].value,e.option.bubblePrompt.disableInfo=i.textarea[1].value):(e.option.bubblePrompt.value=!1,e.option.bubblePrompt.normalInfo=i.textarea[0].value="",e.option.bubblePrompt.disableInfo=i.textarea[1].value="",e.option.bubblePrompt.triggerMode!="鼠标悬浮"&&(e.option.bubblePrompt.triggerMode="鼠标悬浮"),e.option.bubblePrompt.promptLocation!="下"&&(e.option.bubblePrompt.promptLocation="下")),e.option.isDisable=l.disable.value}),X(()=>l.leftIconSelect.isShowList,f=>{f&&l.rightIconSelect.isShowList&&(l.rightIconSelect.isShowList=!1)}),X(()=>l.rightIconSelect.isShowList,f=>{f&&l.leftIconSelect.isShowList&&(l.leftIconSelect.isShowList=!1)}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{option:l.bindingField},null),t(oe,{option:l.twiceComfire},null),H(t(mt,{setting:n},null),[[ee,l.twiceComfire.value]]),t(et,{label:"左侧图标",setting:l.leftIconSelect},null),t(et,{label:"右侧图标",setting:l.rightIconSelect},null),t(oe,{option:l.bubblePrompt},null),H(t(mt,{setting:i},null),[[ee,l.bubblePrompt.value]])]}),t(r("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(oe,{option:l.disable},null)]})]})])}}),ao=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({width:{label:"宽度",value:e.option.style.width,placeholder:"请输入输入框宽度",oldValue:""},height:{label:"高度",value:e.option.style.height,placeholder:"请输入输入框高度",oldValue:""}}),n=V({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),i={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},f=V({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]});return te(()=>{e.option.style.width=l.width.value,e.option.style.height=l.height.value}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{option:l.width},null),t(le,{option:l.height},null),t(He,{setting:f},null)]}),t(r("elCollapseItem"),{title:"输入框样式",name:"inputStyle"},{default:()=>[t(ae,{label:"状态",setting:n},null),t(de,{option:i},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSourceCode"},{default:()=>[t("div",{class:"events"},[t("div",{class:"addEvents"},[t("span",null,[y("编辑样式源码")])])])]})]})])}}),no=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({inputStyle:{value:"文本(text)",options:[{value:"文本(text)"},{value:"密码(password)"},{value:"邮箱(email)"}]},defaultValue:{label:"默认值",value:"",placeholder:"请输入输入框默认内容"},placeholderPrompt:{label:"占位提示",value:"",placeholder:"请输入占位提示"},clearable:{label:"可清除",value:!1},maxLength:{label:"最长输入长度",value:0,min:0},minLength:{label:"最小输入长度",value:0,min:0}}),n=V({hide:{label:"隐藏",value:!1},onlyRead:{label:"只读",value:!1},disable:{label:"禁用",value:!1},autofocus:{label:"自动对焦",value:!1}});let i=new RegExp("(?<=\\()(.+?)(?=\\))","g");return(()=>{if(e.option.inputStyle!="input")for(let f=0;f<l.inputStyle.options.length;f++){let c=l.inputStyle.options[f].value.match(i);c[0]==e.option.inputStyle&&(l.inputStyle.value=l.inputStyle.options[f].value),c[0]=="password"&&(e.option.showPassword=!0)}l.defaultValue.value=e.option.value,l.placeholderPrompt.value=e.option.placeholder,l.clearable.value=e.option.clearable,l.maxLength.value=e.option.maxlength||0,l.minLength.value=e.option.minlength||0,l.maxLength.value&&l.maxLength.value!=0&&(e.option.showWordLimit=!0)})(),n.hide.value=e.option.hidden,n.onlyRead.value=e.option.readonly,n.disable.value=e.option.disabled,n.autofocus.value=e.option.autofocus,te(()=>{e.option.inputStyle=l.inputStyle.value.match(i)[0],e.option.inputStyle!="password"&&(e.option.showPassword=!1),e.option.value=l.defaultValue.value,e.option.placeholder=l.placeholderPrompt.value,l.clearable.value?e.option.clearable=l.clearable.value:delete e.option.clearable,l.maxLength.value!=0?e.option.maxlength=l.maxLength.value:delete e.option.maxlength,l.minLength.value!=0?e.option.minlength=l.minLength.value:delete e.option.minlength,l.maxLength.value&&l.maxLength.value>0?e.option.showWordLimit=!0:e.option.showWordLimit=!1,n.hide.value?e.option.hidden=n.hide.value:delete e.option.hidden,n.onlyRead.value?e.option.readonly=n.onlyRead.value:delete e.option.readonly,n.disable.value?e.option.disabled=n.disable.value:delete e.option.disabled,n.autofocus.value?e.option.autofocus=n.autofocus.value:delete e.option.autofocus}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{label:"输入类型",setting:l.inputStyle},null),t(le,{option:l.defaultValue},null),t(le,{option:l.placeholderPrompt},null),t(oe,{option:l.clearable},null),t(Ue,{option:l.maxLength},null),t(Ue,{option:l.minLength},null)]}),t(r("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(oe,{option:n.hide},null),t(oe,{option:n.onlyRead},null),t(oe,{option:n.disable},null),t(oe,{option:n.autofocus},null)]})]})])}});class oo{constructor(a){ue(this,"containerElement",null);ue(this,"rectList",[]);ue(this,"handle",null);ue(this,"drag",{element:null,index:0,firstIndex:0});ue(this,"clone",{element:null});ue(this,"diff",{x:null,y:null});ue(this,"isMouseDown",!1);ue(this,"dragData",null);ue(this,"dragClassName",null);ue(this,"cloneClassName",null);ue(this,"animation",".5s");this.containerElement=a.el,this.handle=a.handle,this.dragData=V(a.dragData),this.dragClassName=a.dragClassName,this.cloneClassName=a.cloneClassName,a.animation&&(this.animation=a.animation),this.init()}init(){this.bindEventListener(),this.getRectList()}getRectList(){this.rectList.length=0;for(const a of this.containerElement.children)this.rectList.push(a.getBoundingClientRect())}onMouseDown(a){const{clientY:l,clientX:n,target:i}=a;if(i==this.containerElement||!i.classList.contains(this.handle))return;this.getRectList(),this.isMouseDown=!0,this.drag.element=this.findActionNode(i),this.drag.element.classList.add(this.dragClassName),this.clone.element=this.drag.element.cloneNode(!0),document.body.appendChild(this.clone.element),this.clone.element.className=this.cloneClassName;const f=[].indexOf.call(this.containerElement.children,this.drag.element);this.drag.index=f,this.drag.firstIndex=f;const{top:c,left:d}=this.drag.element.getBoundingClientRect();this.diff.x=n-d,this.diff.y=l-c,this.clone.element.style.top=`${c}px`,this.clone.element.style.left=`${d}px`;for(const h of this.containerElement.children)h.style.transition=`transform ${this.animation}`}onMouseMove(a){if(this.isMouseDown){this.clone.element.style.top=`${a.clientY-this.diff.y}px`;for(let l=0;l<this.rectList.length;l++)if(l!==this.drag.index&&a.clientX>this.rectList[l].left&&a.clientX<this.rectList[l].right&&a.clientY>this.rectList[l].top&&a.clientY<this.rectList[l].bottom){if(this.drag.index<l)for(let f=this.drag.index;f<l;f++)if(f<this.drag.firstIndex)this.containerElement.children[f].style.transform="translate3d(0px, 0px, 0)";else{const c=this.rectList[f].left-this.rectList[f+1].left,d=this.rectList[f].top-this.rectList[f+1].top;this.containerElement.children[f+1].style.transform="translate3d("+c+"px, "+d+"px, 0)"}else if(this.drag.index>l)for(let f=l;f<this.drag.index;f++)if(this.drag.firstIndex<=f)this.containerElement.children[f+1].style.transform="translate3d(0px, 0px, 0)";else{const c=this.rectList[f+1].left-this.rectList[f].left,d=this.rectList[f+1].top-this.rectList[f].top;this.containerElement.children[f].style.transform="translate3d("+c+"px, "+d+"px, 0)"}const n=this.rectList[l].left-this.rectList[this.drag.firstIndex].left,i=this.rectList[l].top-this.rectList[this.drag.firstIndex].top;this.drag.element.style.transform="translate3d("+n+"px, "+i+"px, 0)",this.drag.index=l;break}}}onMouseUp(){if(this.isMouseDown){this.isMouseDown=!1,this.drag.element.classList.remove(this.dragClassName),this.clone.element.remove();for(const l of this.containerElement.children)l.style.transition="none",l.style.transform="translate3d(0px, 0px, 0px)";let a=this.dragData[this.drag.firstIndex];this.dragData.splice(this.drag.firstIndex,1),this.dragData.splice(this.drag.index,0,a)}}bindEventListener(){this.containerElement.addEventListener("mousedown",this.onMouseDown.bind(this)),this.containerElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this))}findActionNode(a){return a.parentNode!=this.containerElement?this.findActionNode(a.parentNode):a}}const io=I({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=V({inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style}});return(()=>{if(e.option.style.width){const{width:n}=e.option.style.width;n=="80px"?l.inputBoxSize.value="极小":n=="160px"?l.inputBoxSize.value="小":n=="240px"?l.inputBoxSize.value="中":n=="320px"&&(l.inputBoxSize.value="大")}})(),te(()=>{l.inputBoxSize.value=="极小"?e.option.style.width="80px":l.inputBoxSize.value=="小"?e.option.style.width="160px":l.inputBoxSize.value=="中"?e.option.style.width="240px":l.inputBoxSize.value=="大"?e.option.style.width="320px":delete e.option.style.width}),()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{label:"下拉框尺寸",setting:l.inputBoxSize},null)]}),t(r("elCollapseItem"),{title:"下拉框样式",name:"inputBoxType"},{default:()=>[t(de,{option:l.inputBoxType},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),so=I({props:{option:{type:Object}},setup(e){const a=["basic","options"],l=V({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:""},filterable:{label:"可搜索",value:e.option.filterable?e.option.filterable:!1},multiple:{label:"是否多选",value:e.option.multiple?e.option.multiple:!1},defaultValue:{value:e.option.defaultValue?e.option.defaultValue:"",options:[]},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"},selectData:[{radio:!1,value:"选项A",isShow:!1},{radio:!1,value:"选项B",isShow:!1},{radio:!1,value:"选项C",isShow:!1}]});e.option.selectData&&(l.selectData=e.option.selectData.map(c=>({...c,isShow:!1})));let n=Ve(null);We(()=>{new oo({el:n.value,handle:"selectDataDrag",dragData:l.selectData,dragClassName:"active",cloneClassName:"drag-ghost"})});const i=()=>{l.selectData.push({radio:!1,value:"",isShow:!1})};te(()=>{l.bindingField.value!=""?e.option.bindingField=l.bindingField.value:delete e.option.bindingField,l.filterable.value?e.option.filterable=l.filterable.value:delete e.option.filterable,l.multiple.value?e.option.multiple=l.multiple.value:delete e.option.multiple,l.defaultValue.value!=""?e.option.defaultValue=l.defaultValue.value:delete e.option.defaultValue,l.inputBoxPlaceholder.value!=""?e.option.placeholder=l.inputBoxPlaceholder.value:delete e.option.placeholder,e.option.selectData=l.selectData.map(c=>({value:c.value,radio:c.radio})),new Promise(c=>{let d=[];for(let h of l.selectData)h.value.trim()!=""&&d.push(h);c(d)}).then(c=>{l.defaultValue.options=c})});const f=()=>{l.selectData.map(c=>c.isShow=!1)};return window.addEventListener("click",f),qe(()=>{window.removeEventListener("click",f)}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{option:l.bindingField},null),t(oe,{option:l.multiple},null),t(oe,{option:l.filterable},null),t(ae,{label:"默认值",setting:l.defaultValue,change:c=>{l.selectData.map(d=>d.radio=!1),l.selectData.some(d=>{d.value==c&&(d.radio=!0)})}},null),t(le,{option:l.inputBoxPlaceholder},null)]}),t(r("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[t("div",{class:"elCollapseItem"},[y("数据")]),t("div",{class:"selectDataList",ref:n},[l.selectData.map((c,d)=>t("div",{class:"elCollapseItem"},[t("div",{class:"selectData"},[t("i",{class:"icon iconfont icon-drag selectDataDrag"},null),t("input",{class:"selectData-radio",type:"radio",value:"true",name:"defaultValue",title:"默认选中",checked:c.radio,onChange:h=>{l.selectData.forEach(s=>s.radio=!1),c.radio=!0,l.defaultValue.value=c.value}},null),t(U,{modelValue:c.value,"onUpdate:modelValue":h=>c.value=h,placeholder:"请输入选项的值"},null),t("div",{class:"selectData-menu",onClick:h=>{h.stopPropagation(),l.selectData.forEach(s=>s.isShow=!1),c.isShow=!0}},[t("i",{class:"icon iconfont icon-caidan"},null),H(t("div",{class:"selectData-menu-dropdown"},[H(t("span",{onClick:h=>{h.stopPropagation(),c.isShow=!1,c.radio=!1}},[y("取消勾选")]),[[ee,c.radio]]),t("span",{onClick:h=>{h.stopPropagation(),c.isShow=!1,l.selectData.length>1?l.selectData.splice(d,1):me.warning({message:"最后一项不可删除",duration:2e3})}},[y("删除")])]),[[ee,c.isShow]])])])]))]),t("div",{class:"elCollapseItem selectDataList-footer"},[t(dt,{plain:!0,onClick:i},{default:()=>[y("添加选项")]}),t(dt,{plain:!0},{default:()=>[y("批量添加")]})])]})]})])}}),uo=I({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=V({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:n}=e.option.style.input.width;n=="80px"?l.inputBoxSize.value="极小":n=="160px"?l.inputBoxSize.value="小":n=="240px"?l.inputBoxSize.value="中":n=="320px"&&(l.inputBoxSize.value="大")}})(),te(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width}),()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{label:"布局",setting:l.layout},null),t(ae,{label:"输入框尺寸",setting:l.inputBoxSize},null)]}),t(r("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(de,{option:l.titleType},null)]}),t(r("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(de,{option:l.inputBoxType},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),ro=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},inputType:{value:"文本",options:[{value:"文本"},{value:"密码"},{value:"邮箱"}]},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return e.option.inputType&&(e.option.inputType=="text"&&(l.inputType.value="文本"),e.option.inputType=="password"&&(l.inputType.value="密码"),e.option.inputType=="email"&&(l.inputType.value="邮箱")),te(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(i=>{l[i].value!=""?e.option[i]=l[i].value:delete e.option[i]}),l.inputType.value!=""?l.inputType.value=="文本"?e.option.inputType="text":l.inputType.value=="密码"?e.option.inputType="password":e.option.inputType="email":delete e.option.inputType}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{option:l.bindingField},null),t(ae,{label:"输入类型",setting:l.inputType},null),t(le,{option:l.title},null),t(oe,{option:l.clearable},null),t(le,{option:l.inputBoxPlaceholder},null)]})]})])}}),co=I({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=V({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},rows:{minRows:{label:"最小展示行数",value:e.option.autosize.minRows,min:1,max:99},maxRows:{label:"最大展示行数",value:e.option.autosize.maxRows,min:1,max:99}},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:n}=e.option.style.input.width;n=="80px"?l.inputBoxSize.value="极小":n=="160px"?l.inputBoxSize.value="小":n=="240px"?l.inputBoxSize.value="中":n=="320px"&&(l.inputBoxSize.value="大")}})(),te(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width,e.option.autosize.minRows=l.rows.minRows.value,e.option.autosize.maxRows=l.rows.maxRows.value}),()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{label:"布局",setting:l.layout},null),t(ae,{label:"输入框尺寸",setting:l.inputBoxSize},null),t(Ue,{option:l.rows.minRows},null),t(Ue,{option:l.rows.maxRows},null)]}),t(r("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(de,{option:l.titleType},null)]}),t(r("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(de,{option:l.inputBoxType},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),po=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return te(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(i=>{l[i].value!=""?e.option[i]=l[i].value:delete e.option[i]})}),()=>t(A,null,[t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{option:l.bindingField},null),t(le,{option:l.title},null),t(oe,{option:l.clearable},null),t(le,{option:l.inputBoxPlaceholder},null)]})]})])}}),fo=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(r("elCollapse"),{modelValue:a},{default:()=>[t(r("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(de,{option:l},null)]}),t(r("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),vo=I({props:{option:{type:Object}},setup(){const e=["basic"],a=V({leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"}});return()=>t(A,null,[t(r("elCollapse"),{modelValue:e},{default:()=>[t(r("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(et,{label:"修改图标",setting:a.leftIconSelect},null)]})]})])}}),mo=[{type:"container-ordinary",Properties(e){return t(Jn,{option:e},null)},appearances(e){return t(Xn,{option:e},null)}},{type:"container-free",Properties(e){return t(Gn,{option:e},null)},appearances(e){return t(Qn,{option:e},null)}},{type:"text",Properties(e){return t(eo,{option:e},null)},appearances(e){return t(Zn,{option:e},null)}},{type:"button",Properties(e){return t(lo,{option:e},null)},appearances(e){return t(to,{option:e},null)}},{type:"input",Properties(e){return t(no,{option:e},null)},appearances(e){return t(ao,{option:e},null)}},{type:"select",Properties(e){return t(so,{option:e},null)},appearances(e){return t(io,{option:e},null)}},{type:"textBox",Properties(e){return t(ro,{option:e},null)},appearances(e){return t(uo,{option:e},null)}},{type:"multilineText",Properties(e){return t(po,{option:e},null)},appearances(e){return t(co,{option:e},null)}},{type:"icon",Properties(e){return t(vo,{option:e},null)},appearances(e){return t(fo,{option:e},null)}}];class ho{constructor(a=new Map){this.componentMap=a}register(a){this.componentMap.set(a.type,a)}}const Et=new ho;for(let e of mo)Et.register({type:e.type,Properties:a=>e.Properties(a),appearances:a=>e.appearances(a)});const yo=I({props:{EditorData:Object},setup(e){return()=>t("div",{class:"EditorPreview"},[t("div",{id:"body",style:e.EditorData.style},[Ya("page")]),t("div",{class:"EditorPreview-leftMessage"},[y("按ESC可退出预览")])])}});function go(){let e={},a=[],l=pe(W),n=xe(W);const i=[{name:"copy",keyboard:"ctrl+c",execute(){return console.log("复制"),{redo(){l.copyData=n.selectKey}}}},{name:"paste",keyboard:"ctrl+v",pushQueue:!0,execute(){var S;l.menuConfig.key++;let h=l.copyData,s=l.wantCopy,C=((S=l.EditorDataMap.get(s))==null?void 0:S.parent)||"page",u=l.EditorDataMap.get(C).children.findIndex(N=>N==s),m=l.EditorDataMap.get(h),p=[];return{redo(){function N(x,M,R){R.parent=M;let B=pt(x.replace(/-[^-]*$/,""),re(R));return p.push(B),Array.isArray(R.children)&&(l.EditorDataMap.get(B).children=R.children.map(F=>N(F,B,l.EditorDataMap.get(F)))),B}l.EditorDataMap.get(C).children.splice(u+1,0,N(h,C,m)),l.menuConfig.key++},undo(){l.EditorDataMap.get(C).children.splice(u+1,1),p.forEach(N=>{l.EditorDataMap.delete(N)}),l.menuConfig.key--}}}},{name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let h=l.queue[l.curPointerTo+1];return h?(h.redo&&h.redo(),l.curPointerTo++,!0):!1}}}},{name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(l.curPointerTo==-1)return;let h=l.queue[l.curPointerTo];return h?(h.undo&&h.undo(),l.curPointerTo--,!0):!1}}}},{name:"shear",keyboard:"ctrl+x",pushQueue:!0,execute(){var u;l.copyData=n.selectKey;let h=n.selectKey,s=((u=l.EditorDataMap.get(h))==null?void 0:u.parent)||"page",C=l.EditorDataMap.get(s).children.findIndex(m=>m==h);return n.isDrag&&n.destructionOfDrag(),{redo(){l.EditorDataMap.get(s).children.splice(C,1),l.menuConfig.key++},undo(){l.EditorDataMap.get(s).children.splice(C,0,h),l.menuConfig.key--}}}},{name:"save",keyboard:"ctrl+s",execute(){return{async redo(){var s;l.isLoading=!0,l.setEditorData(),Ke("title",l.title),Ke("data",l.EditorData),((s=(await Xa({jsonData:JSON.stringify(l.EditorData),id:Be("id"),title:l.title})).data)==null?void 0:s.code)==200&&(l.isLoading=!1,l.isNeedSave=!1,l.isSucessSave=!0,me.success({message:"保存成功",duration:2e3}))}}}},{name:"removeSave",keyboard:"ctrl+delete",execute(){return{redo(){localStorage.removeItem("title"),localStorage.removeItem("data"),me.success({message:"清除保存数据成功",duration:2e3})}}}},{name:"delete",keyboard:"delete",pushQueue:!0,execute(){var s;let h=l.wantDel;if(h){let C=((s=l.EditorDataMap.get(h))==null?void 0:s.parent)||"page",u=l.EditorDataMap.get(C).children.findIndex(m=>m==h);return n.isDrag&&n.destructionOfDrag(),{redo(){l.EditorDataMap.get(C).children.splice(u,1),l.menuConfig.key++},undo(){l.EditorDataMap.get(C).children.splice(u,0,h),l.menuConfig.key--}}}else me.error("编辑区域根节点不能删除！")}},{name:"preview",keyboard:"ctrl+p",execute(){return{redo(){l.isPreview||(l.setEditorData(),l.isPreview=!0,me.success({message:"已进入预览模式",duration:2e3}))}}}},{name:"exitPreview",keyboard:"esc",execute(){return{redo(){l.isPreview&&(l.isPreview=!1,me.success({message:"已退出预览模式",duration:1e3}))}}}},{name:"export",keyboard:"ctrl+e",execute(){return{redo(){}}}},{name:"clone",pushQueue:!0,init(){this.before=null;const h=()=>this.before=re(l.EditorData),s=()=>e.clone();return ze.on("cloneStart",h),ze.on("cloneEnd",s),()=>{ze.off("cloneStart",h),ze.off("cloneEnd",s)}},execute(){var p;let h=n.selectParent,s=n.selectedMaterial,C=re(n.selectedMaterial.defaultData),u=(p=l.EditorDataMap.get(h))==null?void 0:p.children.length,m=null;return{redo(){var S;m=pt(s.type,{...C,parent:h}),(S=l.EditorDataMap.get(h))==null||S.children.push(m),l.menuConfig.key++},undo(){var S;(S=l.EditorDataMap.get(h))==null||S.children.splice(u,1),l.EditorDataMap.delete(m),l.menuConfig.key--}}}}],f={67:"c",86:"v",90:"z",89:"y",88:"x",83:"s",46:"delete",80:"p",27:"esc",69:"e"},c=h=>{e[h.name]=()=>{if(n.isDraging)return;const{redo:s,undo:C}=h.execute();s(),h.pushQueue&&(l.queue.length>0&&(l.queue=l.queue.slice(0,l.curPointerTo+1),l.queue=l.queue),l.queue.push({redo:s,undo:C}),l.curPointerTo+=1)}},d=(()=>{const h=s=>{const{ctrlKey:C,keyCode:u}=s;let m=[];C&&m.push("ctrl"),m.push(f[u]);let p=m.join("+");i.forEach(({keyboard:S,name:N})=>{if(S&&S===p){if(p=="delete"?l.wantDel&&e[N]():e[N](),p=="ctrl+s"?l.isNeedSave=!1:(l.isLoading=!1,l.isSucessSave=!1,l.isNeedSave=!0),["c","v","x"].includes(f[u])&&!n.isDrag)return;s.preventDefault()}})};return()=>(window.addEventListener("keydown",h),()=>{window.removeEventListener("keydown",h)})})();return a.push(d()),i.forEach(h=>{c(h),h.init&&a.push(h.init())}),qe(()=>{a.forEach(h=>h&&h())}),{commands:e}}const Ye=e=>(lt("data-v-398e99f3"),e=e(),tt(),e),bo={class:"editor"},xo={class:"editor-header"},Co={class:"editor-header-left"},wo=Ye(()=>_("i",{class:"icon iconfont icon-fanhui"},null,-1)),So=[wo],Eo=Ye(()=>_("h2",null,"codeFlow",-1)),ko={class:"editor-header-mid"},Do={class:"isSave"},Vo={key:0,class:"svg"},Io=gt('<svg class="circle" viewBox="0 0 1024 1024" data-v-398e99f3><circle class="loading-circle" cx="512" cy="512" r="330" fill="none" stroke="url(#gradient)" stroke-width="60" data-v-398e99f3></circle><defs data-v-398e99f3><linearGradient id="gradient" data-v-398e99f3><stop offset="0%" stop-color="#ffffff" data-v-398e99f3></stop><stop offset="18%" stop-color="#ffffff" data-v-398e99f3></stop><stop offset="18%" stop-color="#000000" data-v-398e99f3></stop><stop offset="100%" stop-color="#000000" data-v-398e99f3></stop></linearGradient></defs></svg>',1),Lo=[Io],_o={class:"editor-header-right"},Bo=Ye(()=>_("i",{class:"icon iconfont icon-jianpan"},null,-1)),Fo=[Bo],Ao=Ye(()=>_("div",{class:"editor-header-right-avatar"},[_("img",{src:qa,alt:"user"})],-1)),Mo={class:"editor-body"},Po={class:"editor-body-left"},To={class:"editor-body-container"},jo={class:"editor-body-container-top"},Oo={class:"el-breadcrumb-button"},No={class:"editor-body-container-content"},Ro={class:"editor-body-container-content_inner",ref:"editArea"},zo={class:"editor-body-right"},$o={class:"shortcuts"},Ko={class:"shortcuts-key"},Uo=I({__name:"editor",setup(e){Ge("editorConfig",Ze),Ge("erConfig",Et);const a=pe(W),l=xe(W);a.title=Be("title")?Be("title"):"新项目",a.EditorData=Be("data")?Be("data"):V(Ja),a.setMap();const{commands:n}=go(),i=V({dialogIsShow:!1}),f=Ve(null),c=Ve(!1),d=u=>{c.value=!1,u.trim()==""&&(f.value.focus(),me.warning({message:"标题不能为空",duration:1e3}))};X(()=>a.title,u=>{u.trim()==""&&me.warning({message:"标题不能为空",duration:1e3})});const h=[{label:"复制",key:"Ctrl+C"},{label:"粘贴",key:"Ctrl+V"},{label:"撤销",key:"Ctrl+Z"},{label:"还原",key:"Ctrl+Y"},{label:"剪切",key:"Ctrl+X"},{label:"保存",key:"Ctrl+S"},{label:"删除",key:"Delete"},{label:"预览",key:"Ctrl+P"},{label:"退出预览",key:"ESC"},{label:"导出",key:"Ctrl+E"}],s=u=>{let m=!1;const p=S=>{let N=a.EditorDataMap.get(S),x=Ze.componentMap.get(N.type).label;a.Breadcrumb.push(x);let M=a.EditorDataMap.get(S).children;if(Array.isArray(M))for(let R=0;R<M.length&&!m;R++)p(M[R]);else if(S==l.selectKey){m=!0;return}else{a.Breadcrumb.pop();return}};if(Array.isArray(u))for(let S=0;S<u.length&&!m;S++)a.Breadcrumb=["页面"],p(u[S])};X(()=>l.selectKey,()=>{a.wantDel=l.selectKey,a.wantCopy=l.selectKey,l.selectKey!="page"?s(a.EditorDataMap.get("page").children):a.Breadcrumb=["页面"]});const C=V({icon:"icon-duigouzhong",context:"所有更改已保存"});return X(()=>a.isSucessSave,u=>{u&&(console.log("保存成功"),C.icon="icon-duigouzhong",C.context="已保存")}),X(()=>a.isNeedSave,u=>{u&&(C.icon="icon-weixuanzhong",C.context="未保存")}),X(()=>a.isLoading,u=>{u&&(C.icon="icon-weixuanzhong",C.context="正在保存")}),X(()=>a.menuConfig.selectKey,u=>{u==="page"?(console.log("根节点"),a.menuConfig.isShow.makeACopy=!0,a.menuConfig.isShow.copycomponents=!1,a.menuConfig.isShow.shearComponents=!0,a.menuConfig.isShow.pasteComponents=!0,a.menuConfig.isShow.delComponents=!0,a.menuConfig.isShow.moveForward=!0,a.menuConfig.isShow.moveBack=!0):(a.menuConfig.isShow.makeACopy=!1,a.menuConfig.isShow.copycomponents=!1,a.menuConfig.isShow.shearComponents=!1,a.menuConfig.isShow.pasteComponents=!1,a.menuConfig.isShow.delComponents=!1,a.queue.length<=0?(a.menuConfig.isShow.undo=!0,a.menuConfig.isShow.redo=!0):(a.menuConfig.isShow.undo=!1,a.menuConfig.isShow.redo=!1))}),document.addEventListener("click",()=>{console.log("document click 关闭菜单"),a.menuConfig.isShowMenu=!1}),document.oncontextmenu=function(){console.log("全局右击事件"),a.menuConfig.isShowMenu=!1},function(){Object.defineProperty(document,"oncontextmenu",{set:function(u){return u}})}(),(u,m)=>{const p=r("el-breadcrumb-item"),S=r("el-breadcrumb"),N=r("el-dialog");return j(),J(A,null,[H(_("div",bo,[_("header",xo,[_("div",Co,[_("span",{class:"editor-header-left-exit",onClick:m[0]||(m[0]=x=>u.$router.go(-1))},So),Eo]),_("div",ko,[_("div",{class:Ae(["editor-header-mid-title",{active:c.value}])},[H(_("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=x=>D(a).title=x),ref_key:"editorTitle",ref:f,onBlur:m[2]||(m[2]=x=>d(D(a).title)),onFocus:m[3]||(m[3]=x=>c.value=!0)},null,544),[[nt,D(a).title]]),_("div",Do,[D(a).isLoading?(j(),J("div",Vo,Lo)):fe("",!0),D(a).isLoading?fe("",!0):(j(),J("i",{key:1,class:Ae(["icon iconfont",C.icon])},null,2)),_("span",null,De(C.context),1)])],2)]),_("div",_o,[_("div",{class:"editor-header-right-shortcut",onClick:m[4]||(m[4]=x=>i.dialogIsShow=!0)},Fo),_("div",{class:"editor-header-right-btn",onClick:m[5]||(m[5]=x=>D(n).preview())}," 预览 "),_("div",{class:"editor-header-right-btn",onClick:m[6]||(m[6]=x=>D(n).export())}," 导出 "),t(D(Wa),{placement:"bottom",width:200,trigger:"click"},{reference:ke(()=>[Ao]),default:ke(()=>[t(D(Qa))]),_:1})])]),_("section",Mo,[_("div",Po,[t(Bn)]),_("div",To,[_("div",jo,[t(S,{separator:">"},{default:ke(()=>[(j(!0),J(A,null,Me(D(a).Breadcrumb,x=>(j(),ce(p,{onClick:m[7]||(m[7]=()=>{console.log(1)})},{default:ke(()=>[_("span",Oo,De(x),1)]),_:2},1024))),256))]),_:1})]),_("div",No,[_("div",Ro,[t(D(qn),{EditorData:D(a).EditorDataMap},null,8,["EditorData"])],512)])]),_("div",zo,[t(Un,{EditorData:D(a).EditorDataMap},null,8,["EditorData"])])])],512),[[ee,!D(a).isPreview]]),D(a).isPreview?(j(),ce(D(yo),{key:0,EditorData:D(a).EditorData},null,8,["EditorData"])):fe("",!0),t(N,{title:"快捷键",modelValue:i.dialogIsShow,"onUpdate:modelValue":m[8]||(m[8]=x=>i.dialogIsShow=x),width:"30%"},{default:ke(()=>[_("ul",$o,[(j(),J(A,null,Me(h,x=>_("li",{key:x.key},[_("label",null,De(x.label),1),_("div",Ko,De(x.key),1)])),64))])]),_:1},8,["modelValue"]),t(D(Yn),{selectComponent:D(Ga),unselectComponent:D(Za),makeACopy:D(en),copycomponents:D(tn),shearComponents:D(ln),delComponents:D(an),pasteComponents:D(nn),moveForward:D(on),moveBack:D(sn),undo:D(un),redo:D(rn),commands:D(n)},null,8,["selectComponent","unselectComponent","makeACopy","copycomponents","shearComponents","delComponents","pasteComponents","moveForward","moveBack","undo","redo","commands"])],64)}}});const Xo=Ne(Uo,[["__scopeId","data-v-398e99f3"]]);export{Xo as default};
