var Ct=Object.defineProperty;var wt=(e,a,l)=>a in e?Ct(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var re=(e,a,l)=>(wt(e,typeof a!="symbol"?a+"":a,l),l);import{B as St,j as Et,C as Dt,k as Vt,F as T,K as kt,R as Lt,S as It,l as _t,T as Bt,m as At,n as Pt,q as Ft,V as Mt,v as Tt,x as jt,y as Nt,z as Ot,A as Rt,D as zt,G as $t,H as Ut,I as Kt,f as fe,g as de,c as ne,b as k,J as Ht,L as Wt,M as Yt,N as Xt,O as Jt,P as vt,Q as C,d as t,U as qt,W as Qt,X as L,Y as Gt,Z as Zt,_ as el,$ as tl,a0 as ll,a1 as al,a2 as nl,a3 as il,a4 as ol,a5 as sl,a6 as ul,a7 as rl,a8 as cl,a9 as dl,aa as pl,ab as fl,ac as vl,ad as hl,ae as ml,af as bl,ag as yl,ah as ke,ai as gl,aj as xl,ak as Cl,al as wl,am as Sl,an as El,ao as Dl,ap as Fe,aq as Vl,ar as kl,as as Ll,at as Il,au as _l,av as Pe,aw as Bl,ax as Al,ay as Pl,az as Fl,aA as Ml,aB as Tl,aC as jl,aD as Nl,aE as He,aF as Ol,aG as Rl,aH as zl,aI as $l,aJ as We,aK as Ul,o as U,aL as et,aM as Ge,aN as Kl,aO as tt,aP as Hl,r as V,aQ as Wl,a as Ve,aR as Yl,aS as Xl,aT as Ne,aU as Jl,aV as f,aW as ql,aX as Ql,aY as Gl,aZ as Zl,a_ as ea,a$ as ta,b0 as la,b1 as aa,b2 as na,b3 as ia,b4 as oa,b5 as sa,b6 as ua,t as De,b7 as ra,b8 as ca,b9 as da,ba as pa,bb as fa,bc as va,bd as ha,be as ma,u as j,bf as ba,bg as ya,bh as ga,bi as xa,bj as Ca,bk as wa,bl as Sa,bm as Ea,bn as Da,bo as Va,bp as ka,bq as lt,br as ee,bs as La,bt as Ia,bu as G,bv as Z,bw as _a,bx as Ba,by as Aa,w as _e,bz as Pa,bA as X,bB as Fa,bC as Ma,bD as Ta,bE as ja,bF as Be,bG as $e,bH as Na,bI as Oa,bJ as Ra,p as H,i as ge,e as K,bK as za,bL as $a,bM as ut,bN as rt,bO as Ua}from"./index-247f559f.js";import{m as xe,d as se,a as ct,_ as Ka}from"./userStore-9d095d1f.js";import{u as Ae,d as ve,B as ht,e as ye,m as mt,a as Ue,b as Ha,c as Re,f as Wa,P as Ya,g as dt}from"./home-f3cdafe4.js";const Xa=()=>{},Ja=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:St,BaseTransitionPropsValidators:Et,Comment:Dt,EffectScope:Vt,Fragment:T,KeepAlive:kt,ReactiveEffect:Lt,Static:It,Suspense:_t,Teleport:Bt,Text:At,Transition:Pt,TransitionGroup:Ft,VueElement:Mt,assertNumber:Tt,callWithAsyncErrorHandling:jt,callWithErrorHandling:Nt,camelize:Ot,capitalize:Rt,cloneVNode:zt,compatUtils:$t,compile:Xa,computed:Ut,createApp:Kt,createBlock:fe,createCommentVNode:de,createElementBlock:ne,createElementVNode:k,createHydrationRenderer:Ht,createPropsRestProxy:Wt,createRenderer:Yt,createSSRApp:Xt,createSlots:Jt,createStaticVNode:vt,createTextVNode:C,createVNode:t,customRef:qt,defineAsyncComponent:Qt,defineComponent:L,defineCustomElement:Gt,defineEmits:Zt,defineExpose:el,defineModel:tl,defineOptions:ll,defineProps:al,defineSSRCustomElement:nl,defineSlots:il,get devtools(){return ol},effect:sl,effectScope:ul,getCurrentInstance:rl,getCurrentScope:cl,getTransitionRawChildren:dl,guardReactiveProps:pl,h:fl,handleError:vl,hasInjectionContext:hl,hydrate:ml,initCustomFormatter:bl,initDirectivesForSSR:yl,inject:ke,isMemoSame:gl,isProxy:xl,isReactive:Cl,isReadonly:wl,isRef:Sl,isRuntimeOnly:El,isShallow:Dl,isVNode:Fe,markRaw:Vl,mergeDefaults:kl,mergeModels:Ll,mergeProps:Il,nextTick:_l,normalizeClass:Pe,normalizeProps:Bl,normalizeStyle:Al,onActivated:Pl,onBeforeMount:Fl,onBeforeUnmount:Ml,onBeforeUpdate:Tl,onDeactivated:jl,onErrorCaptured:Nl,onMounted:He,onRenderTracked:Ol,onRenderTriggered:Rl,onScopeDispose:zl,onServerPrefetch:$l,onUnmounted:We,onUpdated:Ul,openBlock:U,popScopeId:et,provide:Ge,proxyRefs:Kl,pushScopeId:tt,queuePostFlushCb:Hl,reactive:V,readonly:Wl,ref:Ve,registerRuntimeCompiler:Yl,render:Xl,renderList:Ne,renderSlot:Jl,resolveComponent:f,resolveDirective:ql,resolveDynamicComponent:Ql,resolveFilter:Gl,resolveTransitionHooks:Zl,setBlockTracking:ea,setDevtoolsHook:ta,setTransitionHooks:la,shallowReactive:aa,shallowReadonly:na,shallowRef:ia,ssrContextKey:oa,ssrUtils:sa,stop:ua,toDisplayString:De,toHandlerKey:ra,toHandlers:ca,toRaw:da,toRef:pa,toRefs:fa,toValue:va,transformVNodeArgs:ha,triggerRef:ma,unref:j,useAttrs:ba,useCssModule:ya,useCssVars:ga,useModel:xa,useSSRContext:Ca,useSlots:wa,useTransitionState:Sa,vModelCheckbox:Ea,vModelDynamic:Da,vModelRadio:Va,vModelSelect:ka,vModelText:lt,vShow:ee,version:La,warn:Ia,watch:G,watchEffect:Z,watchPostEffect:_a,watchSyncEffect:Ba,withAsyncContext:Aa,withCtx:_e,withDefaults:Pa,withDirectives:X,withKeys:Fa,withMemo:Ma,withModifiers:Ta,withScopeId:ja},Symbol.toStringTag,{value:"Module"}));const at=L({props:{search:{type:Object}},setup(e){const a=Ve(null),l=V({searchList:Be(e.search.searchKey)||[],inputIsFocus:!1}),o=()=>{l.inputIsFocus=!0},n=()=>{l.inputIsFocus=!1};window.addEventListener("click",n),We(()=>{window.removeEventListener("click",n)});const u=()=>{if(e.search.value.trim()!=""){let c=l.searchList.findIndex(v=>v==e.search.value);c>=0&&l.searchList.splice(c,1),l.searchList.unshift(e.search.value),$e(e.search.searchKey,l.searchList)}},d=()=>{l.searchList=[],localStorage.removeItem(e.search.searchKey)},r=(c,v)=>{v.stopPropagation(),l.searchList.splice(c,1),$e(e.search.searchKey,l.searchList)},S=c=>{n(),e.search.value=c,u()};return G(()=>e.search.value,c=>{c==""?o():n()}),()=>t("div",{class:"el-search",onClick:c=>{c.stopPropagation()}},[t("div",{class:[l.inputIsFocus?"el-search-input-focus":"","el-search-input"]},[X(t("input",{ref:a,type:"text",placeholder:e.search.placeholder,onFocus:o,onChange:u,"onUpdate:modelValue":c=>e.search.value=c},null),[[lt,e.search.value]]),t("span",null,[t("i",{class:["icon iconfont",e.search.value?"icon-cha":"icon-search"],onClick:c=>e.search.value=""},null)])]),l.inputIsFocus&&t("div",{class:"el-search-content",onClick:()=>{}},[l.searchList.length!=0&&t("div",{class:"el-search-content-history"},[t("div",{class:"el-search-content-history-header"},[t("span",null,[C("搜索历史")]),t("span",{onClick:d},[C("清空")])]),t("div",{class:"el-search-content-history-list"},[t("ul",null,[l.searchList.map((c,v)=>t("li",{onClick:s=>S(c)},[t("span",null,[c]),t("i",{class:"icon iconfont icon-guanbi",onClick:s=>r(v,s)},null)]))])])]),t("div",{class:"el-search-content-default"},[t("div",{class:"el-search-content-default-header"},[t("span",null,[e.search.searchDefault.label])]),t("div",{class:"el-search-content-default-list"},[t("ul",null,[e.search.searchDefault.list.map(c=>t("li",{onClick:v=>S(c)},[t("span",null,[c])]))])])])])])}}),qa=L({props:{EditorData:Object},setup(){const e=ke("editorConfig"),a=V({search:{value:"",searchKey:"componentSearch",searchDefault:{label:"组件分类",list:["布局容器","常用组件","表单"]},placeholder:"查找组件"},componentList:{container:{label:"布局容器",list:[],hidden:!1},common:{label:"常用组件",list:[],hidden:!1},form:{label:"表单",list:[],hidden:!1}},activeName:V(["layoutContainer","commonComponents","form"])});return e.componentList.map(l=>{switch(l.category){case"container":a.componentList.container.list.push(l);break;case"common":a.componentList.common.list.push(l);break;case"form":a.componentList.form.list.push(l);break}}),G(()=>a.search.value,l=>{if(l=="")for(let o of Object.keys(a.componentList))a.componentList[o].list.filter(n=>{n.display=!0}),a.componentList[o].hidden=!1;else for(let o of Object.keys(a.componentList))if(a.componentList[o].label.indexOf(l)>=0)a.componentList[o].list.filter(n=>{n.display=!0});else{let n=a.componentList[o].list.length;a.componentList[o].list.map(u=>{u.label.indexOf(l)>=0?u.display=!0:(u.display=!1,n--)}),a.componentList[o].hidden=n==0}}),()=>t("div",{class:"ElComponent"},[t("div",{class:"ElComponent-top"},[t(at,{search:a.search},null)]),t("div",{class:"ElComponent-list"},[t(f("elCollapse"),{modelValue:a.activeName,"onUpdate:modelValue":l=>a.activeName=l},{default:()=>[!a.componentList.container.hidden&&t(f("elCollapseItem"),{title:"布局容器",name:"layoutContainer"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.container.list.map(l=>l.display&&t("div",{onMousedown:o=>Ae.cloneMousedown(l,o)},[l.preview()]))])]}),!a.componentList.common.hidden&&t(f("elCollapseItem"),{title:"常用组件",name:"commonComponents"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.common.list.map(l=>l.display&&t("div",{onMousedown:o=>Ae.cloneMousedown(l,o)},[l.preview()]))])]}),!a.componentList.form.hidden&&t(f("elCollapseItem"),{title:"表单",name:"form"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.form.list.map(l=>l.display&&t("div",{onMousedown:o=>Ae.cloneMousedown(l,o)},[l.preview()]))])]})]})])])}});const Qa=L({props:{EditorData:Object},setup(){const e=ke("editorConfig"),a=V({search:{value:"",searchKey:"iconSearch",searchDefault:{label:"图标分类",list:["用户","关闭","哈哈哈"]},placeholder:"查找图标"},color:"#000",fontSize:16,iconList:e.iconList});return G(()=>a.search.value,l=>{if(l=="")for(let o of a.iconList)o.display=!0;else for(let o of a.iconList)o.label.indexOf(l)>=0?o.display=!0:o.display=!1}),()=>t("div",{class:"ElIcon"},[t("div",{class:"ElIcon-top"},[t(at,{search:a.search},null)]),t("div",{class:"ElIcon-comfig"},[t(f("el-color-picker"),{modelValue:a.color,"onUpdate:modelValue":l=>a.color=l},null),t(f("el-input-number"),{modelValue:a.fontSize,"onUpdate:modelValue":l=>a.fontSize=l,"controls-position":"right",min:12,"data-unit":"px"},null)]),t("div",{class:"ElIcon-list"},[a.iconList.map(l=>l.display&&t("div",{onMousedown:o=>{l.defaultData.style.fontSize=`${a.fontSize}px`,l.defaultData.style.color=a.color,Ae.cloneMousedown(l,o)}},[l.preview()]))])])}});var bt={exports:{}};const Ga=Na(Ja);(function(e,a){(function(l,o){e.exports=o(Ga)})(Oa,function(l){return function(){var o={789:function(r){r.exports=l}},n={};function u(r){var S=n[r];if(S!==void 0)return S.exports;var c=n[r]={exports:{}};return o[r](c,c.exports,u),c.exports}u.d=function(r,S){for(var c in S)u.o(S,c)&&!u.o(r,c)&&Object.defineProperty(r,c,{enumerable:!0,get:S[c]})},u.o=function(r,S){return Object.prototype.hasOwnProperty.call(r,S)},u.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var d={};return function(){function r(i,y){(y==null||y>i.length)&&(y=i.length);for(var x=0,I=new Array(y);x<y;x++)I[x]=i[x];return I}function S(i,y){if(i){if(typeof i=="string")return r(i,y);var x=Object.prototype.toString.call(i).slice(8,-1);return x==="Object"&&i.constructor&&(x=i.constructor.name),x==="Map"||x==="Set"?Array.from(i):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?r(i,y):void 0}}function c(i){return function(y){if(Array.isArray(y))return r(y)}(i)||function(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}(i)||S(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(i,y,x){return y in i?Object.defineProperty(i,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):i[y]=x,i}u.r(d),u.d(d,{default:function(){return J}});var s=u(789),m=(0,s.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var i=this.data,y=this.onClick;return(0,s.createVNode)("span",{class:"vjs-tree-brackets",onClick:y},[i])}}),p=(0,s.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(i,y){var x=y.emit;return{uiType:(0,s.computed)(function(){return i.isMultiple?"checkbox":"radio"}),model:(0,s.computed)({get:function(){return i.checked},set:function(I){return x("update:modelValue",I)}})}},render:function(){var i=this.uiType,y=this.model,x=this.$emit;return(0,s.createVNode)("label",{class:["vjs-check-controller",y?"is-checked":""],onClick:function(I){return I.stopPropagation()}},[(0,s.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(i)},null),(0,s.createVNode)("input",{checked:y,class:"vjs-check-controller-original is-".concat(i),type:i,onChange:function(){return x("change",y)}},null)])}}),w=(0,s.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var i=this.nodeType,y=this.onClick,x=i==="objectStart"||i==="arrayStart";return x||i==="objectCollapsed"||i==="arrayCollapsed"?(0,s.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(x?"open":"close"),onClick:y},[(0,s.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,s.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function O(i){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},O(i)}function b(i){return Object.prototype.toString.call(i).slice(8,-1).toLowerCase()}function B(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,I=arguments.length>3?arguments[3]:void 0,q=I||{},oe=q.key,Ce=q.index,W=q.type,pe=W===void 0?"content":W,ae=q.showComma,we=ae!==void 0&&ae,he=q.length,Ee=he===void 0?1:he,Le=b(i);if(Le==="array"){var Me=R(i.map(function(ue,z,g){return B(ue,"".concat(y,"[").concat(z,"]"),x+1,{index:z,showComma:z!==g.length-1,length:Ee,type:pe})}));return[B("[",y,x,{showComma:!1,key:oe,length:i.length,type:"arrayStart"})[0]].concat(Me,B("]",y,x,{showComma:we,length:i.length,type:"arrayEnd"})[0])}if(Le==="object"){var Se=Object.keys(i),Te=R(Se.map(function(ue,z,g){return B(i[ue],/^[a-zA-Z_]\w*$/.test(ue)?"".concat(y,".").concat(ue):"".concat(y,'["').concat(ue,'"]'),x+1,{key:ue,showComma:z!==g.length-1,length:Ee,type:pe})}));return[B("{",y,x,{showComma:!1,key:oe,index:Ce,length:Se.length,type:"objectStart"})[0]].concat(Te,B("}",y,x,{showComma:we,length:Se.length,type:"objectEnd"})[0])}return[{content:i,level:x,key:oe,index:Ce,path:y,showComma:we,length:Ee,type:pe}]}function R(i){if(typeof Array.prototype.flat=="function")return i.flat();for(var y=c(i),x=[];y.length;){var I=y.shift();Array.isArray(I)?y.unshift.apply(y,c(I)):x.push(I)}return x}function _(i){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(i==null)return i;if(i instanceof Date)return new Date(i);if(i instanceof RegExp)return new RegExp(i);if(O(i)!=="object")return i;if(y.get(i))return y.get(i);if(Array.isArray(i)){var x=i.map(function(oe){return _(oe,y)});return y.set(i,x),x}var I={};for(var q in i)I[q]=_(i[q],y);return y.set(i,I),I}function A(i,y){var x=Object.keys(i);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(i);y&&(I=I.filter(function(q){return Object.getOwnPropertyDescriptor(i,q).enumerable})),x.push.apply(x,I)}return x}function P(i){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?A(Object(x),!0).forEach(function(I){v(i,I,x[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(x)):A(Object(x)).forEach(function(I){Object.defineProperty(i,I,Object.getOwnPropertyDescriptor(x,I))})}return i}var h={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},N=(0,s.defineComponent)({name:"TreeNode",props:P(P({},h),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(i,y){var x=y.emit,I=(0,s.computed)(function(){return b(i.node.content)}),q=(0,s.computed)(function(){return"vjs-value vjs-value-".concat(I.value)}),oe=(0,s.computed)(function(){return i.showDoubleQuotes?'"'.concat(i.node.key,'"'):i.node.key}),Ce=(0,s.computed)(function(){return i.selectableType==="multiple"}),W=(0,s.computed)(function(){return i.selectableType==="single"}),pe=(0,s.computed)(function(){return i.nodeSelectable(i.node)&&(Ce.value||W.value)}),ae=(0,s.reactive)({editing:!1}),we=function(z){var g,D,F=(D=(g=z.target)===null||g===void 0?void 0:g.value)==="null"?null:D==="undefined"?void 0:D==="true"||D!=="false"&&(D[0]+D[D.length-1]==='""'||D[0]+D[D.length-1]==="''"?D.slice(1,-1):typeof Number(D)=="number"&&!isNaN(Number(D))||D==="NaN"?Number(D):D);x("valueChange",F,i.node.path)},he=(0,s.computed)(function(){var z,g=(z=i.node)===null||z===void 0?void 0:z.content;return g===null?g="null":g===void 0&&(g="undefined"),I.value==="string"?'"'.concat(g,'"'):g+""}),Ee=function(){var z=i.renderNodeValue;return z?z({node:i.node,defaultValue:he.value}):he.value},Le=function(){x("bracketsClick",!i.collapsed,i.node.path)},Me=function(){x("iconClick",!i.collapsed,i.node.path)},Se=function(){x("selectedChange",i.node)},Te=function(){x("nodeClick",i.node),pe.value&&i.selectOnClickNode&&x("selectedChange",i.node)},ue=function(z){if(i.editable&&!ae.editing){ae.editing=!0;var g=function D(F){var $;F.target!==z.target&&(($=F.target)===null||$===void 0?void 0:$.parentElement)!==z.target&&(ae.editing=!1,document.removeEventListener("click",D))};document.removeEventListener("click",g),document.addEventListener("click",g)}};return function(){var z,g=i.node;return(0,s.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":i.showSelectController,"has-carets":i.showIcon,"is-highlight":i.highlightSelectedNode&&i.checked},onClick:Te,style:i.style},[i.showLineNumber&&(0,s.createVNode)("span",{class:"vjs-node-index"},[g.id+1]),i.showSelectController&&pe.value&&g.type!=="objectEnd"&&g.type!=="arrayEnd"&&(0,s.createVNode)(p,{isMultiple:Ce.value,checked:i.checked,onChange:Se},null),(0,s.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(g.level)).map(function(D,F){return(0,s.createVNode)("div",{key:F,class:{"vjs-indent-unit":!0,"has-line":i.showLine}},null)}),i.showIcon&&(0,s.createVNode)(w,{nodeType:g.type,onClick:Me},null)]),g.key&&(0,s.createVNode)("span",{class:"vjs-key"},[(z=i.renderNodeKey,z?z({node:i.node,defaultKey:oe.value||""}):oe.value),(0,s.createVNode)("span",{class:"vjs-colon"},[":".concat(i.showKeyValueSpace?" ":"")])]),(0,s.createVNode)("span",null,[g.type!=="content"&&g.content?(0,s.createVNode)(m,{data:g.content.toString(),onClick:Le},null):(0,s.createVNode)("span",{class:q.value,onClick:!i.editable||i.editableTrigger&&i.editableTrigger!=="click"?void 0:ue,onDblclick:i.editable&&i.editableTrigger==="dblclick"?ue:void 0},[i.editable&&ae.editing?(0,s.createVNode)("input",{value:he.value,onChange:we,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):Ee()]),g.showComma&&(0,s.createVNode)("span",null,[","]),i.showLength&&i.collapsed&&(0,s.createVNode)("span",{class:"vjs-comment"},[(0,s.createTextVNode)(" // "),g.length,(0,s.createTextVNode)(" items ")])])])}}});function E(i,y){var x=Object.keys(i);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(i);y&&(I=I.filter(function(q){return Object.getOwnPropertyDescriptor(i,q).enumerable})),x.push.apply(x,I)}return x}function M(i){for(var y=1;y<arguments.length;y++){var x=arguments[y]!=null?arguments[y]:{};y%2?E(Object(x),!0).forEach(function(I){v(i,I,x[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(x)):E(Object(x)).forEach(function(I){Object.defineProperty(i,I,Object.getOwnPropertyDescriptor(x,I))})}return i}var J=(0,s.defineComponent)({name:"Tree",props:M(M({},h),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(i,y){var x=y.emit,I=y.slots,q=(0,s.ref)(),oe=(0,s.computed)(function(){return B(i.data,i.rootPath)}),Ce=function(g){return oe.value.reduce(function(D,F){var $,Y=F.level>=g,Q=($=i.pathCollapsible)===null||$===void 0?void 0:$.call(i,F);return F.type!=="objectStart"&&F.type!=="arrayStart"||!Y&&!Q?D:M(M({},D),{},v({},F.path,1))},{})},W=(0,s.reactive)({translateY:0,visibleData:null,hiddenPaths:Ce(i.deep)}),pe=(0,s.computed)(function(){for(var g=null,D=[],F=oe.value.length,$=0;$<F;$++){var Y=M(M({},oe.value[$]),{},{id:$}),Q=W.hiddenPaths[Y.path];if(g&&g.path===Y.path){var me=g.type==="objectStart",Oe=M(M(M({},Y),g),{},{showComma:Y.showComma,content:me?"{...}":"[...]",type:me?"objectCollapsed":"arrayCollapsed"});g=null,D.push(Oe)}else{if(Q&&!g){g=Y;continue}if(g)continue;D.push(Y)}}return D}),ae=(0,s.computed)(function(){var g=i.selectedValue;return g&&i.selectableType==="multiple"&&Array.isArray(g)?g:[g]}),we=(0,s.computed)(function(){return!i.selectableType||i.selectOnClickNode||i.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),he=function(){var g=pe.value;if(i.virtual){var D,F=i.height/i.itemHeight,$=((D=q.value)===null||D===void 0?void 0:D.scrollTop)||0,Y=Math.floor($/i.itemHeight),Q=Y<0?0:Y+F>g.length?g.length-F:Y;Q<0&&(Q=0);var me=Q+F;W.translateY=Q*i.itemHeight,W.visibleData=g.filter(function(Oe,je){return je>=Q&&je<me})}else W.visibleData=g},Ee=function(){he()},Le=function(g){var D,F,$=g.path,Y=i.selectableType;if(Y==="multiple"){var Q=ae.value.findIndex(function(be){return be===$}),me=c(ae.value);Q!==-1?me.splice(Q,1):me.push($),x("update:selectedValue",me),x("selectedChange",me,c(ae.value))}else if(Y==="single"&&ae.value[0]!==$){var Oe=(D=ae.value,F=1,function(be){if(Array.isArray(be))return be}(D)||function(be,nt){var Ie=be==null?null:typeof Symbol<"u"&&be[Symbol.iterator]||be["@@iterator"];if(Ie!=null){var it,ot,Je=[],qe=!0,st=!1;try{for(Ie=Ie.call(be);!(qe=(it=Ie.next()).done)&&(Je.push(it.value),!nt||Je.length!==nt);qe=!0);}catch(xt){st=!0,ot=xt}finally{try{qe||Ie.return==null||Ie.return()}finally{if(st)throw ot}}return Je}}(D,F)||S(D,F)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],je=$;x("update:selectedValue",je),x("selectedChange",je,Oe)}},Me=function(g){x("nodeClick",g)},Se=function(g,D){if(g)W.hiddenPaths=M(M({},W.hiddenPaths),{},v({},D,1));else{var F=M({},W.hiddenPaths);delete F[D],W.hiddenPaths=F}},Te=function(g,D){i.collapsedOnClickBrackets&&Se(g,D),x("bracketsClick",g)},ue=function(g,D){Se(g,D),x("iconClick",g)},z=function(g,D){var F=_(i.data),$=i.rootPath;new Function("data","val","data".concat(D.slice($.length),"=val"))(F,g),x("update:data",F)};return(0,s.watchEffect)(function(){we.value&&function(g){throw new Error("[VueJSONPretty] ".concat(g))}(we.value)}),(0,s.watchEffect)(function(){pe.value&&he()}),(0,s.watch)(function(){return i.deep},function(g){g&&(W.hiddenPaths=Ce(g))}),function(){var g,D,F=(g=i.renderNodeKey)!==null&&g!==void 0?g:I.renderNodeKey,$=(D=i.renderNodeValue)!==null&&D!==void 0?D:I.renderNodeValue,Y=W.visibleData&&W.visibleData.map(function(Q){return(0,s.createVNode)(N,{key:Q.id,node:Q,collapsed:!!W.hiddenPaths[Q.path],showDoubleQuotes:i.showDoubleQuotes,showLength:i.showLength,checked:ae.value.includes(Q.path),selectableType:i.selectableType,showLine:i.showLine,showLineNumber:i.showLineNumber,showSelectController:i.showSelectController,selectOnClickNode:i.selectOnClickNode,nodeSelectable:i.nodeSelectable,highlightSelectedNode:i.highlightSelectedNode,editable:i.editable,editableTrigger:i.editableTrigger,showIcon:i.showIcon,showKeyValueSpace:i.showKeyValueSpace,renderNodeKey:F,renderNodeValue:$,onNodeClick:Me,onBracketsClick:Te,onIconClick:ue,onSelectedChange:Le,onValueChange:z,style:i.itemHeight&&i.itemHeight!==20?{lineHeight:"".concat(i.itemHeight,"px")}:{}},null)});return(0,s.createVNode)("div",{ref:q,class:{"vjs-tree":!0,"is-virtual":i.virtual},onScroll:i.virtual?Ee:void 0,style:i.showLineNumber?M({paddingLeft:"".concat(12*Number(oe.value.length.toString().length),"px")},i.style):i.style},[i.virtual?(0,s.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(i.height,"px")}},[(0,s.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(pe.value.length*i.itemHeight,"px")}},[(0,s.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(W.translateY,"px)")}},[Y])])]):Y])}}})}(),d}()})})(bt);var Za=bt.exports;const en=Ra(Za);const tn=e=>(tt("data-v-7aa8fc1a"),e=e(),et(),e),ln={class:"ElJsonViewer"},an=tn(()=>k("span",null,"源码",-1)),nn=L({__name:"ElJsonViewer",setup(e){const a=ve(H),l=xe(H);l.setEditorData();const o=()=>{const n=document.createElement("textarea");n.value=JSON.stringify(a.selectedComponent||l.EditorData),document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n),ge.success({message:"复制源码成功",duration:1e3})};return(n,u)=>(U(),ne("div",ln,[k("div",{class:"ElJsonViewer-top"},[an,k("i",{class:"icon iconfont icon-copy",onClick:o})]),t(j(en),{virtual:"",showIcon:"",showSelectController:"",height:820,data:j(a).selectedComponent||j(l).EditorData},null,8,["data"])]))}});const Ye=(e,a)=>{const l=e.__vccOpts||e;for(const[o,n]of a)l[o]=n;return l},on=Ye(nn,[["__scopeId","data-v-7aa8fc1a"]]),sn={class:"ElOutline"},un={class:"ElOutline-top"},rn={class:"ElOutline-content"},cn=L({__name:"ElOutline",setup(e){const a=ke("editorConfig"),l=xe(H),o=ve(H);let n=Ve(null);const u=(c,v=2)=>{let s=v||2,m=l.EditorDataMap.get(c).children;if(Array.isArray(m)){let p=[];return m.forEach((w,O)=>{let b=l.EditorDataMap.get(w),B=a.componentMap.get(b.type).label;p.push({id:s+O,"node-key":w,label:B,children:u(w,v+m.length)})}),p}else return[]},d=V({data:[{id:1,label:"页面","node-key":"page",children:u("page")}],defaultProps:{children:"children","node-key":"node-key",label:"label"},search:{value:"",searchKey:"componentSearch",searchDefault:{label:"常见组件节点标签",list:["页面","容器","输入框","按钮"]},placeholder:"输入关键字过滤组件节点标签"}}),r=c=>{console.log("change"),o.selectKey=c["node-key"]},S=(c,v)=>c?v.label.indexOf(c)!==-1:!0;return G(()=>o.selectKey,()=>{o.selectKey?n.value.setCurrentKey(o.selectKey,!1):(l.Breadcrumb=["页面"],n.value.setCurrentKey("page",!1))}),G(()=>d.search.value,()=>{n.value.filter(d.search.value)}),He(()=>{o.selectKey?n.value.setCurrentKey(o.selectKey,!1):(l.Breadcrumb=["页面"],n.value.setCurrentKey("page",!1))}),(c,v)=>{const s=f("el-tree");return U(),ne("div",sn,[k("div",un,[t(j(at),{search:d.search},null,8,["search"])]),k("div",rn,[t(s,{ref_key:"elOutlineTree",ref:n,class:"filter-tree",data:d.data,props:d.defaultProps,"filter-node-method":S,"node-key":"node-key","highlight-current":"","default-expand-all":"",onCurrentChange:r},null,8,["data","props"])])])}}});const dn=Ye(cn,[["__scopeId","data-v-a4d6c28a"]]),pn={class:"EditorLeft"},fn={class:"EditorLeft-nav"},vn=["onClick"],hn={class:"EditorLeft-content"},mn=L({__name:"EditorLeft",setup(e){const a=V([{label:"组件",icon:"icon iconfont icon-zujian",active:!0},{label:"图标",icon:"icon iconfont icon-xiaolian",active:!1},{label:"大纲",icon:"icon iconfont icon-list-outline",active:!1},{label:"代码",icon:"icon iconfont icon-daima",active:!1}]),l=o=>{a.forEach((n,u)=>{if(u==o){n.active=!0;return}n.active=!1})};return(o,n)=>(U(),ne("div",pn,[k("div",fn,[k("ul",null,[(U(!0),ne(T,null,Ne(a,(u,d)=>(U(),ne("li",{key:d,class:Pe({active:u.active}),onClick:r=>l(d)},[k("i",{class:Pe(u.icon)},null,2),k("span",null,De(u.label),1)],10,vn))),128))])]),k("div",hn,[a[0].active?(U(),fe(j(qa),{key:0})):de("",!0),a[1].active?(U(),fe(j(Qa),{key:1})):de("",!0),a[2].active?(U(),fe(dn,{key:2})):de("",!0),a[3].active?(U(),fe(on,{key:3})):de("",!0)])]))}});const bn=Ye(mn,[["__scopeId","data-v-9f7e1469"]]);const te=L({props:{option:{type:Object}},setup(e){return()=>{const a=(o,n,u)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(console.log(u),o==""?u[n]="0px":/^\d+$/.test(o)?u[n]=`${o}px`:/^\d+px$/.test(o)?u[n]=o:u[n]=u.oldValue)},l=(o,n)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(n.oldValue=o)};return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(K,{modelValue:e.option.value,"onUpdate:modelValue":o=>e.option.value=o,placeholder:e.option.placeholder?e.option.placeholder:"请输入内容",clearable:e.option.clearable,onBlur:()=>a(e.option.value,"value",e.option),onFocus:()=>l(e.option.value,e.option)},null)])}}});function yn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fe(e)}const le=L({props:{label:{type:String},setting:{type:Object},change:{type:Function}},setup(e){return()=>{let a;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.label]),t(f("el-select"),{modelValue:e.setting.value,"onUpdate:modelValue":l=>e.setting.value=l,filterable:e.setting.filterable?e.setting.filterable:!0,placeholder:e.setting.placeholder?e.setting.placeholder:"",onChange:l=>e.change&&e.change(l)},yn(a=e.setting.options.map(l=>t(f("el-option"),{key:l.value,value:l.value},null)))?a:{default:()=>[a]})])}}}),ie=L({props:{option:{type:Object}},setup(e){return()=>t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(f("el-switch"),{modelValue:e.option.value,"onUpdate:modelValue":a=>e.option.value=a},null)])}});function Qe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fe(e)}const ce=L({props:{option:{type:Object}},setup(e){const a=V({color:e.option.style.color?e.option.style.color:"rgba(0,0,0)",fontSize:e.option.style.fontSize?e.option.style.fontSize:"",fontWeight:e.option.style.fontWeight?e.option.style.fontWeight:"",lineHeight:e.option.style.lineHeight?e.option.style.lineHeight:"",fontFamily:e.option.style.fontFamily?e.option.style.fontFamily:"",oldValue:""}),l=[{value:"黑体"},{value:"宋体"},{value:"楷体"},{value:"微软雅黑"}],o=[{value:"normal"},{value:"bold"},{value:"bolder"},{value:"lighter"},{value:"100"},{value:"200"},{value:"300"},{value:"400"},{value:"500"},{value:"600"},{value:"700"},{value:"800"},{value:"900"}],n=[{value:"1.3倍"},{value:"1.5倍"},{value:"1.7倍"}];let u=V({value:e.option.style.backgroundColor?e.option.style.backgroundColor:"rgba(255, 255, 255,0)"});const d=V({isBorderActive:"border",borderValue:0,selectInputValue:"",showSelect:!1,color:"rgba(0,0,0)"}),r=_=>{d.isBorderActive=_,s(_)},S=_=>{d.borderValue=_},c=[{text:"——————",value:"solid",render:()=>t(T,null,[t("span",{class:"solidLine"},[C("————  ")]),t("span",null,[C(" 实线 ")])])},{text:"------------------",value:"dashed",render:()=>t(T,null,[t("span",{class:"dottedLine"},[C("----------   ")]),t("span",null,[C(" 虚线 ")])])},{text:"···················",value:"dotted",render:()=>t(T,null,[t("span",{class:"pointLine"},[C("···················  ")]),t("span",null,[C(" 点线 ")])])}],v=_=>{d.selectInputValue=_},s=_=>{if(console.log(e.option.style[_],_),e.option.style[_]){let A=e.option.style[_].match(/^(\d+px) (.*?) (.*?)$/);d.borderValue=parseInt(A[1].match(/^\d+/)[0]),c.forEach(P=>{P.value==A[2]&&(d.selectInputValue=P.text)}),d.color=A[3]}};s("border");const m=V([{label:"外边距(margin)",top:e.option.style.marginTop?e.option.style.marginTop:"0px",bottom:e.option.style.marginBottom?e.option.style.marginBottom:"0px",left:e.option.style.marginLeft?e.option.style.marginLeft:"0px",right:e.option.style.marginRight?e.option.style.marginRight:"0px",oldValue:""},{label:"内边距(padding)",top:e.option.style.paddingTop?e.option.style.paddingTop:"0px",bottom:e.option.style.paddingBottom?e.option.style.paddingBottom:"0px",left:e.option.style.paddingLeft?e.option.style.paddingLeft:"0px",right:e.option.style.paddingRight?e.option.style.paddingRight:"0px",oldValue:""}]),p=V({isRadiusAllActive:!0,isRadiusSelfActive:!1,tipIsshow:!1,tip:"",radiusValue:"",radiusTLValue:"",radiusTRValue:"",radiusBLValue:"",radiusBRValue:"",oldValue:""}),w=()=>{const{radiusTLValue:_,radiusTRValue:A,radiusBLValue:P,radiusBRValue:h}=p;p.tip=`${_||"0px"} ${A||"0px"} ${P||"0px"} ${h||"0px"}`},O=()=>{const{borderRadius:_,borderTopLeftRadius:A,borderTopRightRadius:P,borderBottomLeftRadius:h,borderBottomRightRadius:N}=e.option.style;if(_&&(p.radiusValue=_,p.radiusTLValue=p.radiusTRValue=p.radiusBLValue=p.radiusBRValue=_,p.tipIsshow=!1),A||P||h||N){let E=`${A||"0px"} ${P||"0px"} ${h||"0px"} ${N||"0px"}`;p.tip=E,p.tipIsshow=!0,A&&(p.radiusTLValue=A),P&&(p.radiusTRValue=P),h&&(p.radiusBLValue=h),N&&(p.radiusBRValue=N)}};O();const b=V([{label:"外阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""},{label:"内阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""}]),B=(_,A,P)=>{_==""?P[A]="0px":/^\d+$/.test(_)?P[A]=`${_}px`:/^\d+px$/.test(_)?P[A]=_:P[A]=P.oldValue},R=(_,A)=>{A.oldValue=_};return Z(()=>{a.color!="rgba(0,0,0)"?e.option.style.color=a.color:delete e.option.style.color,a.fontSize!=""?e.option.style.fontSize=a.fontSize:delete e.option.style.fontSize,a.fontWeight!=""?e.option.style.fontWeight=a.fontWeight:delete e.option.style.fontWeight,a.fontFamily!=""?e.option.style.fontFamily=a.fontFamily:delete e.option.style.fontFamily,a.lineHeight!=""?/^\d+px$/.test(a.lineHeight)?e.option.style.lineHeight=a.lineHeight:e.option.style.lineHeight=a.lineHeight.match(/^\d+(\.\d+)?/)[0]:delete e.option.style.lineHeight,u.value!="rgba(255, 255, 255,0)"?e.option.style.backgroundColor=u.value:delete e.option.style.backgroundColor;const _=["border","borderTop","borderLeft","borderRight","borderBottom"];(()=>{let M="solid";d.selectInputValue!=""&&c.forEach(J=>{J.text.includes(d.selectInputValue)&&(M=J.value)}),_.forEach(J=>{d.isBorderActive==J&&(d.borderValue!=0?e.option.style[J]=`${d.borderValue}px ${M} ${d.color}`:delete e.option.style[J])})})();const A=["top","left","right","bottom"];["marginTop","marginLeft","marginRight","marginBottom"].forEach((M,J)=>{m[0][A[J]]!="0px"?e.option.style[M]=m[0][A[J]]:delete e.option.style[M]}),["paddingTop","paddingLeft","paddingRight","paddingBottom"].forEach((M,J)=>{m[1][A[J]]!="0px"?e.option.style[M]=m[1][A[J]]:delete e.option.style[M]});const N=["radiusTLValue","radiusTRValue","radiusBLValue","radiusBRValue"],E=["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];p.isRadiusAllActive?p.radiusValue!=""&&!p.tipIsshow?(e.option.style.borderRadius=p.radiusValue,E.forEach(M=>delete e.option.style[M])):delete e.option.style.borderRadius:p.radiusTLValue==p.radiusTRValue&&p.radiusTRValue==p.radiusBLValue&&p.radiusBLValue==p.radiusBRValue?(e.option.style.borderRadius=p.radiusTRValue,E.forEach(M=>delete e.option.style[M])):(delete e.option.style.borderRadius,N.forEach((M,J)=>{["","0px"].includes(p[M])?delete e.option.style[E[J]]:e.option.style[E[J]]=p[M]})),!(b[0].x=="0px"&&b[0].y=="0px"&&b[0].fuzzy=="0px"&&b[0].extension=="0px")&&!(b[1].x=="0px"&&b[1].y=="0px"&&b[1].fuzzy=="0px"&&b[1].extension=="0px")?e.option.style.boxShadow=`${b[0].x} ${b[0].y} ${b[0].fuzzy} ${b[0].extension} ${b[0].color} ,inset ${b[1].x} ${b[1].y} ${b[1].fuzzy} ${b[1].extension} ${b[1].color}`:(b[0].x=="0px"&&b[0].y=="0px"&&b[0].fuzzy=="0px"&&b[0].extension=="0px"||(e.option.style.boxShadow=`${b[0].x} ${b[0].y} ${b[0].fuzzy} ${b[0].extension} ${b[0].color}`),b[1].x=="0px"&&b[1].y=="0px"&&b[1].fuzzy=="0px"&&b[1].extension=="0px"||(e.option.style.boxShadow=`inset ${b[1].x} ${b[1].y} ${b[1].fuzzy} ${b[1].extension} ${b[1].color}`))}),()=>{let _,A,P;return t(T,null,[e.option.writingStyle&&t("div",null,[t("div",{class:"elCollapseItem title"},[C("文字样式")]),t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(f("el-color-picker"),{"show-alpha":!0,modelValue:a.color,"onUpdate:modelValue":h=>a.color=h},null)]),t("label",null,[C("颜色")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:a.fontSize,"onUpdate:modelValue":h=>a.fontSize=h,onChange:h=>B(h,"fontSize",a),onFocus:h=>R(a.fontSize,a)},null),t("label",null,[C("字号")])])]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t(f("el-select"),{modelValue:a.fontWeight,"onUpdate:modelValue":h=>a.fontWeight=h,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Qe(_=o.map(h=>t(f("el-option"),{key:h.value,value:h.value},null)))?_:{default:()=>[_]}),t("label",null,[C("字重")])]),t("div",{class:"shadow-setting-item"},[t(f("el-select"),{modelValue:a.fontFamily,"onUpdate:modelValue":h=>a.fontFamily=h,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Qe(A=l.map(h=>t(f("el-option"),{key:h.value,value:h.value},null)))?A:{default:()=>[A]}),t("label",null,[C("字体")])]),t("div",{class:"shadow-setting-item"},[t(f("el-select"),{modelValue:a.lineHeight,"onUpdate:modelValue":h=>a.lineHeight=h,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Qe(P=n.map(h=>t(f("el-option"),{key:h.value,value:h.value},null)))?P:{default:()=>[P]}),t("label",null,[C("行间距")])])])])])]),e.option.bgColor&&t("div",null,[t("div",{class:"elCollapseItem title"},[C("背景颜色")]),t("div",{class:"elCollapseItem bgColorPicker"},[t(f("el-color-picker"),{"show-alpha":!0,modelValue:u.value,"onUpdate:modelValue":h=>u.value=h},null)])]),e.option.border&&t("div",null,[t("div",{class:"elCollapseItem title"},[C("边框")]),t("div",{class:"elCollapseItem elCollapseBorder"},[t("div",{class:"elCollapseBorder-icon"},[t("div",null,null),t("div",{class:"common"},[t("div",{class:["top",d.isBorderActive=="borderTop"?"active-top":""],onClick:()=>r("borderTop")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:["left",d.isBorderActive=="borderLeft"?"active-left":""],onClick:()=>r("borderLeft")},null)]),t("div",{class:"common"},[t("div",{class:["middle",d.isBorderActive=="border"?"active-middle":""],onClick:()=>r("border")},null)]),t("div",{class:"common"},[t("div",{class:["right",d.isBorderActive=="borderRight"?"active-right":""],onClick:()=>r("borderRight")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:"bottom"},null),t("div",{class:["bottom",d.isBorderActive=="borderBottom"?"active-bottom":""],onClick:()=>r("borderBottom")},null)]),t("div",null,null)]),t("div",{class:"elCollapseBorder-setting"},[t(za,{modelValue:d.borderValue,onChange:S},null),t("div",{class:"lineAndColor"},[t("div",{class:"line"},[t(K,{readonly:!0,modelValue:d.selectInputValue,"onUpdate:modelValue":h=>d.selectInputValue=h,placeholder:"请选择",onFocus:()=>{d.showSelect=!0},onBlur:()=>{d.showSelect=!1}},null),X(t("ul",{class:"select"},[c.map(h=>t("li",{onMousedown:()=>{v(h.text)}},[h.render()]))]),[[ee,d.showSelect]])]),t("div",{class:"color"},[t($a,{modelValue:d.color,"onUpdate:modelValue":h=>d.color=h,"show-alpha":!0},null)])])])])]),e.option.marginAndPadding&&t("div",null,[t("div",{class:"elCollapseItem title"},[C("边距")]),m.map((h,N)=>t("div",{class:"elCollapseItem"},[t("div",{class:"marginAndPadding"},[t("p",null,[h.label]),t("div",{class:"marginAndPadding-setting"},[t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.top,"onUpdate:modelValue":E=>h.top=E,onChange:E=>B(E,"top",m[N]),onFocus:E=>R(h.top,m[N])},null),t("label",null,[C("top")])]),t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.bottom,"onUpdate:modelValue":E=>h.bottom=E,onChange:E=>B(E,"bottom",m[N]),onFocus:E=>R(h.bottom,m[N])},null),t("label",null,[C("bottom")])]),t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.left,"onUpdate:modelValue":E=>h.left=E,onChange:E=>B(E,"left",m[N]),onFocus:E=>R(h.left,m[N])},null),t("label",null,[C("left")])]),t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.right,"onUpdate:modelValue":E=>h.right=E,onChange:E=>B(E,"right",m[N]),onFocus:E=>R(h.right,m[N])},null),t("label",null,[C("right")])])])])])),t("div",{class:"margin-border-self"},null)]),e.option.radius&&t("div",null,[t("div",{class:"elCollapseItem title"},[C("圆角")]),t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"elCollapseRadius-icon"},[t("div",{class:["common all",p.isRadiusAllActive?"active":""],onClick:()=>{p.isRadiusAllActive=!0,p.isRadiusSelfActive=!1,O()}},null),t("div",{class:["common self",p.isRadiusSelfActive?"active":""],onClick:()=>{p.isRadiusAllActive=!1,p.isRadiusSelfActive=!0,O()}},null)]),t("div",{class:"elCollapseRadius-setting"},[t(K,{modelValue:p.radiusValue,"onUpdate:modelValue":h=>p.radiusValue=h,disabled:!p.isRadiusAllActive,onChange:h=>{B(h,"radiusValue",p),p.radiusTLValue=p.radiusTRValue=p.radiusBLValue=p.radiusBRValue=p.radiusValue,console.log(p)},onFocus:h=>R(p.radiusValue,p)},null),p.tipIsshow&&t("div",{class:"elCollapseRadius-setting-tip"},[t("span",null,[p.tip]),p.isRadiusAllActive&&t("i",{class:"icon iconfont icon-cha",onClick:h=>{p.tipIsshow=!1}},null)])])]),X(t("div",{class:"elCollapseItem elCollapseRadius"},[t(K,{modelValue:p.radiusTLValue,"onUpdate:modelValue":h=>p.radiusTLValue=h,onChange:h=>{B(h,"radiusTLValue",p),w()},onFocus:h=>R(p.radiusTLValue,p)},null),t(K,{class:"radiusSelfInput",modelValue:p.radiusTRValue,"onUpdate:modelValue":h=>p.radiusTRValue=h,onChange:h=>{B(h,"radiusTRValue",p),w()},onFocus:h=>R(p.radiusTRValue,p)},null),t(K,{class:"radiusSelfInput",modelValue:p.radiusBLValue,"onUpdate:modelValue":h=>p.radiusBLValue=h,onChange:h=>{B(h,"radiusBLValue",p),w()},onFocus:h=>R(p.radiusBLValue,p)},null),t(K,{class:"radiusSelfInput",modelValue:p.radiusBRValue,"onUpdate:modelValue":h=>p.radiusBRValue=h,onChange:h=>{B(h,"radiusBRValue",p),w()},onFocus:h=>R(p.radiusBRValue,p)},null)]),[[ee,p.isRadiusSelfActive]]),X(t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"radiusCommon radius-top-left"},null),t("div",{class:"radiusCommon radius-top-right"},null),t("div",{class:"radiusCommon radius-bottom-left"},null),t("div",{class:"radiusCommon  radius-bottom-right"},null)]),[[ee,p.isRadiusSelfActive]])]),e.option.shadow&&t("div",null,[t("div",{class:"elCollapseItem title"},[C("阴影")]),b.map((h,N)=>t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("p",null,[h.label]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(f("el-color-picker"),{"show-alpha":!0,modelValue:h.color,"onUpdate:modelValue":E=>h.color=E},null)]),t("label",null,[C("颜色")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.x,"onUpdate:modelValue":E=>h.x=E,onChange:E=>B(E,"x",b[N]),onFocus:E=>R(h.x,b[N])},null),t("label",null,[C("X值")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.y,"onUpdate:modelValue":E=>h.y=E,onChange:E=>B(E,"y",b[N]),onFocus:E=>R(h.y,b[N])},null),t("label",null,[C("Y值")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.fuzzy,"onUpdate:modelValue":E=>h.fuzzy=E,onChange:E=>B(E,"fuzzy",b[N]),onFocus:E=>R(h.fuzzy,b[N])},null),t("label",null,[C("模糊值")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.extension,"onUpdate:modelValue":E=>h.extension=E,onChange:E=>B(E,"extension",b[N]),onFocus:E=>R(h.extension,b[N])},null),t("label",null,[C("扩展值")])])])])]))])])}}});function pt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fe(e)}const Ke=L({props:{setting:{type:Object}},setup(e){const a=ve(H),l=xe(H),o=u=>{e.setting.value=="触发方式"&&(l.EditorDataMap.get(a.selectKey).bubblePrompt.triggerMode=u.value),e.setting.value=="提示位置"&&(l.EditorDataMap.get(a.selectKey).bubblePrompt.promptLocation=u.value),e.setting.value=="尺寸"&&(l.EditorDataMap.get(a.selectKey).size=n(u.value))},n=u=>u=="中"?"default":u=="小"?"small":"large";return()=>{let u,d;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.setting.value]),l.EditorDataMap.get(a.selectKey).type=="button"&&t(ut,{class:"ml-4"},pt(u=e.setting.options.map(r=>t(f("el-button"),{size:"small",class:[r.value==l.EditorDataMap.get(a.selectKey).bubblePrompt.triggerMode?"buttonSelected":"",r.value==l.EditorDataMap.get(a.selectKey).bubblePrompt.promptLocation?"buttonSelected":"",n(r.value)==l.EditorDataMap.get(a.selectKey).size?"buttonSelected":""],onClick:()=>{o(r)}},{default:()=>[r.value]})))?u:{default:()=>[u]}),l.EditorDataMap.get(a.selectKey).type!="button"&&t(ut,{class:"ml-4"},pt(d=e.setting.options.map(r=>t(f("el-button"),{size:"small",class:[n(r.value)==l.EditorDataMap.get(a.selectKey).size?"buttonSelected":""],onClick:()=>{o(r)}},{default:()=>[r.value]})))?d:{default:()=>[d]})])}}}),Ze=L({props:{label:{type:String},setting:{type:Object},otherShow:{type:Boolean}},setup(e){const a=ve(H),l=xe(H),o=ke("editorConfig");e.setting.icon&&e.setting.iconText&&(e.setting.isFill=!0,e.setting.clearable=!0);const n=c=>{e.setting.isShowList?e.setting.isShowList=!1:e.setting.isShowList=!0,c.stopPropagation()},u=()=>t(T,null,[t("span",{class:["icon iconfont",e.setting.icon]},null),t("span",{class:"context"},[e.setting.iconText])]),d=c=>{e.setting.isShowList=!1,e.setting.isFill=!e.setting.isFill,e.setting.clearable=!e.setting.clearable,e.label=="左侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.leftIcon=""),e.label=="右侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.rightIcon=""),c.stopPropagation()},r=o.iconList.map(c=>c.defaultData.icon.split(" ")[2]),S=c=>{e.setting.isShowList=!1,e.setting.clearable=!0,e.setting.isFill=!0,e.setting.icon=c,e.setting.iconText=c.replace("icon-",""),e.label=="左侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.leftIcon=c),e.label=="右侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.rightIcon=c),e.label=="修改图标"&&(l.EditorDataMap.get(a.selectKey).icon=`icon iconfont ${c}`)};return document.addEventListener("click",()=>{e.setting.isShowList&&(e.setting.isShowList=!1)}),()=>t("div",{class:"elCollapseItem base-settings flexSelectContainer"},[t("p",null,[e.label]),t("div",{class:"flexSelect",onClick:c=>n(c)},[t("div",{class:"iconContext"},[e.setting.isFill?u():"请选择图标"]),X(t("span",{class:["clear icon iconfont",e.setting.clearIcon],onClick:c=>d(c),onMouseover:()=>e.setting.clearIcon="icon-cha1",onMouseout:()=>e.setting.clearIcon="icon-cha"},null),[[ee,e.setting.clearable]])]),X(t("ul",{class:"flexSelectUl"},[r.map(c=>t("li",{class:"flexSelectUl-option",onClick:v=>S(c)},[t("span",{class:["icon iconfont",c]},null)]))]),[[ee,e.setting.isShowList]])])}});function ze(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fe(e)}const yt=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({value:"div",options:[{value:"header"},{value:"nav"},{value:"section"},{value:"main"},{value:"footer"},{value:"div"},{value:"p"}]});e.option.containerLabels&&(l.value=e.option.containerLabels);const o=V({value:"默认(static)",options:[{value:"默认(static)"},{value:"绝对(relative)"},{value:"相对(absolute)"},{value:"固定(fixed)"}]});e.option.style.position&&(e.option.style.position=="relative"&&(o.value="绝对(relative)"),e.option.style.position=="absolute"&&(o.value="相对(absolute)"),e.option.style.position=="fixed"&&(o.value="固定(fixed)"));const n=V([{label:"高度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"自动适配",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}},{label:"宽度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"超出显示",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}}]),u=[{value:"px"},{value:"em"},{value:"%"},{value:"vw"},{value:"vh"}];e.option.style.width&&(n[1].value=e.option.style.width.match(/^\d+/)[0],n[1].valueUnit=e.option.style.width.match(/^(\d+)(.*)/)[2]),e.option.style.height&&(n[0].value=e.option.style.height.match(/^\d+/)[0],n[0].valueUnit=e.option.style.height.match(/^(\d+)(.*)/)[2]),e.option.style.maxHeight&&(n[0].max=e.option.style.maxHeight.match(/^\d+/)[0],n[0].maxUnit=e.option.style.maxHeight.match(/^(\d+)(.*)/)[2]),e.option.style.minHeight&&(n[0].min=e.option.style.minHeight.match(/^\d+/)[0],n[0].minUnit=e.option.style.minHeight.match(/^(\d+)(.*)/)[2]),e.option.style.maxWidth&&(n[0].max=e.option.style.maxWidth.match(/^\d+/)[0],n[0].maxUnit=e.option.style.maxWidth.match(/^(\d+)(.*)/)[2]),e.option.style.minWidth&&(n[0].min=e.option.style.minWidth.match(/^\d+/)[0],n[0].minUnit=e.option.style.minWidth.match(/^(\d+)(.*)/)[2]),e.option.style.overflowY&&(e.option.style.overflowY=="visible"&&(n[0].scrollMode.value="超出显示"),e.option.style.overflowY=="hidden"&&n[0].scrollMode.value=="超出隐藏",e.option.style.overflowY=="scroll"&&n[0].scrollMode.value=="超出滚动",e.option.style.overflowY=="auto"&&n[0].scrollMode.value=="自动适配"),e.option.style.overflowX&&(e.option.style.overflowX=="visible"&&(n[1].scrollMode.value="超出显示"),e.option.style.overflowX=="hidden"&&n[1].scrollMode.value=="超出隐藏",e.option.style.overflowX=="scroll"&&n[1].scrollMode.value=="超出滚动",e.option.style.overflowX=="auto"&&n[1].scrollMode.value=="自动适配");const d=V({list:[{icon:"icon-zuoduiqi",active:!0,attribute:"left"},{icon:"icon-juzhongduiqi",active:!1,attribute:"center"},{icon:"icon-youduiqi",active:!1,attribute:"right"},{icon:"icon-zuoyouduiqi",active:!1,attribute:"justify"}],value:"left"}),r=V({alignmentLabel:"块级(block)设置",flexisShow:!1,options:[{icon:"icon-a-Displayblock",active:!0,alignmentLabel:"块级(block)设置"},{icon:"icon-a-Displayinline-block",active:!1,alignmentLabel:"行内块(inline-block)设置"},{icon:"icon-a-Displayinline",active:!1,alignmentLabel:"行内(inline)设置"},{icon:"icon-a-Displayflex",active:!1,alignmentLabel:"flex布局设置"}],flexList:[{label:"布局方向",list:[{value:"水平方向",attribute:"row"},{value:"垂直方向",attribute:"column"},{value:"水平反向",attribute:"row-reverse"},{value:"垂直反向",attribute:"column-reverse"}],value:"水平方向"},{label:"水平对齐",list:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],value:"左对齐"},{label:"垂直对齐",list:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}],value:"顶部对齐"},{label:"是否换行",list:[{value:"不换行",attribute:"nowrap"},{value:"自动换行",attribute:"wrap"},{value:"自动换行(颠倒)",attribute:"wrap-reverse"}],value:"不换行"}],flexAttribute:["","","",""],flexDirectionMap:new Map}),S=c=>{r.flexList[c].list.some(v=>{v.attribute==r.flexAttribute[c]&&(r.flexList[c].value=v.value)})};return(()=>{if(e.option.style.display){if(r.options.forEach(c=>c.active=!1),e.option.style.display=="flex")r.alignmentLabel="flex布局设置",r.options[3].active=!0,r.flexisShow=!0,e.option.style.flexDirection&&(r.flexAttribute[0]=e.option.style.flexDirection,S(0)),e.option.style.justifyContent&&(r.flexAttribute[1]=e.option.style.justifyContent,S(1)),e.option.style.alignItems&&(r.flexAttribute[2]=e.option.style.alignItems,S(2)),e.option.style.flexWrap&&(r.flexAttribute[3]=e.option.style.flexWrap,S(3));else if(e.option.style.textAlign){let c=0;e.option.style.display=="inline-block"&&(c=1),e.option.style.display=="inline"&&(c=2),r.alignmentLabel=r.options[c].alignmentLabel,r.options[c].active=!0,d.value=e.option.style.textAlign,d.list.forEach(v=>{v.active=!1,d.value==v.attribute&&(v.active=!0)})}}})(),r.flexDirectionMap.set("row",{jc:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),r.flexDirectionMap.set("column",{jc:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),r.flexDirectionMap.set("row-reverse",{jc:[{value:"右对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"左对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),r.flexDirectionMap.set("column-reverse",{jc:[{value:"底部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"顶部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),Z(()=>{l.value!="div"?e.option.containerLabels=l.value:delete e.option.containerLabels,o.value.includes("static")?delete e.option.style.position:e.option.style.position=o.value.match(/\((.*?)\)/)[1],n[0].max!=0?e.option.style.maxHeight=`${n[0].max}${n[0].maxUnit}`:delete e.option.style.maxHeight,n[0].min!=0?e.option.style.minHeight=`${n[0].min}${n[0].minUnit}`:delete e.option.style.minHeight,n[1].max!=0?e.option.style.maxWidth=`${n[1].max}${n[1].maxUnit}`:delete e.option.style.maxWidth,n[1].min!=0?e.option.style.minWidth=`${n[1].min}${n[1].minUnit}`:delete e.option.style.minWidth,n[0].value!=0?e.option.style.height=`${n[0].value}${n[0].valueUnit}`:delete e.option.style.height,n[1].value!=0?e.option.style.width=`${n[1].value}${n[1].valueUnit}`:delete e.option.style.width,n[0].scrollMode.value=="超出显示"&&(e.option.style.overflowY="visible"),n[0].scrollMode.value=="超出隐藏"&&(e.option.style.overflowY="hidden"),n[0].scrollMode.value=="超出滚动"&&(e.option.style.overflowY="scroll"),n[0].scrollMode.value=="自动适配"&&(e.option.style.overflowY="auto"),n[1].scrollMode.value=="超出显示"&&(e.option.style.overflowX="visible"),n[1].scrollMode.value=="超出隐藏"&&(e.option.style.overflowX="hidden"),n[1].scrollMode.value=="超出滚动"&&(e.option.style.overflowX="scroll"),n[1].scrollMode.value=="自动适配"&&(e.option.style.overflowX="auto"),e.option.style.display=r.alignmentLabel.match(/[a-zA-Z]+/g)[0],r.flexisShow?(r.flexAttribute[0]!=""&&(e.option.style.flexDirection=r.flexAttribute[0]),r.flexAttribute[1]!=""&&(e.option.style.justifyContent=r.flexAttribute[1]),r.flexAttribute[2]!=""&&(e.option.style.alignItems=r.flexAttribute[2]),r.flexAttribute[3]!=""&&(e.option.style.flexWrap=r.flexAttribute[3])):d.value!="left"?e.option.style.textAlign=d.value:delete e.option.style.textAlign}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic",class:"container"},{default:()=>[t(le,{label:"容器标签",setting:l},null)]}),t(f("elCollapseItem"),{title:"布局",name:"layout",class:"container"},{default:()=>[t(le,{label:"定位模式",setting:o},null),n.map((c,v)=>{let s,m,p;return t(T,null,[t("div",{class:"elCollapseItem"},[t("p",null,[c.label,C("设置")]),t("div",{class:"container-changeBtn"},[t("button",{class:{active:c.adapter},onClick:w=>c.adapter=!0},[C("适配")]),t("button",{class:{active:!c.adapter},onClick:w=>c.adapter=!1},[C("固定")])])]),c.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[C("最大"),c.label]),t("div",null,[t(K,{modelValue:c.max,"onUpdate:modelValue":w=>c.max=w},null),t(f("el-select"),{modelValue:n[v].maxUnit,"onUpdate:modelValue":w=>n[v].maxUnit=w},ze(s=u.map(w=>t(f("el-option"),{key:w.value,value:w.value},null)))?s:{default:()=>[s]})])]),t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[C("最小"),c.label]),t("div",null,[t(K,{modelValue:c.min,"onUpdate:modelValue":w=>c.min=w},null),t(f("el-select"),{modelValue:n[v].minUnit,"onUpdate:modelValue":w=>n[v].minUnit=w},ze(m=u.map(w=>t(f("el-option"),{key:w.value,value:w.value},null)))?m:{default:()=>[m]})])])]),!c.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[c.label]),t("div",null,[t(K,{modelValue:c.value,"onUpdate:modelValue":w=>c.value=w},null),t(f("el-select"),{modelValue:n[v].valueUnit,"onUpdate:modelValue":w=>n[v].valueUnit=w},ze(p=u.map(w=>t(f("el-option"),{key:w.value,value:w.value},null)))?p:{default:()=>[p]})])]),t(le,{label:"滚动模式",setting:n[v].scrollMode},null)])])}),t("div",{class:"elCollapseItem container-displayType"},[t("p",null,[C("显示方式(display)")]),r.options.map(c=>t("div",{class:{active:c.active,"container-displayType-item":!0},onClick:v=>{r.options.forEach(s=>s.active=!1),c.active=!0,r.alignmentLabel=c.alignmentLabel,c.alignmentLabel.includes("flex")?r.flexisShow=!0:r.flexisShow=!1}},[t("i",{class:[c.icon,"icon","iconfont"]},null)]))]),t("div",{class:"elCollapseItem container-alignment"},[t("div",{class:"alignmentContent"},[t("p",null,[r.alignmentLabel]),!r.flexisShow&&t("div",{class:"alignmentContent-list"},[d.list.map(c=>t("div",{class:{active:c.active,"container-alignment-item":!0},onClick:v=>{d.list.forEach(s=>s.active=!1),c.active=!0,d.value=c.attribute}},[t("i",{class:[c.icon,"icon","iconfont"]},null)]))]),r.flexisShow&&r.flexList.map((c,v)=>{let s;return t("div",{class:"flexlayout-list"},[t("div",{class:"flexlayout-list-item"},[t("p",null,[c.label]),t(f("el-select"),{modelValue:c.value,"onUpdate:modelValue":m=>c.value=m,onChange:m=>{let p=c.list.filter(w=>{if(w.value==c.value)return w});r.flexAttribute[v]=p[0].attribute,v==0&&(r.flexList[1].list=r.flexDirectionMap.get(p[0].attribute).jc,r.flexList[2].list=r.flexDirectionMap.get(p[0].attribute).ai,r.flexList[1].value=r.flexList[1].list[0].value,r.flexList[2].value=r.flexList[2].list[0].value,r.flexAttribute[1]=r.flexList[1].list[0].attribute,r.flexAttribute[2]=r.flexList[2].list[0].attribute)}},ze(s=c.list.map(m=>t(f("el-option"),{key:m.value,value:m.value},null)))?s:{default:()=>[s]})])])})])])]})]})])}}),ft=L({props:{setting:{type:Object}},setup(e){const a={triggerMode:{value:"触发方式",options:[{value:"鼠标悬浮"},{value:"聚焦"}]},promptLocation:{value:"提示位置",options:[{value:"上"},{value:"左"},{value:"下"},{value:"右"}]}};return()=>t("div",{class:"basicPopup"},[t("div",{class:"basicPopup-triangle"},null),t("div",{class:"basicPopup-boxBgc"},[e.setting.textarea.map(l=>t("div",{class:"basicPopup-box"},[t("p",null,[l.label]),t(K,{type:"textarea",modelValue:l.value,"onUpdate:modelValue":o=>l.value=o,resize:"none",class:"input","input-style":{height:"80px"}},null)])),X(t(Ke,{setting:a.triggerMode},null),[[ee,e.setting.hasTriggerMode]]),X(t(Ke,{setting:a.promptLocation},null),[[ee,e.setting.hasPromptLocation]]),t("div",{class:"seizeAseat"},null)])])}}),gn=L({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ce,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),xn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({pageTitle:{label:"页面标题",value:e.option.title?e.option.title:""},subtitle:{label:"副标题",value:e.option.subtitle?e.option.subtitle:""}});return Z(()=>{e.option.title=l.pageTitle.value,e.option.subtitle=l.subtitle.value}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(te,{option:l.pageTitle},null),t(ht,{option:l.subtitle},null)]})]})])}}),Cn=L({props:{EditorData:Object},setup(){const e=ke("erConfig"),a=ve(H),l=xe(H);return()=>{var o,n;return t("div",{class:"property",key:a.selectKey},[e.componentMap.get((o=a.selectKey)==null?void 0:o.replace(/-[^-]*$/,""))?e.componentMap.get((n=a.selectKey)==null?void 0:n.replace(/-[^-]*$/,"")).Properties(l.EditorDataMap.get(a.selectKey)):t(xn,{option:l.EditorDataMap.get("page")},null)])}}}),wn=L({props:{EditorData:Object},setup(){const e=ke("erConfig"),a=ve(H),l=xe(H);return()=>{var o,n;return t("div",{class:"appearance",key:a.selectKey},[e.componentMap.get((o=a.selectKey)==null?void 0:o.replace(/-[^-]*$/,""))?e.componentMap.get((n=a.selectKey)==null?void 0:n.replace(/-[^-]*$/,"")).appearances(l.EditorDataMap.get(a.selectKey)):t(gn,{option:l.EditorDataMap.get("page")},null)])}}});const Sn=L({props:{option:{type:Object},isShow:{type:Boolean}},setup(e){const a=V({menuActive:e.option.title,openeds:["1","2","3","4"],data:se(ye.handlerMap.get(e.option.title).defaultData),action:se(e.option)}),l=()=>{a.menuActive==a.action.title&&(a.data.value=a.action.content,a.menuActive=="消息提醒"&&(a.action.messageType&&(a.data.messageType.value=e.option.messageType),a.action.duration&&(a.data.duration.value=e.option.duration),a.action.messageContent&&(a.data.messageContent.value=e.option.messageContent)))};return G(()=>e.isShow,o=>{o&&(a.menuActive=e.option.title,a.data=se(ye.handlerMap.get(e.option.title).defaultData),a.action=se(e.option),l())},{immediate:!0}),G(()=>a.menuActive,()=>{a.data=se(ye.handlerMap.get(a.menuActive).defaultData),l()},{immediate:!0}),Z(()=>{e.option.title=a.menuActive,e.option.content=a.data.value,a.menuActive=="消息提醒"&&(a.data.messageType&&(e.option.messageType=a.data.messageType.value),a.data.duration&&(e.option.duration=a.data.duration.value),a.data.messageContent&&(e.option.messageContent=a.data.messageContent.value,e.option.content=a.data.messageContent.value))}),()=>t(T,null,[t("div",{class:"events-config"},[t("div",{class:"events-config-menu"},[t(f("el-menu"),{"default-active":a.menuActive,"default-openeds":a.openeds,onSelect:o=>{a.menuActive=o}},{default:()=>[t(f("el-sub-menu"),{index:"1"},{default:()=>t(T,null,[t(f("el-menu-item"),{index:"跳转连接"},{default:()=>[C("跳转连接")]}),t(f("el-menu-item"),{index:"刷新页面"},{default:()=>[C("刷新页面")]}),t(f("el-menu-item"),{index:"回退页面"},{default:()=>[C("回退页面")]})]),title:()=>t("span",null,[C("页面")])}),t(f("el-sub-menu"),{index:"2"},{default:()=>t(T,null,[t(f("el-menu-item"),{index:"打开弹窗"},{default:()=>[C("打开弹窗")]}),t(f("el-menu-item"),{index:"关闭弹窗"},{default:()=>[C("关闭弹窗")]}),t(f("el-menu-item"),{index:"消息提醒"},{default:()=>[C("消息提醒")]})]),title:()=>t("span",null,[C("弹窗")])}),t(f("el-sub-menu"),{index:"3"},{default:()=>t(T,null,[t(f("el-menu-item"),{index:"发送请求"},{default:()=>[C("发送请求")]})]),title:()=>t("span",null,[C("服务")])}),t(f("el-sub-menu"),{index:"4"},{default:()=>t(T,null,[t(f("el-menu-item"),{index:"提交表单"},{default:()=>[C("提交表单")]}),t(f("el-menu-item"),{index:"重置表单"},{default:()=>[C("重置表单")]}),t(f("el-menu-item"),{index:"校验表单"},{default:()=>[C("校验表单")]})]),title:()=>t("span",null,[C("表单")])})]})]),t("div",{class:"events-config-content"},[t("div",{class:"events-config-content-item"},[t("h3",{class:"events-config-content-item-title"},[C("动作说明")]),t("p",null,[ye.handlerMap.get(a.menuActive).instructions])]),t("div",{class:"events-config-content-item"},[t("h3",{class:"events-config-content-item-title"},[C("动作配置")]),ye.handlerMap.get(a.menuActive).configRender(a.data)])])])])}});function En(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Fe(e)}const Dn=L({setup(){const e=ve(H),a=xe(H);let l=V({dialogIsShow:!1,addListIsShow:!1,eventsList:a.EditorDataMap.get(e.selectKey||"page").events||[],activeName:Array.from(ye.eventMap.keys()),addAction:{title:"跳转连接",content:""},selectedEvent:null,selectedIndex:0,mouseEventsMap:new Map,isUpdate:!1});G(()=>e.selectKey,(s,m)=>{l.eventsList.length==0?delete a.EditorDataMap.get(m||"page").events:a.EditorDataMap.get(m||"page").events=l.eventsList,l.eventsList=a.EditorDataMap.get(s||"page").events||[],l.selectedEvent=null;for(let p of ye.eventMap)l.mouseEventsMap.get(p[0]).exist=!1;for(let p of l.eventsList)l.mouseEventsMap.get(p.type).exist=!0}),Z(()=>{!a.EditorDataMap.get(e.selectKey||"page").events&&l.eventsList.length==0&&(a.EditorDataMap.get(e.selectKey||"page").events=l.eventsList)});for(let s of ye.eventMap)l.mouseEventsMap.set(s[0],{type:s[1].type,name:s[1].name,exist:!1});for(let s of l.eventsList)l.mouseEventsMap.get(s.type).exist=!0;const o=()=>{l.addListIsShow=!1};window.addEventListener("click",o);const n=()=>{l.addAction=se({title:"跳转连接",content:""})},u=s=>{l.eventsList.push({type:s.type,name:s.name,list:[]}),s.exist=!0},d=s=>{l.mouseEventsMap.get(l.eventsList[s].type).exist=!1,l.eventsList.splice(s,1)},r=s=>{l.isUpdate=!1,n(),l.dialogIsShow=!0,l.selectedEvent=s},S=()=>{if(l.addAction.content.trim()==""){ge.warning("内容不能为空");return}l.dialogIsShow=!1,l.isUpdate?l.selectedEvent.list[l.selectedIndex]=se(l.addAction):l.selectedEvent.list.push(se(l.addAction)),n()},c=(s,m)=>{l.isUpdate=!0,l.addAction=se(s.list[m]),l.dialogIsShow=!0,l.selectedEvent=s,l.selectedIndex=m},v=(s,m)=>{s.list.splice(m,1)};return()=>{let s;return t(T,null,[t("div",{class:"events"},[t("div",{class:"events-addEvents",onClick:m=>{m.stopPropagation(),l.addListIsShow=!l.addListIsShow}},[t("span",null,[C("添加事件")])]),l.addListIsShow&&t("div",{class:"events-addEvents-list"},[t("ul",null,[Array.from(l.mouseEventsMap.values()).map(m=>t("li",{onClick:p=>{p.stopPropagation(),!m.exist&&(u(m),o())},class:m.exist?"disabled":""},[m.name]))])]),t(f("elCollapse"),{modelValue:l.activeName,"onUpdate:modelValue":m=>l.activeName=m},En(s=l.eventsList.map((m,p)=>t("div",{class:"events-elCollapseItem"},[t("div",{class:"events-nav"},[t("i",{class:"icon iconfont icon-tianjia",onClick:w=>r(m)},null),t("i",{class:"icon iconfont icon-shanchu",onClick:w=>d(p)},null)]),t(f("elCollapseItem"),{title:m.name,name:m.type},{default:()=>[t("div",{class:"events-list"},[m.list.map((w,O)=>t("div",{class:"events-list-item"},[t("div",{class:"events-list-item-header"},[t("span",null,[w.title]),t("span",null,[t("i",{class:"icon iconfont icon-xiugai",onClick:b=>c(m,O)},null),t("i",{class:"icon iconfont icon-shanchu",onClick:b=>v(m,O)},null)])]),t("div",{class:"events-list-item-content"},[ye.handlerMap.get(w.title).selectedRender(w)])]))])]})])))?s:{default:()=>[s]})]),t(f("el-dialog"),{title:"事件配置",modelValue:l.dialogIsShow,"onUpdate:modelValue":m=>l.dialogIsShow=m,width:"60%",fullscreen:!0,"append-to-body":!0},{default:()=>t(Sn,{option:l.addAction,isShow:l.dialogIsShow},null),footer:()=>t("span",{class:"dialog-footer"},[t(f("el-button"),{onClick:m=>l.dialogIsShow=!1},{default:()=>[C("取 消")]}),t(f("el-button"),{type:"primary",onClick:m=>S()},{default:()=>[C("确 定")]})])})])}}}),Vn={class:"ErComponent"},kn={class:"ErComponent-nav"},Ln=["onClick"],In={class:"ErComponent-content"},_n=L({__name:"EditorRight",props:["EditorData"],setup(e){const a=e,l=V([{label:"属性",active:!0,isShow:!0},{label:"外观",active:!1,isShow:!0},{label:"事件",active:!1,isShow:!0}]),o=n=>{l.forEach((u,d)=>{if(d==n){u.active=!0;return}u.active=!1})};return(n,u)=>(U(),ne("div",Vn,[k("div",kn,[(U(!0),ne(T,null,Ne(l,(d,r)=>X((U(),ne("label",{onClick:S=>o(r),class:Pe(["ErComponent-nav-btn",{active:d.active}])},De(d.label),11,Ln)),[[ee,d.isShow]])),256))]),k("div",In,[l[0].active?(U(),fe(j(Cn),{key:0,EditorData:a.EditorData},null,8,["EditorData"])):de("",!0),l[1].active?(U(),fe(j(wn),{key:1,EditorData:a.EditorData},null,8,["EditorData"])):de("",!0),l[2].active?(U(),fe(j(Dn),{key:2})):de("",!0)])]))}});const Bn=L({props:{EditorData:Object},setup(e){let a=Ve(null);const l=ve(H);return He(()=>{a.value.attributes.childrenList=e.EditorData.get("page").children;const o=(u,d)=>{let r=!1,S=null;const c=v=>{var s;if(!r)for(let m=0;m<v.length;m++){const p=v[m];if(p.getAttribute("data-id")==d){r=!0,S=p;return}let w=(s=p.children[0])!=null&&s.classList?[...p.children[0].classList]:"";if(w&&(w.includes("cannotPreview")||w.includes("container-ordinary")))return c(p.children)}};for(let v=0;v<u.length&&!r;v++){if(u[v].getAttribute("data-id")==d)return u[v];c(u[v].children)}return S},n=u=>{let d=se(a.value);l.dragEl=o(d.children,u)};G(()=>l.selectKey,()=>{n(l.selectKey)})}),()=>t("div",{class:"Editorcontainer",ref:a,onMouseenter:o=>Ae.mouseenter(o),onClick:o=>Ae.onclickToDrag(o),style:e.EditorData.style,"data-id":"page"},[mt("page")])}}),An=L({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ce,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),Pn=L({props:{option:{type:Object}},setup(e){return()=>t(yt,{option:e.option},null)}}),Fn=L({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ce,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),Mn=L({props:{option:{type:Object}},setup(e){return()=>t(yt,{option:e.option},null)}}),Tn=L({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(ce,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),jn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({value:"普通文字",options:[{value:"普通文字"},{value:"段落"},{value:"一级标题"},{value:"二级标题"},{value:"三级标题"},{value:"四级标题"},{value:"五级标题"},{value:"六级标题"}]}),o=V({whetherInline:{label:"内联模式",value:!0},textContent:{label:"文字内容",value:e.option.children}});return e.option.style.display&&(o.whetherInline.value=!1),Z(()=>{e.option.children=o.textContent.value,o.whetherInline.value?delete e.option.style.display:e.option.style.display="block"}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{label:"文字格式",setting:l},null),t(ie,{option:o.whetherInline},null),t(ht,{option:o.textContent},null)]})]})])}}),Nn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},o=V({value:"默认",options:[{value:"默认"},{value:"主要"},{value:"成功"},{value:"信息"},{value:"警告"},{value:"危险"}]}),n=V({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),u=V({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]}),d=V({blockDisplay:{label:"块状显示",value:!1},leftIconSize:{label:"左侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""},rightIconSize:{label:"右侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""}});e.option.buttonstyle==""?o.value="默认":e.option.buttonstyle=="primary"?o.value="主要":e.option.buttonstyle=="success"?o.value="成功":e.option.buttonstyle=="info"?o.value="信息":e.option.buttonstyle=="warning"?o.value="警告":o.value="危险",e.option.style.display=="block"&&(d.blockDisplay.value=!0);let r=!1,S=!1;return r=!!e.option.icon.leftIcon,S=!!e.option.icon.rightIcon,e.option.icon.leftIconSize&&(d.leftIconSize.value=e.option.icon.leftIconSize),e.option.icon.leftIconSize&&(d.rightIconSize.value=e.option.icon.rightIconSize),Z(()=>{o.value=="默认"?e.option.buttonstyle="":o.value=="主要"?e.option.buttonstyle="primary":o.value=="成功"?e.option.buttonstyle="success":o.value=="信息"?e.option.buttonstyle="info":o.value=="警告"?e.option.buttonstyle="warning":e.option.buttonstyle="danger",d.blockDisplay.value?e.option.style.display="block":e.option.style.display="",r?e.option.icon.leftIconSize=d.leftIconSize.value:e.option.icon.leftIconSize="",S?e.option.icon.rightIconSize=d.rightIconSize.value:e.option.icon.rightIconSize=""}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{label:"样式",setting:o},null),t(ie,{option:d.blockDisplay},null),t(Ke,{setting:u},null)]}),t(f("elCollapseItem"),{title:"自定义样式",name:"customStyle"},{default:()=>[t(le,{label:"状态",setting:n},null),t(ce,{option:l},null),X(t(te,{option:d.leftIconSize},null),[[ee,r]]),X(t(te,{option:d.rightIconSize},null),[[ee,S]])]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})])}}),On=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({bindingField:{label:"名称",value:"我的按钮",placeholder:"请输入名称"},twiceComfire:{label:"二次确认",value:!1},bubblePrompt:{label:"气泡提示",value:!1},leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},rightIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},disable:{label:"禁用",value:!0}}),o=V({textarea:[{label:"确认内容",value:""}],hasTriggerMode:!1,hasPromptLocation:!1}),n=V({textarea:[{label:"正常提示",value:""},{label:"禁用信息",value:""}],hasTriggerMode:!0,hasPromptLocation:!0});return l.bindingField.value!=e.option.children&&(l.bindingField.value=e.option.children),e.option.twiceComfire.value?(l.twiceComfire.value=!0,o.textarea[0].value=e.option.twiceComfire.info):l.twiceComfire.value=!1,l.leftIconSelect.icon=e.option.icon.leftIcon?e.option.icon.leftIcon:"",l.leftIconSelect.iconText=e.option.icon.leftIcon?e.option.icon.leftIcon.replace("icon-",""):"",l.rightIconSelect.icon=e.option.icon.rightIcon?e.option.icon.rightIcon:"",l.rightIconSelect.iconText=e.option.icon.rightIcon?e.option.icon.rightIcon.replace("icon-",""):"",e.option.bubblePrompt.value?(l.bubblePrompt.value=!0,n.textarea[0].value=e.option.bubblePrompt.normalInfo,n.textarea[1].value=e.option.bubblePrompt.disableInfo):l.twiceComfire.value=!1,l.disable.value=e.option.isDisable,Z(()=>{l.bindingField.value!="我的按钮"&&(e.option.children=l.bindingField.value?l.bindingField.value:"我的按钮"),l.twiceComfire.value?(e.option.twiceComfire.value=!0,e.option.twiceComfire.info=o.textarea[0].value):(e.option.twiceComfire.value=!1,e.option.twiceComfire.info=o.textarea[0].value=""),l.bubblePrompt.value?(e.option.bubblePrompt.value=!0,e.option.bubblePrompt.normalInfo=n.textarea[0].value,e.option.bubblePrompt.disableInfo=n.textarea[1].value):(e.option.bubblePrompt.value=!1,e.option.bubblePrompt.normalInfo=n.textarea[0].value="",e.option.bubblePrompt.disableInfo=n.textarea[1].value="",e.option.bubblePrompt.triggerMode!="鼠标悬浮"&&(e.option.bubblePrompt.triggerMode="鼠标悬浮"),e.option.bubblePrompt.promptLocation!="下"&&(e.option.bubblePrompt.promptLocation="下")),e.option.isDisable=l.disable.value}),G(()=>l.leftIconSelect.isShowList,u=>{u&&l.rightIconSelect.isShowList&&(l.rightIconSelect.isShowList=!1)}),G(()=>l.rightIconSelect.isShowList,u=>{u&&l.leftIconSelect.isShowList&&(l.leftIconSelect.isShowList=!1)}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(te,{option:l.bindingField},null),t(ie,{option:l.twiceComfire},null),X(t(ft,{setting:o},null),[[ee,l.twiceComfire.value]]),t(Ze,{label:"左侧图标",setting:l.leftIconSelect},null),t(Ze,{label:"右侧图标",setting:l.rightIconSelect},null),t(ie,{option:l.bubblePrompt},null),X(t(ft,{setting:n},null),[[ee,l.bubblePrompt.value]])]}),t(f("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(ie,{option:l.disable},null)]})]})])}}),Rn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({width:{label:"宽度",value:e.option.style.width,placeholder:"请输入输入框宽度",oldValue:""},height:{label:"高度",value:e.option.style.height,placeholder:"请输入输入框高度",oldValue:""}}),o=V({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),n={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},u=V({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]});return Z(()=>{e.option.style.width=l.width.value,e.option.style.height=l.height.value}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(te,{option:l.width},null),t(te,{option:l.height},null),t(Ke,{setting:u},null)]}),t(f("elCollapseItem"),{title:"输入框样式",name:"inputStyle"},{default:()=>[t(le,{label:"状态",setting:o},null),t(ce,{option:n},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSourceCode"},{default:()=>[t("div",{class:"events"},[t("div",{class:"addEvents"},[t("span",null,[C("编辑样式源码")])])])]})]})])}}),zn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({inputStyle:{value:"文本(text)",options:[{value:"文本(text)"},{value:"密码(password)"},{value:"邮箱(email)"}]},defaultValue:{label:"默认值",value:"",placeholder:"请输入输入框默认内容"},placeholderPrompt:{label:"占位提示",value:"",placeholder:"请输入占位提示"},clearable:{label:"可清除",value:!1},maxLength:{label:"最长输入长度",value:0,min:0},minLength:{label:"最小输入长度",value:0,min:0}}),o=V({hide:{label:"隐藏",value:!1},onlyRead:{label:"只读",value:!1},disable:{label:"禁用",value:!1},autofocus:{label:"自动对焦",value:!1}});let n=new RegExp("(?<=\\()(.+?)(?=\\))","g");return(()=>{if(e.option.inputStyle!="input")for(let u=0;u<l.inputStyle.options.length;u++){let d=l.inputStyle.options[u].value.match(n);d[0]==e.option.inputStyle&&(l.inputStyle.value=l.inputStyle.options[u].value),d[0]=="password"&&(e.option.showPassword=!0)}l.defaultValue.value=e.option.value,l.placeholderPrompt.value=e.option.placeholder,l.clearable.value=e.option.clearable,l.maxLength.value=e.option.maxlength||0,l.minLength.value=e.option.minlength||0,l.maxLength.value&&l.maxLength.value!=0&&(e.option.showWordLimit=!0)})(),o.hide.value=e.option.hidden,o.onlyRead.value=e.option.readonly,o.disable.value=e.option.disabled,o.autofocus.value=e.option.autofocus,Z(()=>{e.option.inputStyle=l.inputStyle.value.match(n)[0],e.option.inputStyle!="password"&&(e.option.showPassword=!1),e.option.value=l.defaultValue.value,e.option.placeholder=l.placeholderPrompt.value,l.clearable.value?e.option.clearable=l.clearable.value:delete e.option.clearable,l.maxLength.value!=0?e.option.maxlength=l.maxLength.value:delete e.option.maxlength,l.minLength.value!=0?e.option.minlength=l.minLength.value:delete e.option.minlength,l.maxLength.value&&l.maxLength.value>0?e.option.showWordLimit=!0:e.option.showWordLimit=!1,o.hide.value?e.option.hidden=o.hide.value:delete e.option.hidden,o.onlyRead.value?e.option.readonly=o.onlyRead.value:delete e.option.readonly,o.disable.value?e.option.disabled=o.disable.value:delete e.option.disabled,o.autofocus.value?e.option.autofocus=o.autofocus.value:delete e.option.autofocus}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{label:"输入类型",setting:l.inputStyle},null),t(te,{option:l.defaultValue},null),t(te,{option:l.placeholderPrompt},null),t(ie,{option:l.clearable},null),t(Ue,{option:l.maxLength},null),t(Ue,{option:l.minLength},null)]}),t(f("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(ie,{option:o.hide},null),t(ie,{option:o.onlyRead},null),t(ie,{option:o.disable},null),t(ie,{option:o.autofocus},null)]})]})])}});class $n{constructor(a){re(this,"containerElement",null);re(this,"rectList",[]);re(this,"handle",null);re(this,"drag",{element:null,index:0,firstIndex:0});re(this,"clone",{element:null});re(this,"diff",{x:null,y:null});re(this,"isMouseDown",!1);re(this,"dragData",null);re(this,"dragClassName",null);re(this,"cloneClassName",null);re(this,"animation",".5s");this.containerElement=a.el,this.handle=a.handle,this.dragData=V(a.dragData),this.dragClassName=a.dragClassName,this.cloneClassName=a.cloneClassName,a.animation&&(this.animation=a.animation),this.init()}init(){this.bindEventListener(),this.getRectList()}getRectList(){this.rectList.length=0;for(const a of this.containerElement.children)this.rectList.push(a.getBoundingClientRect())}onMouseDown(a){const{clientY:l,clientX:o,target:n}=a;if(n==this.containerElement||!n.classList.contains(this.handle))return;this.getRectList(),this.isMouseDown=!0,this.drag.element=this.findActionNode(n),this.drag.element.classList.add(this.dragClassName),this.clone.element=this.drag.element.cloneNode(!0),document.body.appendChild(this.clone.element),this.clone.element.className=this.cloneClassName;const u=[].indexOf.call(this.containerElement.children,this.drag.element);this.drag.index=u,this.drag.firstIndex=u;const{top:d,left:r}=this.drag.element.getBoundingClientRect();this.diff.x=o-r,this.diff.y=l-d,this.clone.element.style.top=`${d}px`,this.clone.element.style.left=`${r}px`;for(const S of this.containerElement.children)S.style.transition=`transform ${this.animation}`}onMouseMove(a){if(this.isMouseDown){this.clone.element.style.top=`${a.clientY-this.diff.y}px`;for(let l=0;l<this.rectList.length;l++)if(l!==this.drag.index&&a.clientX>this.rectList[l].left&&a.clientX<this.rectList[l].right&&a.clientY>this.rectList[l].top&&a.clientY<this.rectList[l].bottom){if(this.drag.index<l)for(let u=this.drag.index;u<l;u++)if(u<this.drag.firstIndex)this.containerElement.children[u].style.transform="translate3d(0px, 0px, 0)";else{const d=this.rectList[u].left-this.rectList[u+1].left,r=this.rectList[u].top-this.rectList[u+1].top;this.containerElement.children[u+1].style.transform="translate3d("+d+"px, "+r+"px, 0)"}else if(this.drag.index>l)for(let u=l;u<this.drag.index;u++)if(this.drag.firstIndex<=u)this.containerElement.children[u+1].style.transform="translate3d(0px, 0px, 0)";else{const d=this.rectList[u+1].left-this.rectList[u].left,r=this.rectList[u+1].top-this.rectList[u].top;this.containerElement.children[u].style.transform="translate3d("+d+"px, "+r+"px, 0)"}const o=this.rectList[l].left-this.rectList[this.drag.firstIndex].left,n=this.rectList[l].top-this.rectList[this.drag.firstIndex].top;this.drag.element.style.transform="translate3d("+o+"px, "+n+"px, 0)",this.drag.index=l;break}}}onMouseUp(){if(this.isMouseDown){this.isMouseDown=!1,this.drag.element.classList.remove(this.dragClassName),this.clone.element.remove();for(const l of this.containerElement.children)l.style.transition="none",l.style.transform="translate3d(0px, 0px, 0px)";let a=this.dragData[this.drag.firstIndex];this.dragData.splice(this.drag.firstIndex,1),this.dragData.splice(this.drag.index,0,a)}}bindEventListener(){this.containerElement.addEventListener("mousedown",this.onMouseDown.bind(this)),this.containerElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this))}findActionNode(a){return a.parentNode!=this.containerElement?this.findActionNode(a.parentNode):a}}const Un=L({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=V({inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style}});return(()=>{if(e.option.style.width){const{width:o}=e.option.style.width;o=="80px"?l.inputBoxSize.value="极小":o=="160px"?l.inputBoxSize.value="小":o=="240px"?l.inputBoxSize.value="中":o=="320px"&&(l.inputBoxSize.value="大")}})(),Z(()=>{l.inputBoxSize.value=="极小"?e.option.style.width="80px":l.inputBoxSize.value=="小"?e.option.style.width="160px":l.inputBoxSize.value=="中"?e.option.style.width="240px":l.inputBoxSize.value=="大"?e.option.style.width="320px":delete e.option.style.width}),()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{label:"下拉框尺寸",setting:l.inputBoxSize},null)]}),t(f("elCollapseItem"),{title:"下拉框样式",name:"inputBoxType"},{default:()=>[t(ce,{option:l.inputBoxType},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),Kn=L({props:{option:{type:Object}},setup(e){const a=["basic","options"],l=V({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:""},filterable:{label:"可搜索",value:e.option.filterable?e.option.filterable:!1},multiple:{label:"是否多选",value:e.option.multiple?e.option.multiple:!1},defaultValue:{value:e.option.defaultValue?e.option.defaultValue:"",options:[]},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"},selectData:[{radio:!1,value:"选项A",isShow:!1},{radio:!1,value:"选项B",isShow:!1},{radio:!1,value:"选项C",isShow:!1}]});e.option.selectData&&(l.selectData=e.option.selectData.map(d=>({...d,isShow:!1})));let o=Ve(null);He(()=>{new $n({el:o.value,handle:"selectDataDrag",dragData:l.selectData,dragClassName:"active",cloneClassName:"drag-ghost"})});const n=()=>{l.selectData.push({radio:!1,value:"",isShow:!1})};Z(()=>{l.bindingField.value!=""?e.option.bindingField=l.bindingField.value:delete e.option.bindingField,l.filterable.value?e.option.filterable=l.filterable.value:delete e.option.filterable,l.multiple.value?e.option.multiple=l.multiple.value:delete e.option.multiple,l.defaultValue.value!=""?e.option.defaultValue=l.defaultValue.value:delete e.option.defaultValue,l.inputBoxPlaceholder.value!=""?e.option.placeholder=l.inputBoxPlaceholder.value:delete e.option.placeholder,e.option.selectData=l.selectData.map(d=>({value:d.value,radio:d.radio})),new Promise(d=>{let r=[];for(let S of l.selectData)S.value.trim()!=""&&r.push(S);d(r)}).then(d=>{l.defaultValue.options=d})});const u=()=>{l.selectData.map(d=>d.isShow=!1)};return window.addEventListener("click",u),We(()=>{window.removeEventListener("click",u)}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(te,{option:l.bindingField},null),t(ie,{option:l.multiple},null),t(ie,{option:l.filterable},null),t(le,{label:"默认值",setting:l.defaultValue,change:d=>{l.selectData.map(r=>r.radio=!1),l.selectData.some(r=>{r.value==d&&(r.radio=!0)})}},null),t(te,{option:l.inputBoxPlaceholder},null)]}),t(f("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[t("div",{class:"elCollapseItem"},[C("数据")]),t("div",{class:"selectDataList",ref:o},[l.selectData.map((d,r)=>t("div",{class:"elCollapseItem"},[t("div",{class:"selectData"},[t("i",{class:"icon iconfont icon-drag selectDataDrag"},null),t("input",{class:"selectData-radio",type:"radio",value:"true",name:"defaultValue",title:"默认选中",checked:d.radio,onChange:S=>{l.selectData.forEach(c=>c.radio=!1),d.radio=!0,l.defaultValue.value=d.value}},null),t(K,{modelValue:d.value,"onUpdate:modelValue":S=>d.value=S,placeholder:"请输入选项的值"},null),t("div",{class:"selectData-menu",onClick:S=>{S.stopPropagation(),l.selectData.forEach(c=>c.isShow=!1),d.isShow=!0}},[t("i",{class:"icon iconfont icon-caidan"},null),X(t("div",{class:"selectData-menu-dropdown"},[X(t("span",{onClick:S=>{S.stopPropagation(),d.isShow=!1,d.radio=!1}},[C("取消勾选")]),[[ee,d.radio]]),t("span",{onClick:S=>{S.stopPropagation(),d.isShow=!1,l.selectData.length>1?l.selectData.splice(r,1):ge.warning({message:"最后一项不可删除",duration:2e3})}},[C("删除")])]),[[ee,d.isShow]])])])]))]),t("div",{class:"elCollapseItem selectDataList-footer"},[t(rt,{plain:!0,onClick:n},{default:()=>[C("添加选项")]}),t(rt,{plain:!0},{default:()=>[C("批量添加")]})])]})]})])}}),Hn=L({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=V({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:o}=e.option.style.input.width;o=="80px"?l.inputBoxSize.value="极小":o=="160px"?l.inputBoxSize.value="小":o=="240px"?l.inputBoxSize.value="中":o=="320px"&&(l.inputBoxSize.value="大")}})(),Z(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width}),()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{label:"布局",setting:l.layout},null),t(le,{label:"输入框尺寸",setting:l.inputBoxSize},null)]}),t(f("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(ce,{option:l.titleType},null)]}),t(f("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(ce,{option:l.inputBoxType},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),Wn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},inputType:{value:"文本",options:[{value:"文本"},{value:"密码"},{value:"邮箱"}]},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return e.option.inputType&&(e.option.inputType=="text"&&(l.inputType.value="文本"),e.option.inputType=="password"&&(l.inputType.value="密码"),e.option.inputType=="email"&&(l.inputType.value="邮箱")),Z(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(n=>{l[n].value!=""?e.option[n]=l[n].value:delete e.option[n]}),l.inputType.value!=""?l.inputType.value=="文本"?e.option.inputType="text":l.inputType.value=="密码"?e.option.inputType="password":e.option.inputType="email":delete e.option.inputType}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(te,{option:l.bindingField},null),t(le,{label:"输入类型",setting:l.inputType},null),t(te,{option:l.title},null),t(ie,{option:l.clearable},null),t(te,{option:l.inputBoxPlaceholder},null)]})]})])}}),Yn=L({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=V({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},rows:{minRows:{label:"最小展示行数",value:e.option.autosize.minRows,min:1,max:99},maxRows:{label:"最大展示行数",value:e.option.autosize.maxRows,min:1,max:99}},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:o}=e.option.style.input.width;o=="80px"?l.inputBoxSize.value="极小":o=="160px"?l.inputBoxSize.value="小":o=="240px"?l.inputBoxSize.value="中":o=="320px"&&(l.inputBoxSize.value="大")}})(),Z(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width,e.option.autosize.minRows=l.rows.minRows.value,e.option.autosize.maxRows=l.rows.maxRows.value}),()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(le,{label:"布局",setting:l.layout},null),t(le,{label:"输入框尺寸",setting:l.inputBoxSize},null),t(Ue,{option:l.rows.minRows},null),t(Ue,{option:l.rows.maxRows},null)]}),t(f("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(ce,{option:l.titleType},null)]}),t(f("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(ce,{option:l.inputBoxType},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),Xn=L({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=V({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return Z(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(n=>{l[n].value!=""?e.option[n]=l[n].value:delete e.option[n]})}),()=>t(T,null,[t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(te,{option:l.bindingField},null),t(te,{option:l.title},null),t(ie,{option:l.clearable},null),t(te,{option:l.inputBoxPlaceholder},null)]})]})])}}),Jn=L({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:a},{default:()=>[t(f("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(ce,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[C("编辑样式源码")])])])]})]})}}),qn=L({props:{option:{type:Object}},setup(){const e=["basic"],a=V({leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"}});return()=>t(T,null,[t(f("elCollapse"),{modelValue:e},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Ze,{label:"修改图标",setting:a.leftIconSelect},null)]})]})])}}),Qn=[{type:"container-ordinary",Properties(e){return t(Pn,{option:e},null)},appearances(e){return t(An,{option:e},null)}},{type:"container-free",Properties(e){return t(Mn,{option:e},null)},appearances(e){return t(Fn,{option:e},null)}},{type:"text",Properties(e){return t(jn,{option:e},null)},appearances(e){return t(Tn,{option:e},null)}},{type:"button",Properties(e){return t(On,{option:e},null)},appearances(e){return t(Nn,{option:e},null)}},{type:"input",Properties(e){return t(zn,{option:e},null)},appearances(e){return t(Rn,{option:e},null)}},{type:"select",Properties(e){return t(Kn,{option:e},null)},appearances(e){return t(Un,{option:e},null)}},{type:"textBox",Properties(e){return t(Wn,{option:e},null)},appearances(e){return t(Hn,{option:e},null)}},{type:"multilineText",Properties(e){return t(Xn,{option:e},null)},appearances(e){return t(Yn,{option:e},null)}},{type:"icon",Properties(e){return t(qn,{option:e},null)},appearances(e){return t(Jn,{option:e},null)}}];class Gn{constructor(a=new Map){this.componentMap=a}register(a){this.componentMap.set(a.type,a)}}const gt=new Gn;for(let e of Qn)gt.register({type:e.type,Properties:a=>e.Properties(a),appearances:a=>e.appearances(a)});const Zn=L({props:{EditorData:Object},setup(e){return()=>t("div",{class:"EditorPreview"},[t("div",{id:"body",style:e.EditorData.style},[mt("page")]),t("div",{class:"EditorPreview-leftMessage"},[C("按ESC可退出预览")])])}});function ei(){let e=-1,a=[],l={},o=[],n=xe(H),u=ve(H);const d=[{name:"copy",keyboard:"ctrl+c",execute(){return{redo(){n.copyData=u.selectKey}}}},{name:"paste",keyboard:"ctrl+v",pushQueue:!0,execute(){var b;let v=n.copyData,s=u.selectKey,m=((b=n.EditorDataMap.get(s))==null?void 0:b.parent)||"page",p=n.EditorDataMap.get(m).children.findIndex(B=>B==s),w=n.EditorDataMap.get(v),O=[];return{redo(){function B(R,_,A){A.parent=_;let P=ct(R.replace(/-[^-]*$/,""),se(A));return O.push(P),Array.isArray(A.children)&&(n.EditorDataMap.get(P).children=A.children.map(h=>B(h,P,n.EditorDataMap.get(h)))),P}n.EditorDataMap.get(m).children.splice(p+1,0,B(v,m,w))},undo(){n.EditorDataMap.get(m).children.splice(p+1,1),O.forEach(B=>{n.EditorDataMap.delete(B)})}}}},{name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let v=a[e+1];v&&(v.redo&&v.redo(),e++)}}}},{name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(e==-1)return;let v=a[e];v&&(v.undo&&v.undo(),e--)}}}},{name:"shear",keyboard:"ctrl+x",pushQueue:!0,execute(){var p;n.copyData=u.selectKey;let v=u.selectKey,s=((p=n.EditorDataMap.get(v))==null?void 0:p.parent)||"page",m=n.EditorDataMap.get(s).children.findIndex(w=>w==v);return u.isDrag&&u.destructionOfDrag(),{redo(){n.EditorDataMap.get(s).children.splice(m,1)},undo(){n.EditorDataMap.get(s).children.splice(m,0,v)}}}},{name:"save",keyboard:"ctrl+s",execute(){return{async redo(){var s;n.isLoading=!0,n.setEditorData(),$e("title",n.title),$e("data",n.EditorData),((s=(await Ha({jsonData:JSON.stringify(n.EditorData),id:Be("id"),title:n.title})).data)==null?void 0:s.code)==200&&(n.isLoading=!1,n.isNeedSave=!1,n.isSucessSave=!0,ge.success({message:"保存成功",duration:2e3}))}}}},{name:"removeSave",keyboard:"ctrl+delete",execute(){return{redo(){localStorage.removeItem("title"),localStorage.removeItem("data"),ge.success({message:"清除保存数据成功",duration:2e3})}}}},{name:"delete",keyboard:"delete",pushQueue:!0,execute(){let v=u.selectKey,s=n.EditorDataMap.get(v).parent||"page",m=n.EditorDataMap.get(s).children.findIndex(p=>p==v);return u.isDrag&&u.destructionOfDrag(),{redo(){n.EditorDataMap.get(s).children.splice(m,1)},undo(){n.EditorDataMap.get(s).children.splice(m,0,v)}}}},{name:"preview",keyboard:"ctrl+p",execute(){return{redo(){n.isPreview||(n.setEditorData(),n.isPreview=!0,ge.success({message:"已进入预览模式",duration:2e3}))}}}},{name:"exitPreview",keyboard:"esc",execute(){return{redo(){n.isPreview&&(n.isPreview=!1,ge.success({message:"已退出预览模式",duration:1e3}))}}}},{name:"export",keyboard:"ctrl+e",execute(){return{redo(){const v=document.createElement("a");v.style.display="none",v.download=n.title+".json";var s=new Blob([JSON.stringify(n.EditorData)]);v.href=URL.createObjectURL(s),document.body.appendChild(v),v.click(),document.body.removeChild(v)}}}},{name:"clone",pushQueue:!0,init(){this.before=null;const v=()=>this.before=se(n.EditorData),s=()=>l.clone();return Re.on("cloneStart",v),Re.on("cloneEnd",s),()=>{Re.off("cloneStart",v),Re.off("cloneEnd",s)}},execute(){var O;let v=u.selectParent,s=u.selectedMaterial,m=se(u.selectedMaterial.defaultData),p=(O=n.EditorDataMap.get(v))==null?void 0:O.children.length,w=null;return{redo(){var b;w=ct(s.type,{...m,parent:v}),(b=n.EditorDataMap.get(v))==null||b.children.push(w)},undo(){var b;(b=n.EditorDataMap.get(v))==null||b.children.splice(p,1),n.EditorDataMap.delete(w)}}}}],r={67:"c",86:"v",90:"z",89:"y",88:"x",83:"s",46:"delete",80:"p",27:"esc",69:"e"},S=v=>{l[v.name]=()=>{if(u.isDraging)return;const{redo:s,undo:m}=v.execute();s(),v.pushQueue&&(a.length>0&&(a=a.slice(0,e+1),a=a),a.push({redo:s,undo:m}),e+=1)}},c=(()=>{const v=s=>{const{ctrlKey:m,keyCode:p}=s;let w=[];m&&w.push("ctrl"),w.push(r[p]);let O=w.join("+");d.forEach(({keyboard:b,name:B})=>{if(b&&b===O){if(l[B](),O!="ctrl+s"&&(n.isNeedSave=!0),["c","v","x"].includes(r[p])&&!u.isDrag)return;s.preventDefault()}})};return()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)})})();return o.push(c()),d.forEach(v=>{S(v),v.init&&o.push(v.init())}),We(()=>{o.forEach(v=>v&&v())}),{commands:l}}const Xe=e=>(tt("data-v-56ae4ebc"),e=e(),et(),e),ti={class:"editor"},li={class:"editor-header"},ai={class:"editor-header-left"},ni=Xe(()=>k("i",{class:"icon iconfont icon-fanhui"},null,-1)),ii=[ni],oi=Xe(()=>k("h2",null,"codeFlow",-1)),si={class:"editor-header-mid"},ui={class:"isSave"},ri={key:0,class:"svg"},ci=vt('<svg class="circle" viewBox="0 0 1024 1024" data-v-56ae4ebc><circle class="loading-circle" cx="512" cy="512" r="330" fill="none" stroke="url(#gradient)" stroke-width="60" data-v-56ae4ebc></circle><defs data-v-56ae4ebc><linearGradient id="gradient" data-v-56ae4ebc><stop offset="0%" stop-color="#ffffff" data-v-56ae4ebc></stop><stop offset="18%" stop-color="#ffffff" data-v-56ae4ebc></stop><stop offset="18%" stop-color="#000000" data-v-56ae4ebc></stop><stop offset="100%" stop-color="#000000" data-v-56ae4ebc></stop></linearGradient></defs></svg>',1),di=[ci],pi={class:"editor-header-right"},fi=Xe(()=>k("i",{class:"icon iconfont icon-jianpan"},null,-1)),vi=[fi],hi=Xe(()=>k("div",{class:"editor-header-right-avatar"},[k("img",{src:Ka,alt:"user"})],-1)),mi={class:"editor-body"},bi={class:"editor-body-left"},yi={class:"editor-body-container"},gi={class:"editor-body-container-top"},xi={class:"el-breadcrumb-button"},Ci={class:"editor-body-container-content"},wi={class:"editor-body-container-content_inner",ref:"editArea"},Si={class:"editor-body-right"},Ei={class:"shortcuts"},Di={class:"shortcuts-key"},Vi=L({__name:"editor",setup(e){Ge("editorConfig",dt),Ge("erConfig",gt);const a=xe(H),l=ve(H);a.title=Be("title")?Be("title"):"新项目",a.EditorData=Be("data")?Be("data"):V(Wa),a.setMap();const{commands:o}=ei(),n=V({dialogIsShow:!1}),u=Ve(null),d=Ve(!1),r=s=>{d.value=!1,s.trim()==""&&(u.value.focus(),ge.warning({message:"标题不能为空",duration:1e3}))};G(()=>a.title,s=>{s.trim()==""&&ge.warning({message:"标题不能为空",duration:1e3})});const S=[{label:"复制",key:"Ctrl+C"},{label:"粘贴",key:"Ctrl+V"},{label:"撤销",key:"Ctrl+Z"},{label:"还原",key:"Ctrl+Y"},{label:"剪切",key:"Ctrl+X"},{label:"保存",key:"Ctrl+S"},{label:"删除",key:"Delete"},{label:"预览",key:"Ctrl+P"},{label:"退出预览",key:"ESC"},{label:"导出",key:"Ctrl+E"}],c=s=>{console.log(s);let m=!1;const p=w=>{let O=a.EditorDataMap.get(w),b=dt.componentMap.get(O.type).label;a.Breadcrumb.push(b);let B=a.EditorDataMap.get(w).children;if(Array.isArray(B))for(let R=0;R<B.length&&!m;R++)p(B[R]);else if(w==l.selectKey){m=!0;return}else{a.Breadcrumb.pop();return}};if(Array.isArray(s))for(let w=0;w<s.length&&!m;w++)a.Breadcrumb=["页面"],p(s[w])};G(()=>l.selectKey,()=>{l.selectKey!="page"?c(a.EditorDataMap.get("page").children):a.Breadcrumb=["页面"]});const v=V({icon:"icon-duigouzhong",context:"所有更改已保存"});return G(()=>a.isSucessSave,s=>{s&&(v.icon="icon-duigouzhong",v.context="已保存")}),G(()=>a.isNeedSave,s=>{s&&(v.icon="icon-weixuanzhong",v.context="未保存")}),G(()=>a.isLoading,s=>{s&&(v.icon="icon-weixuanzhong",v.context="正在保存")}),(s,m)=>{const p=f("el-breadcrumb-item"),w=f("el-breadcrumb"),O=f("el-dialog");return U(),ne(T,null,[X(k("div",ti,[k("header",li,[k("div",ai,[k("span",{class:"editor-header-left-exit",onClick:m[0]||(m[0]=b=>s.$router.go(-1))},ii),oi]),k("div",si,[k("div",{class:Pe(["editor-header-mid-title",{active:d.value}])},[X(k("input",{type:"text","onUpdate:modelValue":m[1]||(m[1]=b=>j(a).title=b),ref_key:"editorTitle",ref:u,onBlur:m[2]||(m[2]=b=>r(j(a).title)),onFocus:m[3]||(m[3]=b=>d.value=!0)},null,544),[[lt,j(a).title]]),k("div",ui,[j(a).isLoading?(U(),ne("div",ri,di)):de("",!0),j(a).isLoading?de("",!0):(U(),ne("i",{key:1,class:Pe(["icon iconfont",v.icon])},null,2)),k("span",null,De(v.context),1)])],2)]),k("div",pi,[k("div",{class:"editor-header-right-shortcut",onClick:m[4]||(m[4]=b=>n.dialogIsShow=!0)},vi),k("div",{class:"editor-header-right-btn",onClick:m[5]||(m[5]=b=>j(o).preview())}," 预览 "),k("div",{class:"editor-header-right-btn",onClick:m[6]||(m[6]=b=>j(o).export())}," 导出 "),t(j(Ua),{placement:"bottom",width:200,trigger:"click"},{reference:_e(()=>[hi]),default:_e(()=>[t(j(Ya))]),_:1})])]),k("section",mi,[k("div",bi,[t(bn,{EditorData:j(a).EditorDataMap},null,8,["EditorData"])]),k("div",yi,[k("div",gi,[t(w,{separator:">"},{default:_e(()=>[(U(!0),ne(T,null,Ne(j(a).Breadcrumb,b=>(U(),fe(p,{onClick:m[7]||(m[7]=()=>{console.log(1)})},{default:_e(()=>[k("span",xi,De(b),1)]),_:2},1024))),256))]),_:1})]),k("div",Ci,[k("div",wi,[t(j(Bn),{EditorData:j(a).EditorDataMap},null,8,["EditorData"])],512)])]),k("div",Si,[t(_n,{EditorData:j(a).EditorDataMap},null,8,["EditorData"])])])],512),[[ee,!j(a).isPreview]]),j(a).isPreview?(U(),fe(j(Zn),{key:0,EditorData:j(a).EditorData},null,8,["EditorData"])):de("",!0),t(O,{title:"快捷键",modelValue:n.dialogIsShow,"onUpdate:modelValue":m[8]||(m[8]=b=>n.dialogIsShow=b),width:"30%"},{default:_e(()=>[k("ul",Ei,[(U(),ne(T,null,Ne(S,b=>k("li",{key:b.key},[k("label",null,De(b.label),1),k("div",Di,De(b.key),1)])),64))])]),_:1},8,["modelValue"])],64)}}});const Bi=Ye(Vi,[["__scopeId","data-v-56ae4ebc"]]);export{Bi as default};
