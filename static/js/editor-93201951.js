var xt=Object.defineProperty;var Ct=(e,a,l)=>a in e?xt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var ue=(e,a,l)=>(Ct(e,typeof a!="symbol"?a+"":a,l),l);import{B as wt,j as St,C as Vt,k as Et,F as N,K as kt,R as It,S as Lt,l as Dt,T as _t,m as Bt,n as Pt,q as Ft,V as At,v as Mt,x as Tt,y as jt,z as Nt,A as Ot,D as Rt,G as zt,H as $t,I as Ut,f as pe,g as ce,c as ae,b as L,J as Kt,L as Ht,M as Wt,N as Yt,O as Xt,P as ft,Q as w,d as t,U as Jt,W as qt,X as I,Y as Qt,Z as Gt,_ as Zt,$ as el,a0 as tl,a1 as ll,a2 as al,a3 as nl,a4 as ol,a5 as il,a6 as sl,a7 as ul,a8 as rl,a9 as cl,aa as dl,ab as pl,ac as fl,ad as vl,ae as hl,af as ml,ag as bl,ah as Ee,ai as yl,aj as gl,ak as xl,al as Cl,am as wl,an as Sl,ao as Vl,ap as Pe,aq as El,ar as kl,as as Il,at as Ll,au as Dl,av as Be,aw as _l,ax as Bl,ay as Pl,az as Fl,aA as Al,aB as Ml,aC as Tl,aD as jl,aE as Ke,aF as Nl,aG as Ol,aH as Rl,aI as zl,aJ as He,aK as $l,o as $,aL as Ze,aM as Qe,aN as Ul,aO as et,aP as Kl,r as k,aQ as Hl,a as Ve,aR as Wl,aS as Yl,aT as Te,aU as Xl,aV as v,aW as Jl,aX as ql,aY as Ql,aZ as Gl,a_ as Zl,a$ as ea,b0 as ta,b1 as la,b2 as aa,b3 as na,b4 as oa,b5 as ia,b6 as sa,t as Se,b7 as ua,b8 as ra,b9 as ca,ba as da,bb as pa,bc as fa,bd as va,be as ha,u as T,bf as ma,bg as ba,bh as ya,bi as ga,bj as xa,bk as Ca,bl as wa,bm as Sa,bn as Va,bo as Ea,bp as ka,bq as tt,br as G,bs as Ia,bt as La,bu as ne,bv as te,bw as Da,bx as _a,by as Ba,w as Le,bz as Pa,bA as Y,bB as Fa,bC as Aa,bD as Ma,bE as Ta,bF as De,bG as ze,bH as ja,bI as Na,bJ as Oa,p as Q,i as xe,e as K,bK as Ra,bL as za,bM as st,bN as ut,bO as $a}from"./index-9b1bbba9.js";import{m as Ce,d as Re,a as rt,_ as Ua}from"./userStore-3a7a7dff.js";import{u as _e,d as me,m as vt,a as Ka,e as Ne,b as Ha,P as Wa,c as ct}from"./home-190778af.js";const Ya=()=>{},Xa=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:wt,BaseTransitionPropsValidators:St,Comment:Vt,EffectScope:Et,Fragment:N,KeepAlive:kt,ReactiveEffect:It,Static:Lt,Suspense:Dt,Teleport:_t,Text:Bt,Transition:Pt,TransitionGroup:Ft,VueElement:At,assertNumber:Mt,callWithAsyncErrorHandling:Tt,callWithErrorHandling:jt,camelize:Nt,capitalize:Ot,cloneVNode:Rt,compatUtils:zt,compile:Ya,computed:$t,createApp:Ut,createBlock:pe,createCommentVNode:ce,createElementBlock:ae,createElementVNode:L,createHydrationRenderer:Kt,createPropsRestProxy:Ht,createRenderer:Wt,createSSRApp:Yt,createSlots:Xt,createStaticVNode:ft,createTextVNode:w,createVNode:t,customRef:Jt,defineAsyncComponent:qt,defineComponent:I,defineCustomElement:Qt,defineEmits:Gt,defineExpose:Zt,defineModel:el,defineOptions:tl,defineProps:ll,defineSSRCustomElement:al,defineSlots:nl,get devtools(){return ol},effect:il,effectScope:sl,getCurrentInstance:ul,getCurrentScope:rl,getTransitionRawChildren:cl,guardReactiveProps:dl,h:pl,handleError:fl,hasInjectionContext:vl,hydrate:hl,initCustomFormatter:ml,initDirectivesForSSR:bl,inject:Ee,isMemoSame:yl,isProxy:gl,isReactive:xl,isReadonly:Cl,isRef:wl,isRuntimeOnly:Sl,isShallow:Vl,isVNode:Pe,markRaw:El,mergeDefaults:kl,mergeModels:Il,mergeProps:Ll,nextTick:Dl,normalizeClass:Be,normalizeProps:_l,normalizeStyle:Bl,onActivated:Pl,onBeforeMount:Fl,onBeforeUnmount:Al,onBeforeUpdate:Ml,onDeactivated:Tl,onErrorCaptured:jl,onMounted:Ke,onRenderTracked:Nl,onRenderTriggered:Ol,onScopeDispose:Rl,onServerPrefetch:zl,onUnmounted:He,onUpdated:$l,openBlock:$,popScopeId:Ze,provide:Qe,proxyRefs:Ul,pushScopeId:et,queuePostFlushCb:Kl,reactive:k,readonly:Hl,ref:Ve,registerRuntimeCompiler:Wl,render:Yl,renderList:Te,renderSlot:Xl,resolveComponent:v,resolveDirective:Jl,resolveDynamicComponent:ql,resolveFilter:Ql,resolveTransitionHooks:Gl,setBlockTracking:Zl,setDevtoolsHook:ea,setTransitionHooks:ta,shallowReactive:la,shallowReadonly:aa,shallowRef:na,ssrContextKey:oa,ssrUtils:ia,stop:sa,toDisplayString:Se,toHandlerKey:ua,toHandlers:ra,toRaw:ca,toRef:da,toRefs:pa,toValue:fa,transformVNodeArgs:va,triggerRef:ha,unref:T,useAttrs:ma,useCssModule:ba,useCssVars:ya,useModel:ga,useSSRContext:xa,useSlots:Ca,useTransitionState:wa,vModelCheckbox:Sa,vModelDynamic:Va,vModelRadio:Ea,vModelSelect:ka,vModelText:tt,vShow:G,version:Ia,warn:La,watch:ne,watchEffect:te,watchPostEffect:Da,watchSyncEffect:_a,withAsyncContext:Ba,withCtx:Le,withDefaults:Pa,withDirectives:Y,withKeys:Fa,withMemo:Aa,withModifiers:Ma,withScopeId:Ta},Symbol.toStringTag,{value:"Module"}));const lt=I({props:{search:{type:Object}},setup(e){const a=Ve(null),l=k({searchList:De(e.search.searchKey)||[],inputIsFocus:!1}),i=()=>{l.inputIsFocus=!0},n=()=>{l.inputIsFocus=!1};window.addEventListener("click",n),He(()=>{window.removeEventListener("click",n)});const c=()=>{if(e.search.value.trim()!=""){let r=l.searchList.findIndex(f=>f==e.search.value);r>=0&&l.searchList.splice(r,1),l.searchList.unshift(e.search.value),ze(e.search.searchKey,l.searchList)}},u=()=>{l.searchList=[],localStorage.removeItem(e.search.searchKey)},s=(r,f)=>{f.stopPropagation(),l.searchList.splice(r,1),ze(e.search.searchKey,l.searchList)},S=r=>{n(),e.search.value=r,c()};return ne(()=>e.search.value,r=>{r==""?i():n()}),()=>t("div",{class:"el-search",onClick:r=>{r.stopPropagation()}},[t("div",{class:[l.inputIsFocus?"el-search-input-focus":"","el-search-input"]},[Y(t("input",{ref:a,type:"text",placeholder:e.search.placeholder,onFocus:i,onChange:c,"onUpdate:modelValue":r=>e.search.value=r},null),[[tt,e.search.value]]),t("span",null,[t("i",{class:["icon iconfont",e.search.value?"icon-cha":"icon-search"],onClick:r=>e.search.value=""},null)])]),l.inputIsFocus&&t("div",{class:"el-search-content",onClick:()=>{}},[l.searchList.length!=0&&t("div",{class:"el-search-content-history"},[t("div",{class:"el-search-content-history-header"},[t("span",null,[w("搜索历史")]),t("span",{onClick:u},[w("清空")])]),t("div",{class:"el-search-content-history-list"},[t("ul",null,[l.searchList.map((r,f)=>t("li",{onClick:d=>S(r)},[t("span",null,[r]),t("i",{class:"icon iconfont icon-guanbi",onClick:d=>s(f,d)},null)]))])])]),t("div",{class:"el-search-content-default"},[t("div",{class:"el-search-content-default-header"},[t("span",null,[e.search.searchDefault.label])]),t("div",{class:"el-search-content-default-list"},[t("ul",null,[e.search.searchDefault.list.map(r=>t("li",{onClick:f=>S(r)},[t("span",null,[r])]))])])])])])}}),Ja=I({props:{EditorData:Object},setup(){const e=Ee("editorConfig"),a=k({search:{value:"",searchKey:"componentSearch",searchDefault:{label:"组件分类",list:["布局容器","常用组件","表单"]},placeholder:"查找组件"},componentList:{container:{label:"布局容器",list:[],hidden:!1},common:{label:"常用组件",list:[],hidden:!1},form:{label:"表单",list:[],hidden:!1}},activeName:k(["layoutContainer","commonComponents","form"])});return e.componentList.map(l=>{switch(l.category){case"container":a.componentList.container.list.push(l);break;case"common":a.componentList.common.list.push(l);break;case"form":a.componentList.form.list.push(l);break}}),ne(()=>a.search.value,l=>{if(l=="")for(let i of Object.keys(a.componentList))a.componentList[i].list.filter(n=>{n.display=!0}),a.componentList[i].hidden=!1;else for(let i of Object.keys(a.componentList))if(a.componentList[i].label.indexOf(l)>=0)a.componentList[i].list.filter(n=>{n.display=!0});else{let n=a.componentList[i].list.length;a.componentList[i].list.map(c=>{c.label.indexOf(l)>=0?c.display=!0:(c.display=!1,n--)}),a.componentList[i].hidden=n==0}}),()=>t("div",{class:"ElComponent"},[t("div",{class:"ElComponent-top"},[t(lt,{search:a.search},null)]),t("div",{class:"ElComponent-list"},[t(v("elCollapse"),{modelValue:a.activeName,"onUpdate:modelValue":l=>a.activeName=l},{default:()=>[!a.componentList.container.hidden&&t(v("elCollapseItem"),{title:"布局容器",name:"layoutContainer"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.container.list.map(l=>l.display&&t("div",{onMousedown:i=>_e.cloneMousedown(l,i)},[l.preview()]))])]}),!a.componentList.common.hidden&&t(v("elCollapseItem"),{title:"常用组件",name:"commonComponents"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.common.list.map(l=>l.display&&t("div",{onMousedown:i=>_e.cloneMousedown(l,i)},[l.preview()]))])]}),!a.componentList.form.hidden&&t(v("elCollapseItem"),{title:"表单",name:"form"},{default:()=>[t("div",{class:"ElComponent-list-item"},[a.componentList.form.list.map(l=>l.display&&t("div",{onMousedown:i=>_e.cloneMousedown(l,i)},[l.preview()]))])]})]})])])}});const qa=I({props:{EditorData:Object},setup(){const e=Ee("editorConfig"),a=k({search:{value:"",searchKey:"iconSearch",searchDefault:{label:"图标分类",list:["用户","关闭","哈哈哈"]},placeholder:"查找图标"},color:"#000",fontSize:16,iconList:e.iconList});return ne(()=>a.search.value,l=>{if(l=="")for(let i of a.iconList)i.display=!0;else for(let i of a.iconList)i.label.indexOf(l)>=0?i.display=!0:i.display=!1}),()=>t("div",{class:"ElIcon"},[t("div",{class:"ElIcon-top"},[t(lt,{search:a.search},null)]),t("div",{class:"ElIcon-comfig"},[t(v("el-color-picker"),{modelValue:a.color,"onUpdate:modelValue":l=>a.color=l},null),t(v("el-input-number"),{modelValue:a.fontSize,"onUpdate:modelValue":l=>a.fontSize=l,"controls-position":"right",min:12,"data-unit":"px"},null)]),t("div",{class:"ElIcon-list"},[a.iconList.map(l=>l.display&&t("div",{onMousedown:i=>{l.defaultData.style.fontSize=`${a.fontSize}px`,l.defaultData.style.color=a.color,_e.cloneMousedown(l,i)}},[l.preview()]))])])}});var ht={exports:{}};const Qa=ja(Xa);(function(e,a){(function(l,i){e.exports=i(Qa)})(Na,function(l){return function(){var i={789:function(s){s.exports=l}},n={};function c(s){var S=n[s];if(S!==void 0)return S.exports;var r=n[s]={exports:{}};return i[s](r,r.exports,c),r.exports}c.d=function(s,S){for(var r in S)c.o(S,r)&&!c.o(s,r)&&Object.defineProperty(s,r,{enumerable:!0,get:S[r]})},c.o=function(s,S){return Object.prototype.hasOwnProperty.call(s,S)},c.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var u={};return function(){function s(o,b){(b==null||b>o.length)&&(b=o.length);for(var x=0,D=new Array(b);x<b;x++)D[x]=o[x];return D}function S(o,b){if(o){if(typeof o=="string")return s(o,b);var x=Object.prototype.toString.call(o).slice(8,-1);return x==="Object"&&o.constructor&&(x=o.constructor.name),x==="Map"||x==="Set"?Array.from(o):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?s(o,b):void 0}}function r(o){return function(b){if(Array.isArray(b))return s(b)}(o)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(o)||S(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(o,b,x){return b in o?Object.defineProperty(o,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):o[b]=x,o}c.r(u),c.d(u,{default:function(){return X}});var d=c(789),y=(0,d.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var o=this.data,b=this.onClick;return(0,d.createVNode)("span",{class:"vjs-tree-brackets",onClick:b},[o])}}),p=(0,d.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(o,b){var x=b.emit;return{uiType:(0,d.computed)(function(){return o.isMultiple?"checkbox":"radio"}),model:(0,d.computed)({get:function(){return o.checked},set:function(D){return x("update:modelValue",D)}})}},render:function(){var o=this.uiType,b=this.model,x=this.$emit;return(0,d.createVNode)("label",{class:["vjs-check-controller",b?"is-checked":""],onClick:function(D){return D.stopPropagation()}},[(0,d.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(o)},null),(0,d.createVNode)("input",{checked:b,class:"vjs-check-controller-original is-".concat(o),type:o,onChange:function(){return x("change",b)}},null)])}}),C=(0,d.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var o=this.nodeType,b=this.onClick,x=o==="objectStart"||o==="arrayStart";return x||o==="objectCollapsed"||o==="arrayCollapsed"?(0,d.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(x?"open":"close"),onClick:b},[(0,d.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,d.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function U(o){return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},U(o)}function m(o){return Object.prototype.toString.call(o).slice(8,-1).toLowerCase()}function B(o){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,D=arguments.length>3?arguments[3]:void 0,J=D||{},ie=J.key,be=J.index,H=J.type,de=H===void 0?"content":H,le=J.showComma,ye=le!==void 0&&le,fe=J.length,we=fe===void 0?1:fe,ke=m(o);if(ke==="array"){var Fe=O(o.map(function(se,R,g){return B(se,"".concat(b,"[").concat(R,"]"),x+1,{index:R,showComma:R!==g.length-1,length:we,type:de})}));return[B("[",b,x,{showComma:!1,key:ie,length:o.length,type:"arrayStart"})[0]].concat(Fe,B("]",b,x,{showComma:ye,length:o.length,type:"arrayEnd"})[0])}if(ke==="object"){var ge=Object.keys(o),Ae=O(ge.map(function(se,R,g){return B(o[se],/^[a-zA-Z_]\w*$/.test(se)?"".concat(b,".").concat(se):"".concat(b,'["').concat(se,'"]'),x+1,{key:se,showComma:R!==g.length-1,length:we,type:de})}));return[B("{",b,x,{showComma:!1,key:ie,index:be,length:ge.length,type:"objectStart"})[0]].concat(Ae,B("}",b,x,{showComma:ye,length:ge.length,type:"objectEnd"})[0])}return[{content:o,level:x,key:ie,index:be,path:b,showComma:ye,length:we,type:de}]}function O(o){if(typeof Array.prototype.flat=="function")return o.flat();for(var b=r(o),x=[];b.length;){var D=b.shift();Array.isArray(D)?b.unshift.apply(b,r(D)):x.push(D)}return x}function _(o){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(o==null)return o;if(o instanceof Date)return new Date(o);if(o instanceof RegExp)return new RegExp(o);if(U(o)!=="object")return o;if(b.get(o))return b.get(o);if(Array.isArray(o)){var x=o.map(function(ie){return _(ie,b)});return b.set(o,x),x}var D={};for(var J in o)D[J]=_(o[J],b);return b.set(o,D),D}function P(o,b){var x=Object.keys(o);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(o);b&&(D=D.filter(function(J){return Object.getOwnPropertyDescriptor(o,J).enumerable})),x.push.apply(x,D)}return x}function F(o){for(var b=1;b<arguments.length;b++){var x=arguments[b]!=null?arguments[b]:{};b%2?P(Object(x),!0).forEach(function(D){f(o,D,x[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(x)):P(Object(x)).forEach(function(D){Object.defineProperty(o,D,Object.getOwnPropertyDescriptor(x,D))})}return o}var h={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},j=(0,d.defineComponent)({name:"TreeNode",props:F(F({},h),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(o,b){var x=b.emit,D=(0,d.computed)(function(){return m(o.node.content)}),J=(0,d.computed)(function(){return"vjs-value vjs-value-".concat(D.value)}),ie=(0,d.computed)(function(){return o.showDoubleQuotes?'"'.concat(o.node.key,'"'):o.node.key}),be=(0,d.computed)(function(){return o.selectableType==="multiple"}),H=(0,d.computed)(function(){return o.selectableType==="single"}),de=(0,d.computed)(function(){return o.nodeSelectable(o.node)&&(be.value||H.value)}),le=(0,d.reactive)({editing:!1}),ye=function(R){var g,E,A=(E=(g=R.target)===null||g===void 0?void 0:g.value)==="null"?null:E==="undefined"?void 0:E==="true"||E!=="false"&&(E[0]+E[E.length-1]==='""'||E[0]+E[E.length-1]==="''"?E.slice(1,-1):typeof Number(E)=="number"&&!isNaN(Number(E))||E==="NaN"?Number(E):E);x("valueChange",A,o.node.path)},fe=(0,d.computed)(function(){var R,g=(R=o.node)===null||R===void 0?void 0:R.content;return g===null?g="null":g===void 0&&(g="undefined"),D.value==="string"?'"'.concat(g,'"'):g+""}),we=function(){var R=o.renderNodeValue;return R?R({node:o.node,defaultValue:fe.value}):fe.value},ke=function(){x("bracketsClick",!o.collapsed,o.node.path)},Fe=function(){x("iconClick",!o.collapsed,o.node.path)},ge=function(){x("selectedChange",o.node)},Ae=function(){x("nodeClick",o.node),de.value&&o.selectOnClickNode&&x("selectedChange",o.node)},se=function(R){if(o.editable&&!le.editing){le.editing=!0;var g=function E(A){var z;A.target!==R.target&&((z=A.target)===null||z===void 0?void 0:z.parentElement)!==R.target&&(le.editing=!1,document.removeEventListener("click",E))};document.removeEventListener("click",g),document.addEventListener("click",g)}};return function(){var R,g=o.node;return(0,d.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":o.showSelectController,"has-carets":o.showIcon,"is-highlight":o.highlightSelectedNode&&o.checked},onClick:Ae,style:o.style},[o.showLineNumber&&(0,d.createVNode)("span",{class:"vjs-node-index"},[g.id+1]),o.showSelectController&&de.value&&g.type!=="objectEnd"&&g.type!=="arrayEnd"&&(0,d.createVNode)(p,{isMultiple:be.value,checked:o.checked,onChange:ge},null),(0,d.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(g.level)).map(function(E,A){return(0,d.createVNode)("div",{key:A,class:{"vjs-indent-unit":!0,"has-line":o.showLine}},null)}),o.showIcon&&(0,d.createVNode)(C,{nodeType:g.type,onClick:Fe},null)]),g.key&&(0,d.createVNode)("span",{class:"vjs-key"},[(R=o.renderNodeKey,R?R({node:o.node,defaultKey:ie.value||""}):ie.value),(0,d.createVNode)("span",{class:"vjs-colon"},[":".concat(o.showKeyValueSpace?" ":"")])]),(0,d.createVNode)("span",null,[g.type!=="content"&&g.content?(0,d.createVNode)(y,{data:g.content.toString(),onClick:ke},null):(0,d.createVNode)("span",{class:J.value,onClick:!o.editable||o.editableTrigger&&o.editableTrigger!=="click"?void 0:se,onDblclick:o.editable&&o.editableTrigger==="dblclick"?se:void 0},[o.editable&&le.editing?(0,d.createVNode)("input",{value:fe.value,onChange:ye,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):we()]),g.showComma&&(0,d.createVNode)("span",null,[","]),o.showLength&&o.collapsed&&(0,d.createVNode)("span",{class:"vjs-comment"},[(0,d.createTextVNode)(" // "),g.length,(0,d.createTextVNode)(" items ")])])])}}});function V(o,b){var x=Object.keys(o);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(o);b&&(D=D.filter(function(J){return Object.getOwnPropertyDescriptor(o,J).enumerable})),x.push.apply(x,D)}return x}function M(o){for(var b=1;b<arguments.length;b++){var x=arguments[b]!=null?arguments[b]:{};b%2?V(Object(x),!0).forEach(function(D){f(o,D,x[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(x)):V(Object(x)).forEach(function(D){Object.defineProperty(o,D,Object.getOwnPropertyDescriptor(x,D))})}return o}var X=(0,d.defineComponent)({name:"Tree",props:M(M({},h),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(o,b){var x=b.emit,D=b.slots,J=(0,d.ref)(),ie=(0,d.computed)(function(){return B(o.data,o.rootPath)}),be=function(g){return ie.value.reduce(function(E,A){var z,W=A.level>=g,q=(z=o.pathCollapsible)===null||z===void 0?void 0:z.call(o,A);return A.type!=="objectStart"&&A.type!=="arrayStart"||!W&&!q?E:M(M({},E),{},f({},A.path,1))},{})},H=(0,d.reactive)({translateY:0,visibleData:null,hiddenPaths:be(o.deep)}),de=(0,d.computed)(function(){for(var g=null,E=[],A=ie.value.length,z=0;z<A;z++){var W=M(M({},ie.value[z]),{},{id:z}),q=H.hiddenPaths[W.path];if(g&&g.path===W.path){var ve=g.type==="objectStart",je=M(M(M({},W),g),{},{showComma:W.showComma,content:ve?"{...}":"[...]",type:ve?"objectCollapsed":"arrayCollapsed"});g=null,E.push(je)}else{if(q&&!g){g=W;continue}if(g)continue;E.push(W)}}return E}),le=(0,d.computed)(function(){var g=o.selectedValue;return g&&o.selectableType==="multiple"&&Array.isArray(g)?g:[g]}),ye=(0,d.computed)(function(){return!o.selectableType||o.selectOnClickNode||o.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),fe=function(){var g=de.value;if(o.virtual){var E,A=o.height/o.itemHeight,z=((E=J.value)===null||E===void 0?void 0:E.scrollTop)||0,W=Math.floor(z/o.itemHeight),q=W<0?0:W+A>g.length?g.length-A:W;q<0&&(q=0);var ve=q+A;H.translateY=q*o.itemHeight,H.visibleData=g.filter(function(je,Me){return Me>=q&&Me<ve})}else H.visibleData=g},we=function(){fe()},ke=function(g){var E,A,z=g.path,W=o.selectableType;if(W==="multiple"){var q=le.value.findIndex(function(he){return he===z}),ve=r(le.value);q!==-1?ve.splice(q,1):ve.push(z),x("update:selectedValue",ve),x("selectedChange",ve,r(le.value))}else if(W==="single"&&le.value[0]!==z){var je=(E=le.value,A=1,function(he){if(Array.isArray(he))return he}(E)||function(he,at){var Ie=he==null?null:typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(Ie!=null){var nt,ot,Xe=[],Je=!0,it=!1;try{for(Ie=Ie.call(he);!(Je=(nt=Ie.next()).done)&&(Xe.push(nt.value),!at||Xe.length!==at);Je=!0);}catch(gt){it=!0,ot=gt}finally{try{Je||Ie.return==null||Ie.return()}finally{if(it)throw ot}}return Xe}}(E,A)||S(E,A)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],Me=z;x("update:selectedValue",Me),x("selectedChange",Me,je)}},Fe=function(g){x("nodeClick",g)},ge=function(g,E){if(g)H.hiddenPaths=M(M({},H.hiddenPaths),{},f({},E,1));else{var A=M({},H.hiddenPaths);delete A[E],H.hiddenPaths=A}},Ae=function(g,E){o.collapsedOnClickBrackets&&ge(g,E),x("bracketsClick",g)},se=function(g,E){ge(g,E),x("iconClick",g)},R=function(g,E){var A=_(o.data),z=o.rootPath;new Function("data","val","data".concat(E.slice(z.length),"=val"))(A,g),x("update:data",A)};return(0,d.watchEffect)(function(){ye.value&&function(g){throw new Error("[VueJSONPretty] ".concat(g))}(ye.value)}),(0,d.watchEffect)(function(){de.value&&fe()}),(0,d.watch)(function(){return o.deep},function(g){g&&(H.hiddenPaths=be(g))}),function(){var g,E,A=(g=o.renderNodeKey)!==null&&g!==void 0?g:D.renderNodeKey,z=(E=o.renderNodeValue)!==null&&E!==void 0?E:D.renderNodeValue,W=H.visibleData&&H.visibleData.map(function(q){return(0,d.createVNode)(j,{key:q.id,node:q,collapsed:!!H.hiddenPaths[q.path],showDoubleQuotes:o.showDoubleQuotes,showLength:o.showLength,checked:le.value.includes(q.path),selectableType:o.selectableType,showLine:o.showLine,showLineNumber:o.showLineNumber,showSelectController:o.showSelectController,selectOnClickNode:o.selectOnClickNode,nodeSelectable:o.nodeSelectable,highlightSelectedNode:o.highlightSelectedNode,editable:o.editable,editableTrigger:o.editableTrigger,showIcon:o.showIcon,showKeyValueSpace:o.showKeyValueSpace,renderNodeKey:A,renderNodeValue:z,onNodeClick:Fe,onBracketsClick:Ae,onIconClick:se,onSelectedChange:ke,onValueChange:R,style:o.itemHeight&&o.itemHeight!==20?{lineHeight:"".concat(o.itemHeight,"px")}:{}},null)});return(0,d.createVNode)("div",{ref:J,class:{"vjs-tree":!0,"is-virtual":o.virtual},onScroll:o.virtual?we:void 0,style:o.showLineNumber?M({paddingLeft:"".concat(12*Number(ie.value.length.toString().length),"px")},o.style):o.style},[o.virtual?(0,d.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(o.height,"px")}},[(0,d.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(de.value.length*o.itemHeight,"px")}},[(0,d.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(H.translateY,"px)")}},[W])])]):W])}}})}(),u}()})})(ht);var Ga=ht.exports;const Za=Oa(Ga);const en=e=>(et("data-v-7aa8fc1a"),e=e(),Ze(),e),tn={class:"ElJsonViewer"},ln=en(()=>L("span",null,"源码",-1)),an=I({__name:"ElJsonViewer",setup(e){const a=me(Q),l=Ce(Q);l.setEditorData();const i=()=>{const n=document.createElement("textarea");n.value=JSON.stringify(a.selectedComponent||l.EditorData),document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n),xe.success({message:"复制源码成功",duration:1e3})};return(n,c)=>($(),ae("div",tn,[L("div",{class:"ElJsonViewer-top"},[ln,L("i",{class:"icon iconfont icon-copy",onClick:i})]),t(T(Za),{virtual:"",showIcon:"",showSelectController:"",height:820,data:T(a).selectedComponent||T(l).EditorData},null,8,["data"])]))}});const We=(e,a)=>{const l=e.__vccOpts||e;for(const[i,n]of a)l[i]=n;return l},nn=We(an,[["__scopeId","data-v-7aa8fc1a"]]),on={class:"ElOutline"},sn={class:"ElOutline-top"},un={class:"ElOutline-content"},rn=I({__name:"ElOutline",setup(e){const a=Ee("editorConfig"),l=Ce(Q),i=me(Q);let n=Ve(null);const c=(r,f=2)=>{let d=f||2,y=l.EditorDataMap.get(r).children;if(Array.isArray(y)){let p=[];return y.forEach((C,U)=>{let m=l.EditorDataMap.get(C),B=a.componentMap.get(m.type).label;p.push({id:d+U,"node-key":C,label:B,children:c(C,f+y.length)})}),p}else return[]},u=k({data:[{id:1,label:"页面","node-key":"page",children:c("page")}],defaultProps:{children:"children","node-key":"node-key",label:"label"},search:{value:"",searchKey:"componentSearch",searchDefault:{label:"常见组件节点标签",list:["页面","容器","输入框","按钮"]},placeholder:"输入关键字过滤组件节点标签"}}),s=r=>{console.log("change"),i.selectKey=r["node-key"]},S=(r,f)=>r?f.label.indexOf(r)!==-1:!0;return ne(()=>i.selectKey,()=>{i.selectKey?n.value.setCurrentKey(i.selectKey,!1):(l.Breadcrumb=["页面"],n.value.setCurrentKey("page",!1))}),ne(()=>u.search.value,()=>{n.value.filter(u.search.value)}),Ke(()=>{i.selectKey?n.value.setCurrentKey(i.selectKey,!1):(l.Breadcrumb=["页面"],n.value.setCurrentKey("page",!1))}),(r,f)=>{const d=v("el-tree");return $(),ae("div",on,[L("div",sn,[t(T(lt),{search:u.search},null,8,["search"])]),L("div",un,[t(d,{ref_key:"elOutlineTree",ref:n,class:"filter-tree",data:u.data,props:u.defaultProps,"filter-node-method":S,"node-key":"node-key","highlight-current":"","default-expand-all":"",onCurrentChange:s},null,8,["data","props"])])])}}});const cn=We(rn,[["__scopeId","data-v-a4d6c28a"]]),dn={class:"EditorLeft"},pn={class:"EditorLeft-nav"},fn=["onClick"],vn={class:"EditorLeft-content"},hn=I({__name:"EditorLeft",setup(e){const a=k([{label:"组件",icon:"icon iconfont icon-zujian",active:!0},{label:"图标",icon:"icon iconfont icon-xiaolian",active:!1},{label:"大纲",icon:"icon iconfont icon-list-outline",active:!1},{label:"代码",icon:"icon iconfont icon-daima",active:!1}]),l=i=>{a.forEach((n,c)=>{if(c==i){n.active=!0;return}n.active=!1})};return(i,n)=>($(),ae("div",dn,[L("div",pn,[L("ul",null,[($(!0),ae(N,null,Te(a,(c,u)=>($(),ae("li",{key:u,class:Be({active:c.active}),onClick:s=>l(u)},[L("i",{class:Be(c.icon)},null,2),L("span",null,Se(c.label),1)],10,fn))),128))])]),L("div",vn,[a[0].active?($(),pe(T(Ja),{key:0})):ce("",!0),a[1].active?($(),pe(T(qa),{key:1})):ce("",!0),a[2].active?($(),pe(cn,{key:2})):ce("",!0),a[3].active?($(),pe(nn,{key:3})):ce("",!0)])]))}});const mn=We(hn,[["__scopeId","data-v-9f7e1469"]]);const Z=I({props:{option:{type:Object}},setup(e){return()=>{const a=(i,n,c)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(console.log(c),i==""?c[n]="0px":/^\d+$/.test(i)?c[n]=`${i}px`:/^\d+px$/.test(i)?c[n]=i:c[n]=c.oldValue)},l=(i,n)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(n.oldValue=i)};return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(K,{modelValue:e.option.value,"onUpdate:modelValue":i=>e.option.value=i,placeholder:e.option.placeholder?e.option.placeholder:"请输入内容",clearable:e.option.clearable,onBlur:()=>a(e.option.value,"value",e.option),onFocus:()=>l(e.option.value,e.option)},null)])}}}),$e=I({props:{option:{type:Object}},setup(e){return()=>t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(v("el-input-number"),{modelValue:e.option.value,"onUpdate:modelValue":a=>e.option.value=a,min:e.option.min,max:e.option.max},null)])}});function bn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const ee=I({props:{label:{type:String},setting:{type:Object},change:{type:Function}},setup(e){return()=>{let a;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.label]),t(v("el-select"),{modelValue:e.setting.value,"onUpdate:modelValue":l=>e.setting.value=l,filterable:e.setting.filterable?e.setting.filterable:!0,placeholder:e.setting.placeholder?e.setting.placeholder:"",onChange:l=>e.change&&e.change(l)},bn(a=e.setting.options.map(l=>t(v("el-option"),{key:l.value,value:l.value},null)))?a:{default:()=>[a]})])}}}),oe=I({props:{option:{type:Object}},setup(e){return()=>t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(v("el-switch"),{modelValue:e.option.value,"onUpdate:modelValue":a=>e.option.value=a},null)])}}),mt=I({props:{option:{type:Object}},setup(e){return()=>t(N,null,[t("div",{class:"elCollapseItem base-settings-textarea-text"},[t("div",null,[e.option.label])]),t("div",{class:"elCollapseItem base-settings-textarea"},[t(K,{type:"textarea",modelValue:e.option.value,"onUpdate:modelValue":a=>e.option.value=a},null)])])}});function qe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const re=I({props:{option:{type:Object}},setup(e){const a=k({color:e.option.style.color?e.option.style.color:"rgba(0,0,0)",fontSize:e.option.style.fontSize?e.option.style.fontSize:"",fontWeight:e.option.style.fontWeight?e.option.style.fontWeight:"",lineHeight:e.option.style.lineHeight?e.option.style.lineHeight:"",fontFamily:e.option.style.fontFamily?e.option.style.fontFamily:"",oldValue:""}),l=[{value:"黑体"},{value:"宋体"},{value:"楷体"},{value:"微软雅黑"}],i=[{value:"normal"},{value:"bold"},{value:"bolder"},{value:"lighter"},{value:"100"},{value:"200"},{value:"300"},{value:"400"},{value:"500"},{value:"600"},{value:"700"},{value:"800"},{value:"900"}],n=[{value:"1.3倍"},{value:"1.5倍"},{value:"1.7倍"}];let c=k({value:e.option.style.backgroundColor?e.option.style.backgroundColor:"rgba(255, 255, 255,0)"});const u=k({isBorderActive:"border",borderValue:0,selectInputValue:"",showSelect:!1,color:"rgba(0,0,0)"}),s=_=>{u.isBorderActive=_,d(_)},S=_=>{u.borderValue=_},r=[{text:"——————",value:"solid",render:()=>t(N,null,[t("span",{class:"solidLine"},[w("————  ")]),t("span",null,[w(" 实线 ")])])},{text:"------------------",value:"dashed",render:()=>t(N,null,[t("span",{class:"dottedLine"},[w("----------   ")]),t("span",null,[w(" 虚线 ")])])},{text:"···················",value:"dotted",render:()=>t(N,null,[t("span",{class:"pointLine"},[w("···················  ")]),t("span",null,[w(" 点线 ")])])}],f=_=>{u.selectInputValue=_},d=_=>{if(console.log(e.option.style[_],_),e.option.style[_]){let P=e.option.style[_].match(/^(\d+px) (.*?) (.*?)$/);u.borderValue=parseInt(P[1].match(/^\d+/)[0]),r.forEach(F=>{F.value==P[2]&&(u.selectInputValue=F.text)}),u.color=P[3]}};d("border");const y=k([{label:"外边距(margin)",top:e.option.style.marginTop?e.option.style.marginTop:"0px",bottom:e.option.style.marginBottom?e.option.style.marginBottom:"0px",left:e.option.style.marginLeft?e.option.style.marginLeft:"0px",right:e.option.style.marginRight?e.option.style.marginRight:"0px",oldValue:""},{label:"内边距(padding)",top:e.option.style.paddingTop?e.option.style.paddingTop:"0px",bottom:e.option.style.paddingBottom?e.option.style.paddingBottom:"0px",left:e.option.style.paddingLeft?e.option.style.paddingLeft:"0px",right:e.option.style.paddingRight?e.option.style.paddingRight:"0px",oldValue:""}]),p=k({isRadiusAllActive:!0,isRadiusSelfActive:!1,tipIsshow:!1,tip:"",radiusValue:"",radiusTLValue:"",radiusTRValue:"",radiusBLValue:"",radiusBRValue:"",oldValue:""}),C=()=>{const{radiusTLValue:_,radiusTRValue:P,radiusBLValue:F,radiusBRValue:h}=p;p.tip=`${_||"0px"} ${P||"0px"} ${F||"0px"} ${h||"0px"}`},U=()=>{const{borderRadius:_,borderTopLeftRadius:P,borderTopRightRadius:F,borderBottomLeftRadius:h,borderBottomRightRadius:j}=e.option.style;if(_&&(p.radiusValue=_,p.radiusTLValue=p.radiusTRValue=p.radiusBLValue=p.radiusBRValue=_,p.tipIsshow=!1),P||F||h||j){let V=`${P||"0px"} ${F||"0px"} ${h||"0px"} ${j||"0px"}`;p.tip=V,p.tipIsshow=!0,P&&(p.radiusTLValue=P),F&&(p.radiusTRValue=F),h&&(p.radiusBLValue=h),j&&(p.radiusBRValue=j)}};U();const m=k([{label:"外阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""},{label:"内阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""}]),B=(_,P,F)=>{_==""?F[P]="0px":/^\d+$/.test(_)?F[P]=`${_}px`:/^\d+px$/.test(_)?F[P]=_:F[P]=F.oldValue},O=(_,P)=>{P.oldValue=_};return te(()=>{a.color!="rgba(0,0,0)"?e.option.style.color=a.color:delete e.option.style.color,a.fontSize!=""?e.option.style.fontSize=a.fontSize:delete e.option.style.fontSize,a.fontWeight!=""?e.option.style.fontWeight=a.fontWeight:delete e.option.style.fontWeight,a.fontFamily!=""?e.option.style.fontFamily=a.fontFamily:delete e.option.style.fontFamily,a.lineHeight!=""?/^\d+px$/.test(a.lineHeight)?e.option.style.lineHeight=a.lineHeight:e.option.style.lineHeight=a.lineHeight.match(/^\d+(\.\d+)?/)[0]:delete e.option.style.lineHeight,c.value!="rgba(255, 255, 255,0)"?e.option.style.backgroundColor=c.value:delete e.option.style.backgroundColor;const _=["border","borderTop","borderLeft","borderRight","borderBottom"];(()=>{let M="solid";u.selectInputValue!=""&&r.forEach(X=>{X.text.includes(u.selectInputValue)&&(M=X.value)}),_.forEach(X=>{u.isBorderActive==X&&(u.borderValue!=0?e.option.style[X]=`${u.borderValue}px ${M} ${u.color}`:delete e.option.style[X])})})();const P=["top","left","right","bottom"];["marginTop","marginLeft","marginRight","marginBottom"].forEach((M,X)=>{y[0][P[X]]!="0px"?e.option.style[M]=y[0][P[X]]:delete e.option.style[M]}),["paddingTop","paddingLeft","paddingRight","paddingBottom"].forEach((M,X)=>{y[1][P[X]]!="0px"?e.option.style[M]=y[1][P[X]]:delete e.option.style[M]});const j=["radiusTLValue","radiusTRValue","radiusBLValue","radiusBRValue"],V=["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];p.isRadiusAllActive?p.radiusValue!=""&&!p.tipIsshow?(e.option.style.borderRadius=p.radiusValue,V.forEach(M=>delete e.option.style[M])):delete e.option.style.borderRadius:p.radiusTLValue==p.radiusTRValue&&p.radiusTRValue==p.radiusBLValue&&p.radiusBLValue==p.radiusBRValue?(e.option.style.borderRadius=p.radiusTRValue,V.forEach(M=>delete e.option.style[M])):(delete e.option.style.borderRadius,j.forEach((M,X)=>{["","0px"].includes(p[M])?delete e.option.style[V[X]]:e.option.style[V[X]]=p[M]})),!(m[0].x=="0px"&&m[0].y=="0px"&&m[0].fuzzy=="0px"&&m[0].extension=="0px")&&!(m[1].x=="0px"&&m[1].y=="0px"&&m[1].fuzzy=="0px"&&m[1].extension=="0px")?e.option.style.boxShadow=`${m[0].x} ${m[0].y} ${m[0].fuzzy} ${m[0].extension} ${m[0].color} ,inset ${m[1].x} ${m[1].y} ${m[1].fuzzy} ${m[1].extension} ${m[1].color}`:(m[0].x=="0px"&&m[0].y=="0px"&&m[0].fuzzy=="0px"&&m[0].extension=="0px"||(e.option.style.boxShadow=`${m[0].x} ${m[0].y} ${m[0].fuzzy} ${m[0].extension} ${m[0].color}`),m[1].x=="0px"&&m[1].y=="0px"&&m[1].fuzzy=="0px"&&m[1].extension=="0px"||(e.option.style.boxShadow=`inset ${m[1].x} ${m[1].y} ${m[1].fuzzy} ${m[1].extension} ${m[1].color}`))}),()=>{let _,P,F;return t(N,null,[e.option.writingStyle&&t("div",null,[t("div",{class:"elCollapseItem title"},[w("文字样式")]),t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(v("el-color-picker"),{"show-alpha":!0,modelValue:a.color,"onUpdate:modelValue":h=>a.color=h},null)]),t("label",null,[w("颜色")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:a.fontSize,"onUpdate:modelValue":h=>a.fontSize=h,onChange:h=>B(h,"fontSize",a),onFocus:h=>O(a.fontSize,a)},null),t("label",null,[w("字号")])])]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t(v("el-select"),{modelValue:a.fontWeight,"onUpdate:modelValue":h=>a.fontWeight=h,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},qe(_=i.map(h=>t(v("el-option"),{key:h.value,value:h.value},null)))?_:{default:()=>[_]}),t("label",null,[w("字重")])]),t("div",{class:"shadow-setting-item"},[t(v("el-select"),{modelValue:a.fontFamily,"onUpdate:modelValue":h=>a.fontFamily=h,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},qe(P=l.map(h=>t(v("el-option"),{key:h.value,value:h.value},null)))?P:{default:()=>[P]}),t("label",null,[w("字体")])]),t("div",{class:"shadow-setting-item"},[t(v("el-select"),{modelValue:a.lineHeight,"onUpdate:modelValue":h=>a.lineHeight=h,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},qe(F=n.map(h=>t(v("el-option"),{key:h.value,value:h.value},null)))?F:{default:()=>[F]}),t("label",null,[w("行间距")])])])])])]),e.option.bgColor&&t("div",null,[t("div",{class:"elCollapseItem title"},[w("背景颜色")]),t("div",{class:"elCollapseItem bgColorPicker"},[t(v("el-color-picker"),{"show-alpha":!0,modelValue:c.value,"onUpdate:modelValue":h=>c.value=h},null)])]),e.option.border&&t("div",null,[t("div",{class:"elCollapseItem title"},[w("边框")]),t("div",{class:"elCollapseItem elCollapseBorder"},[t("div",{class:"elCollapseBorder-icon"},[t("div",null,null),t("div",{class:"common"},[t("div",{class:["top",u.isBorderActive=="borderTop"?"active-top":""],onClick:()=>s("borderTop")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:["left",u.isBorderActive=="borderLeft"?"active-left":""],onClick:()=>s("borderLeft")},null)]),t("div",{class:"common"},[t("div",{class:["middle",u.isBorderActive=="border"?"active-middle":""],onClick:()=>s("border")},null)]),t("div",{class:"common"},[t("div",{class:["right",u.isBorderActive=="borderRight"?"active-right":""],onClick:()=>s("borderRight")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:"bottom"},null),t("div",{class:["bottom",u.isBorderActive=="borderBottom"?"active-bottom":""],onClick:()=>s("borderBottom")},null)]),t("div",null,null)]),t("div",{class:"elCollapseBorder-setting"},[t(Ra,{modelValue:u.borderValue,onChange:S},null),t("div",{class:"lineAndColor"},[t("div",{class:"line"},[t(K,{readonly:!0,modelValue:u.selectInputValue,"onUpdate:modelValue":h=>u.selectInputValue=h,placeholder:"请选择",onFocus:()=>{u.showSelect=!0},onBlur:()=>{u.showSelect=!1}},null),Y(t("ul",{class:"select"},[r.map(h=>t("li",{onMousedown:()=>{f(h.text)}},[h.render()]))]),[[G,u.showSelect]])]),t("div",{class:"color"},[t(za,{modelValue:u.color,"onUpdate:modelValue":h=>u.color=h,"show-alpha":!0},null)])])])])]),e.option.marginAndPadding&&t("div",null,[t("div",{class:"elCollapseItem title"},[w("边距")]),y.map((h,j)=>t("div",{class:"elCollapseItem"},[t("div",{class:"marginAndPadding"},[t("p",null,[h.label]),t("div",{class:"marginAndPadding-setting"},[t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.top,"onUpdate:modelValue":V=>h.top=V,onChange:V=>B(V,"top",y[j]),onFocus:V=>O(h.top,y[j])},null),t("label",null,[w("top")])]),t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.bottom,"onUpdate:modelValue":V=>h.bottom=V,onChange:V=>B(V,"bottom",y[j]),onFocus:V=>O(h.bottom,y[j])},null),t("label",null,[w("bottom")])]),t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.left,"onUpdate:modelValue":V=>h.left=V,onChange:V=>B(V,"left",y[j]),onFocus:V=>O(h.left,y[j])},null),t("label",null,[w("left")])]),t("div",{class:"marginAndPadding-setting-item"},[t(K,{modelValue:h.right,"onUpdate:modelValue":V=>h.right=V,onChange:V=>B(V,"right",y[j]),onFocus:V=>O(h.right,y[j])},null),t("label",null,[w("right")])])])])])),t("div",{class:"margin-border-self"},null)]),e.option.radius&&t("div",null,[t("div",{class:"elCollapseItem title"},[w("圆角")]),t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"elCollapseRadius-icon"},[t("div",{class:["common all",p.isRadiusAllActive?"active":""],onClick:()=>{p.isRadiusAllActive=!0,p.isRadiusSelfActive=!1,U()}},null),t("div",{class:["common self",p.isRadiusSelfActive?"active":""],onClick:()=>{p.isRadiusAllActive=!1,p.isRadiusSelfActive=!0,U()}},null)]),t("div",{class:"elCollapseRadius-setting"},[t(K,{modelValue:p.radiusValue,"onUpdate:modelValue":h=>p.radiusValue=h,disabled:!p.isRadiusAllActive,onChange:h=>{B(h,"radiusValue",p),p.radiusTLValue=p.radiusTRValue=p.radiusBLValue=p.radiusBRValue=p.radiusValue,console.log(p)},onFocus:h=>O(p.radiusValue,p)},null),p.tipIsshow&&t("div",{class:"elCollapseRadius-setting-tip"},[t("span",null,[p.tip]),p.isRadiusAllActive&&t("i",{class:"icon iconfont icon-cha",onClick:h=>{p.tipIsshow=!1}},null)])])]),Y(t("div",{class:"elCollapseItem elCollapseRadius"},[t(K,{modelValue:p.radiusTLValue,"onUpdate:modelValue":h=>p.radiusTLValue=h,onChange:h=>{B(h,"radiusTLValue",p),C()},onFocus:h=>O(p.radiusTLValue,p)},null),t(K,{class:"radiusSelfInput",modelValue:p.radiusTRValue,"onUpdate:modelValue":h=>p.radiusTRValue=h,onChange:h=>{B(h,"radiusTRValue",p),C()},onFocus:h=>O(p.radiusTRValue,p)},null),t(K,{class:"radiusSelfInput",modelValue:p.radiusBLValue,"onUpdate:modelValue":h=>p.radiusBLValue=h,onChange:h=>{B(h,"radiusBLValue",p),C()},onFocus:h=>O(p.radiusBLValue,p)},null),t(K,{class:"radiusSelfInput",modelValue:p.radiusBRValue,"onUpdate:modelValue":h=>p.radiusBRValue=h,onChange:h=>{B(h,"radiusBRValue",p),C()},onFocus:h=>O(p.radiusBRValue,p)},null)]),[[G,p.isRadiusSelfActive]]),Y(t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"radiusCommon radius-top-left"},null),t("div",{class:"radiusCommon radius-top-right"},null),t("div",{class:"radiusCommon radius-bottom-left"},null),t("div",{class:"radiusCommon  radius-bottom-right"},null)]),[[G,p.isRadiusSelfActive]])]),e.option.shadow&&t("div",null,[t("div",{class:"elCollapseItem title"},[w("阴影")]),m.map((h,j)=>t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("p",null,[h.label]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(v("el-color-picker"),{"show-alpha":!0,modelValue:h.color,"onUpdate:modelValue":V=>h.color=V},null)]),t("label",null,[w("颜色")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.x,"onUpdate:modelValue":V=>h.x=V,onChange:V=>B(V,"x",m[j]),onFocus:V=>O(h.x,m[j])},null),t("label",null,[w("X值")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.y,"onUpdate:modelValue":V=>h.y=V,onChange:V=>B(V,"y",m[j]),onFocus:V=>O(h.y,m[j])},null),t("label",null,[w("Y值")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.fuzzy,"onUpdate:modelValue":V=>h.fuzzy=V,onChange:V=>B(V,"fuzzy",m[j]),onFocus:V=>O(h.fuzzy,m[j])},null),t("label",null,[w("模糊值")])]),t("div",{class:"shadow-setting-item"},[t(K,{modelValue:h.extension,"onUpdate:modelValue":V=>h.extension=V,onChange:V=>B(V,"extension",m[j]),onFocus:V=>O(h.extension,m[j])},null),t("label",null,[w("扩展值")])])])])]))])])}}});function dt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const Ue=I({props:{setting:{type:Object}},setup(e){const a=me(Q),l=Ce(Q),i=c=>{e.setting.value=="触发方式"&&(l.EditorDataMap.get(a.selectKey).bubblePrompt.triggerMode=c.value),e.setting.value=="提示位置"&&(l.EditorDataMap.get(a.selectKey).bubblePrompt.promptLocation=c.value),e.setting.value=="尺寸"&&(l.EditorDataMap.get(a.selectKey).size=n(c.value))},n=c=>c=="中"?"default":c=="小"?"small":"large";return()=>{let c,u;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.setting.value]),l.EditorDataMap.get(a.selectKey).type=="button"&&t(st,{class:"ml-4"},dt(c=e.setting.options.map(s=>t(v("el-button"),{size:"small",class:[s.value==l.EditorDataMap.get(a.selectKey).bubblePrompt.triggerMode?"buttonSelected":"",s.value==l.EditorDataMap.get(a.selectKey).bubblePrompt.promptLocation?"buttonSelected":"",n(s.value)==l.EditorDataMap.get(a.selectKey).size?"buttonSelected":""],onClick:()=>{i(s)}},{default:()=>[s.value]})))?c:{default:()=>[c]}),l.EditorDataMap.get(a.selectKey).type!="button"&&t(st,{class:"ml-4"},dt(u=e.setting.options.map(s=>t(v("el-button"),{size:"small",class:[n(s.value)==l.EditorDataMap.get(a.selectKey).size?"buttonSelected":""],onClick:()=>{i(s)}},{default:()=>[s.value]})))?u:{default:()=>[u]})])}}}),Ge=I({props:{label:{type:String},setting:{type:Object},otherShow:{type:Boolean}},setup(e){const a=me(Q),l=Ce(Q),i=Ee("editorConfig");e.setting.icon&&e.setting.iconText&&(e.setting.isFill=!0,e.setting.clearable=!0);const n=r=>{e.setting.isShowList?e.setting.isShowList=!1:e.setting.isShowList=!0,r.stopPropagation()},c=()=>t(N,null,[t("span",{class:["icon iconfont",e.setting.icon]},null),t("span",{class:"context"},[e.setting.iconText])]),u=r=>{e.setting.isShowList=!1,e.setting.isFill=!e.setting.isFill,e.setting.clearable=!e.setting.clearable,e.label=="左侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.leftIcon=""),e.label=="右侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.rightIcon=""),r.stopPropagation()},s=i.iconList.map(r=>r.defaultData.icon.split(" ")[2]),S=r=>{e.setting.isShowList=!1,e.setting.clearable=!0,e.setting.isFill=!0,e.setting.icon=r,e.setting.iconText=r.replace("icon-",""),e.label=="左侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.leftIcon=r),e.label=="右侧图标"&&(l.EditorDataMap.get(a.selectKey).icon.rightIcon=r),e.label=="修改图标"&&(l.EditorDataMap.get(a.selectKey).icon=`icon iconfont ${r}`)};return document.addEventListener("click",()=>{e.setting.isShowList&&(e.setting.isShowList=!1)}),()=>t("div",{class:"elCollapseItem base-settings flexSelectContainer"},[t("p",null,[e.label]),t("div",{class:"flexSelect",onClick:r=>n(r)},[t("div",{class:"iconContext"},[e.setting.isFill?c():"请选择图标"]),Y(t("span",{class:["clear icon iconfont",e.setting.clearIcon],onClick:r=>u(r),onMouseover:()=>e.setting.clearIcon="icon-cha1",onMouseout:()=>e.setting.clearIcon="icon-cha"},null),[[G,e.setting.clearable]])]),Y(t("ul",{class:"flexSelectUl"},[s.map(r=>t("li",{class:"flexSelectUl-option",onClick:f=>S(r)},[t("span",{class:["icon iconfont",r]},null)]))]),[[G,e.setting.isShowList]])])}});function Oe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const bt=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({value:"div",options:[{value:"header"},{value:"nav"},{value:"section"},{value:"main"},{value:"footer"},{value:"div"},{value:"p"}]});e.option.containerLabels&&(l.value=e.option.containerLabels);const i=k({value:"默认(static)",options:[{value:"默认(static)"},{value:"绝对(relative)"},{value:"相对(absolute)"},{value:"固定(fixed)"}]});e.option.style.position&&(e.option.style.position=="relative"&&(i.value="绝对(relative)"),e.option.style.position=="absolute"&&(i.value="相对(absolute)"),e.option.style.position=="fixed"&&(i.value="固定(fixed)"));const n=k([{label:"高度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"自动适配",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}},{label:"宽度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"超出显示",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}}]),c=[{value:"px"},{value:"em"},{value:"%"},{value:"vw"},{value:"vh"}];e.option.style.width&&(n[1].value=e.option.style.width.match(/^\d+/)[0],n[1].valueUnit=e.option.style.width.match(/^(\d+)(.*)/)[2]),e.option.style.height&&(n[0].value=e.option.style.height.match(/^\d+/)[0],n[0].valueUnit=e.option.style.height.match(/^(\d+)(.*)/)[2]),e.option.style.maxHeight&&(n[0].max=e.option.style.maxHeight.match(/^\d+/)[0],n[0].maxUnit=e.option.style.maxHeight.match(/^(\d+)(.*)/)[2]),e.option.style.minHeight&&(n[0].min=e.option.style.minHeight.match(/^\d+/)[0],n[0].minUnit=e.option.style.minHeight.match(/^(\d+)(.*)/)[2]),e.option.style.maxWidth&&(n[0].max=e.option.style.maxWidth.match(/^\d+/)[0],n[0].maxUnit=e.option.style.maxWidth.match(/^(\d+)(.*)/)[2]),e.option.style.minWidth&&(n[0].min=e.option.style.minWidth.match(/^\d+/)[0],n[0].minUnit=e.option.style.minWidth.match(/^(\d+)(.*)/)[2]),e.option.style.overflowY&&(e.option.style.overflowY=="visible"&&(n[0].scrollMode.value="超出显示"),e.option.style.overflowY=="hidden"&&n[0].scrollMode.value=="超出隐藏",e.option.style.overflowY=="scroll"&&n[0].scrollMode.value=="超出滚动",e.option.style.overflowY=="auto"&&n[0].scrollMode.value=="自动适配"),e.option.style.overflowX&&(e.option.style.overflowX=="visible"&&(n[1].scrollMode.value="超出显示"),e.option.style.overflowX=="hidden"&&n[1].scrollMode.value=="超出隐藏",e.option.style.overflowX=="scroll"&&n[1].scrollMode.value=="超出滚动",e.option.style.overflowX=="auto"&&n[1].scrollMode.value=="自动适配");const u=k({list:[{icon:"icon-zuoduiqi",active:!0,attribute:"left"},{icon:"icon-juzhongduiqi",active:!1,attribute:"center"},{icon:"icon-youduiqi",active:!1,attribute:"right"},{icon:"icon-zuoyouduiqi",active:!1,attribute:"justify"}],value:"left"}),s=k({alignmentLabel:"块级(block)设置",flexisShow:!1,options:[{icon:"icon-a-Displayblock",active:!0,alignmentLabel:"块级(block)设置"},{icon:"icon-a-Displayinline-block",active:!1,alignmentLabel:"行内块(inline-block)设置"},{icon:"icon-a-Displayinline",active:!1,alignmentLabel:"行内(inline)设置"},{icon:"icon-a-Displayflex",active:!1,alignmentLabel:"flex布局设置"}],flexList:[{label:"布局方向",list:[{value:"水平方向",attribute:"row"},{value:"垂直方向",attribute:"column"},{value:"水平反向",attribute:"row-reverse"},{value:"垂直反向",attribute:"column-reverse"}],value:"水平方向"},{label:"水平对齐",list:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],value:"左对齐"},{label:"垂直对齐",list:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}],value:"顶部对齐"},{label:"是否换行",list:[{value:"不换行",attribute:"nowrap"},{value:"自动换行",attribute:"wrap"},{value:"自动换行(颠倒)",attribute:"wrap-reverse"}],value:"不换行"}],flexAttribute:["","","",""],flexDirectionMap:new Map}),S=r=>{s.flexList[r].list.some(f=>{f.attribute==s.flexAttribute[r]&&(s.flexList[r].value=f.value)})};return(()=>{if(e.option.style.display){if(s.options.forEach(r=>r.active=!1),e.option.style.display=="flex")s.alignmentLabel="flex布局设置",s.options[3].active=!0,s.flexisShow=!0,e.option.style.flexDirection&&(s.flexAttribute[0]=e.option.style.flexDirection,S(0)),e.option.style.justifyContent&&(s.flexAttribute[1]=e.option.style.justifyContent,S(1)),e.option.style.alignItems&&(s.flexAttribute[2]=e.option.style.alignItems,S(2)),e.option.style.flexWrap&&(s.flexAttribute[3]=e.option.style.flexWrap,S(3));else if(e.option.style.textAlign){let r=0;e.option.style.display=="inline-block"&&(r=1),e.option.style.display=="inline"&&(r=2),s.alignmentLabel=s.options[r].alignmentLabel,s.options[r].active=!0,u.value=e.option.style.textAlign,u.list.forEach(f=>{f.active=!1,u.value==f.attribute&&(f.active=!0)})}}})(),s.flexDirectionMap.set("row",{jc:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),s.flexDirectionMap.set("column",{jc:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),s.flexDirectionMap.set("row-reverse",{jc:[{value:"右对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"左对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),s.flexDirectionMap.set("column-reverse",{jc:[{value:"底部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"顶部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),te(()=>{l.value!="div"?e.option.containerLabels=l.value:delete e.option.containerLabels,i.value.includes("static")?delete e.option.style.position:e.option.style.position=i.value.match(/\((.*?)\)/)[1],n[0].max!=0?e.option.style.maxHeight=`${n[0].max}${n[0].maxUnit}`:delete e.option.style.maxHeight,n[0].min!=0?e.option.style.minHeight=`${n[0].min}${n[0].minUnit}`:delete e.option.style.minHeight,n[1].max!=0?e.option.style.maxWidth=`${n[1].max}${n[1].maxUnit}`:delete e.option.style.maxWidth,n[1].min!=0?e.option.style.minWidth=`${n[1].min}${n[1].minUnit}`:delete e.option.style.minWidth,n[0].value!=0?e.option.style.height=`${n[0].value}${n[0].valueUnit}`:delete e.option.style.height,n[1].value!=0?e.option.style.width=`${n[1].value}${n[1].valueUnit}`:delete e.option.style.width,n[0].scrollMode.value=="超出显示"&&(e.option.style.overflowY="visible"),n[0].scrollMode.value=="超出隐藏"&&(e.option.style.overflowY="hidden"),n[0].scrollMode.value=="超出滚动"&&(e.option.style.overflowY="scroll"),n[0].scrollMode.value=="自动适配"&&(e.option.style.overflowY="auto"),n[1].scrollMode.value=="超出显示"&&(e.option.style.overflowX="visible"),n[1].scrollMode.value=="超出隐藏"&&(e.option.style.overflowX="hidden"),n[1].scrollMode.value=="超出滚动"&&(e.option.style.overflowX="scroll"),n[1].scrollMode.value=="自动适配"&&(e.option.style.overflowX="auto"),e.option.style.display=s.alignmentLabel.match(/[a-zA-Z]+/g)[0],s.flexisShow?(s.flexAttribute[0]!=""&&(e.option.style.flexDirection=s.flexAttribute[0]),s.flexAttribute[1]!=""&&(e.option.style.justifyContent=s.flexAttribute[1]),s.flexAttribute[2]!=""&&(e.option.style.alignItems=s.flexAttribute[2]),s.flexAttribute[3]!=""&&(e.option.style.flexWrap=s.flexAttribute[3])):u.value!="left"?e.option.style.textAlign=u.value:delete e.option.style.textAlign}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic",class:"container"},{default:()=>[t(ee,{label:"容器标签",setting:l},null)]}),t(v("elCollapseItem"),{title:"布局",name:"layout",class:"container"},{default:()=>[t(ee,{label:"定位模式",setting:i},null),n.map((r,f)=>{let d,y,p;return t(N,null,[t("div",{class:"elCollapseItem"},[t("p",null,[r.label,w("设置")]),t("div",{class:"container-changeBtn"},[t("button",{class:{active:r.adapter},onClick:C=>r.adapter=!0},[w("适配")]),t("button",{class:{active:!r.adapter},onClick:C=>r.adapter=!1},[w("固定")])])]),r.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[w("最大"),r.label]),t("div",null,[t(K,{modelValue:r.max,"onUpdate:modelValue":C=>r.max=C},null),t(v("el-select"),{modelValue:n[f].maxUnit,"onUpdate:modelValue":C=>n[f].maxUnit=C},Oe(d=c.map(C=>t(v("el-option"),{key:C.value,value:C.value},null)))?d:{default:()=>[d]})])]),t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[w("最小"),r.label]),t("div",null,[t(K,{modelValue:r.min,"onUpdate:modelValue":C=>r.min=C},null),t(v("el-select"),{modelValue:n[f].minUnit,"onUpdate:modelValue":C=>n[f].minUnit=C},Oe(y=c.map(C=>t(v("el-option"),{key:C.value,value:C.value},null)))?y:{default:()=>[y]})])])]),!r.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[r.label]),t("div",null,[t(K,{modelValue:r.value,"onUpdate:modelValue":C=>r.value=C},null),t(v("el-select"),{modelValue:n[f].valueUnit,"onUpdate:modelValue":C=>n[f].valueUnit=C},Oe(p=c.map(C=>t(v("el-option"),{key:C.value,value:C.value},null)))?p:{default:()=>[p]})])]),t(ee,{label:"滚动模式",setting:n[f].scrollMode},null)])])}),t("div",{class:"elCollapseItem container-displayType"},[t("p",null,[w("显示方式(display)")]),s.options.map(r=>t("div",{class:{active:r.active,"container-displayType-item":!0},onClick:f=>{s.options.forEach(d=>d.active=!1),r.active=!0,s.alignmentLabel=r.alignmentLabel,r.alignmentLabel.includes("flex")?s.flexisShow=!0:s.flexisShow=!1}},[t("i",{class:[r.icon,"icon","iconfont"]},null)]))]),t("div",{class:"elCollapseItem container-alignment"},[t("div",{class:"alignmentContent"},[t("p",null,[s.alignmentLabel]),!s.flexisShow&&t("div",{class:"alignmentContent-list"},[u.list.map(r=>t("div",{class:{active:r.active,"container-alignment-item":!0},onClick:f=>{u.list.forEach(d=>d.active=!1),r.active=!0,u.value=r.attribute}},[t("i",{class:[r.icon,"icon","iconfont"]},null)]))]),s.flexisShow&&s.flexList.map((r,f)=>{let d;return t("div",{class:"flexlayout-list"},[t("div",{class:"flexlayout-list-item"},[t("p",null,[r.label]),t(v("el-select"),{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,onChange:y=>{let p=r.list.filter(C=>{if(C.value==r.value)return C});s.flexAttribute[f]=p[0].attribute,f==0&&(s.flexList[1].list=s.flexDirectionMap.get(p[0].attribute).jc,s.flexList[2].list=s.flexDirectionMap.get(p[0].attribute).ai,s.flexList[1].value=s.flexList[1].list[0].value,s.flexList[2].value=s.flexList[2].list[0].value,s.flexAttribute[1]=s.flexList[1].list[0].attribute,s.flexAttribute[2]=s.flexList[2].list[0].attribute)}},Oe(d=r.list.map(y=>t(v("el-option"),{key:y.value,value:y.value},null)))?d:{default:()=>[d]})])])})])])]})]})])}}),pt=I({props:{setting:{type:Object}},setup(e){const a={triggerMode:{value:"触发方式",options:[{value:"鼠标悬浮"},{value:"聚焦"}]},promptLocation:{value:"提示位置",options:[{value:"上"},{value:"左"},{value:"下"},{value:"右"}]}};return()=>t("div",{class:"basicPopup"},[t("div",{class:"basicPopup-triangle"},null),t("div",{class:"basicPopup-boxBgc"},[e.setting.textarea.map(l=>t("div",{class:"basicPopup-box"},[t("p",null,[l.label]),t(K,{type:"textarea",modelValue:l.value,"onUpdate:modelValue":i=>l.value=i,resize:"none",class:"input","input-style":{height:"80px"}},null)])),Y(t(Ue,{setting:a.triggerMode},null),[[G,e.setting.hasTriggerMode]]),Y(t(Ue,{setting:a.promptLocation},null),[[G,e.setting.hasPromptLocation]]),t("div",{class:"seizeAseat"},null)])])}}),yn=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(re,{option:l},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),gn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({pageTitle:{label:"页面标题",value:e.option.title?e.option.title:""},subtitle:{label:"副标题",value:e.option.subtitle?e.option.subtitle:""}});return te(()=>{e.option.subtitle=l.subtitle.value}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Z,{option:l.pageTitle},null),t(mt,{option:l.subtitle},null)]})]})])}}),xn=I({props:{EditorData:Object},setup(){const e=Ee("erConfig"),a=me(Q),l=Ce(Q);return()=>{var i,n;return t("div",{class:"property",key:a.selectKey},[e.componentMap.get((i=a.selectKey)==null?void 0:i.replace(/-[^-]*$/,""))?e.componentMap.get((n=a.selectKey)==null?void 0:n.replace(/-[^-]*$/,"")).Properties(l.EditorDataMap.get(a.selectKey)):t(gn,{option:l.EditorDataMap.get("page")},null)])}}}),Cn=I({props:{EditorData:Object},setup(){const e=Ee("erConfig"),a=me(Q),l=Ce(Q);return()=>{var i,n;return t("div",{class:"appearance",key:a.selectKey},[e.componentMap.get((i=a.selectKey)==null?void 0:i.replace(/-[^-]*$/,""))?e.componentMap.get((n=a.selectKey)==null?void 0:n.replace(/-[^-]*$/,"")).appearances(l.EditorDataMap.get(a.selectKey)):t(yn,{option:l.EditorDataMap.get("page")},null)])}}});function wn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Pe(e)}const Sn=I({setup(){const e=k({dialogIsShow:!0,addListIsShow:!1,eventsList:[{title:"鼠标点击",name:"mouseToClick",list:[{title:"消息提醒",content:"内容：啊实打实的发的价格的法国诺曼底帮个忙吗"}]}],activeName:["mouseToClick","mouseMoving","mouseMovedOut","getFocus","loseFocus","valuesChange"]}),a=[{value:"鼠标点击",name:"mouseToClick",exist:!1},{value:"鼠标移入",name:"mouseMoving",exist:!1},{value:"鼠标移出",name:"mouseMovedOut",exist:!1},{value:"获取焦点",name:"getFocus",exist:!1},{value:"失去焦点",name:"loseFocus",exist:!1},{value:"值改变",name:"valuesChange",exist:!1}],l=new Map;for(let u of a)l.set(u.value,u);for(let u of e.eventsList)l.get(u.title).exist=!0;const i=()=>{e.addListIsShow=!1};window.addEventListener("click",i);const n=u=>{e.eventsList.push({title:u.value,name:u.name,list:[{title:"消息提醒",content:"内容：啊实打实的发的价格的法国诺曼底帮个忙吗"}]}),u.exist=!0},c=u=>{l.get(e.eventsList[u].title).exist=!1,e.eventsList.splice(u,1)};return()=>{let u;return t(N,null,[t("div",{class:"events"},[t("div",{class:"events-addEvents",onClick:s=>{s.stopPropagation(),e.addListIsShow=!e.addListIsShow}},[t("span",null,[w("添加事件")])]),e.addListIsShow&&t("div",{class:"events-addEvents-list"},[t("ul",null,[Array.from(l.values()).map(s=>t("li",{onClick:S=>{S.stopPropagation(),!s.exist&&(n(s),i())},class:s.exist?"disabled":""},[s.value]))])]),t(v("elCollapse"),{modelValue:e.activeName,"onUpdate:modelValue":s=>e.activeName=s},wn(u=e.eventsList.map((s,S)=>t("div",{class:"events-elCollapseItem"},[t("div",{class:"events-nav"},[t("i",{class:"icon iconfont icon-tianjia",onClick:r=>{e.dialogIsShow=!0}},null),t("i",{class:"icon iconfont icon-shanchu",onClick:r=>c(S)},null)]),t(v("elCollapseItem"),{title:s.title,name:s.name},{default:()=>[t("div",{class:"events-list"},[s.list.map(r=>t("div",{class:"events-list-item"},[t("div",{class:"events-list-item-header"},[t("span",null,[r.title]),t("span",null,[t("i",{class:"icon iconfont icon-xiugai"},null),t("i",{class:"icon iconfont icon-shanchu"},null)])]),t("div",{class:"events-list-item-content"},[t("span",null,[r.content])])]))])]})])))?u:{default:()=>[u]})]),t(v("el-dialog"),{title:"事件配置",modelValue:e.dialogIsShow,"onUpdate:modelValue":s=>e.dialogIsShow=s,width:"60%",fullscreen:!0},{default:()=>t("div",{class:"events-config"},[t("div",{class:"events-config-menu"},[t(v("el-menu"),{class:"el-menu-vertical-demo"},{default:()=>[t(v("el-sub-menu"),{index:"1"},{default:()=>[{default:()=>t("span",null,[w("页面")]),footer:()=>t("span",null,[w("页面")])},t(v("el-menu-item-group"),null,{default:()=>t(N,null,[t(v("el-menu-item"),{index:"1-1"},{default:()=>[w("选项1")]}),t(v("el-menu-item"),{index:"1-2"},{default:()=>[w("选项2")]})]),footer:()=>t("span",null,[w("分组一")])}),t(v("el-menu-item-group"),{title:"分组2"},{default:()=>[t(v("el-menu-item"),{index:"1-3"},{default:()=>[w("选项3")]})]})]})]})])]),footer:()=>t("span",{class:"dialog-footer"},[t(v("el-button"),{onClick:s=>e.dialogIsShow=!1},{default:()=>[w("取 消")]}),t(v("el-button"),{type:"primary",onClick:s=>e.dialogIsShow=!1},{default:()=>[w("确 定")]})])})])}}}),Vn={class:"ErComponent"},En={class:"ErComponent-nav"},kn=["onClick"],In={class:"ErComponent-content"},Ln=I({__name:"EditorRight",props:["EditorData"],setup(e){const a=e,l=k([{label:"属性",active:!0,isShow:!0},{label:"外观",active:!1,isShow:!0},{label:"事件",active:!1,isShow:!0}]),i=n=>{l.forEach((c,u)=>{if(u==n){c.active=!0;return}c.active=!1})};return(n,c)=>($(),ae("div",Vn,[L("div",En,[($(!0),ae(N,null,Te(l,(u,s)=>Y(($(),ae("label",{onClick:S=>i(s),class:Be(["ErComponent-nav-btn",{active:u.active}])},Se(u.label),11,kn)),[[G,u.isShow]])),256))]),L("div",In,[l[0].active?($(),pe(T(xn),{key:0,EditorData:a.EditorData},null,8,["EditorData"])):ce("",!0),l[1].active?($(),pe(T(Cn),{key:1,EditorData:a.EditorData},null,8,["EditorData"])):ce("",!0),l[2].active?($(),pe(T(Sn),{key:2})):ce("",!0)])]))}});const Dn=I({props:{EditorData:Object},setup(e){let a=Ve(null);const l=me(Q);return Ke(()=>{a.value.attributes.childrenList=e.EditorData.get("page").children;const i=(c,u)=>{let s=!1,S=null;const r=f=>{var d;if(!s)for(let y=0;y<f.length;y++){const p=f[y];if(p.getAttribute("data-id")==u){s=!0,S=p;return}let C=(d=p.children[0])!=null&&d.classList?[...p.children[0].classList]:"";if(C&&(C.includes("cannotPreview")||C.includes("container-ordinary")))return r(p.children)}};for(let f=0;f<c.length&&!s;f++){if(c[f].getAttribute("data-id")==u)return c[f];r(c[f].children)}return S},n=c=>{let u=Re(a.value);l.dragEl=i(u.children,c)};ne(()=>l.selectKey,()=>{n(l.selectKey)})}),()=>t("div",{class:"Editorcontainer",ref:a,onMouseenter:i=>_e.mouseenter(i),onClick:i=>_e.onclickToDrag(i),style:e.EditorData.style,"data-id":"page"},[vt("page")])}}),_n=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(re,{option:l},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),Bn=I({props:{option:{type:Object}},setup(e){return()=>t(bt,{option:e.option},null)}}),Pn=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(re,{option:l},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),Fn=I({props:{option:{type:Object}},setup(e){return()=>t(bt,{option:e.option},null)}}),An=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(re,{option:l},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),Mn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({value:"普通文字",options:[{value:"普通文字"},{value:"段落"},{value:"一级标题"},{value:"二级标题"},{value:"三级标题"},{value:"四级标题"},{value:"五级标题"},{value:"六级标题"}]}),i=k({whetherInline:{label:"内联模式",value:!0},textContent:{label:"文字内容",value:e.option.children}});return e.option.style.display&&(i.whetherInline.value=!1),te(()=>{e.option.children=i.textContent.value,i.whetherInline.value?delete e.option.style.display:e.option.style.display="block"}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ee,{label:"文字格式",setting:l},null),t(oe,{option:i.whetherInline},null),t(mt,{option:i.textContent},null)]})]})])}}),Tn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},i=k({value:"默认",options:[{value:"默认"},{value:"主要"},{value:"成功"},{value:"信息"},{value:"警告"},{value:"危险"}]}),n=k({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),c=k({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]}),u=k({blockDisplay:{label:"块状显示",value:!1},leftIconSize:{label:"左侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""},rightIconSize:{label:"右侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""}});e.option.buttonstyle==""?i.value="默认":e.option.buttonstyle=="primary"?i.value="主要":e.option.buttonstyle=="success"?i.value="成功":e.option.buttonstyle=="info"?i.value="信息":e.option.buttonstyle=="warning"?i.value="警告":i.value="危险",e.option.style.display=="block"&&(u.blockDisplay.value=!0);let s=!1,S=!1;return s=!!e.option.icon.leftIcon,S=!!e.option.icon.rightIcon,e.option.icon.leftIconSize&&(u.leftIconSize.value=e.option.icon.leftIconSize),e.option.icon.leftIconSize&&(u.rightIconSize.value=e.option.icon.rightIconSize),te(()=>{i.value=="默认"?e.option.buttonstyle="":i.value=="主要"?e.option.buttonstyle="primary":i.value=="成功"?e.option.buttonstyle="success":i.value=="信息"?e.option.buttonstyle="info":i.value=="警告"?e.option.buttonstyle="warning":e.option.buttonstyle="danger",u.blockDisplay.value?e.option.style.display="block":e.option.style.display="",s?e.option.icon.leftIconSize=u.leftIconSize.value:e.option.icon.leftIconSize="",S?e.option.icon.rightIconSize=u.rightIconSize.value:e.option.icon.rightIconSize=""}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ee,{label:"样式",setting:i},null),t(oe,{option:u.blockDisplay},null),t(Ue,{setting:c},null)]}),t(v("elCollapseItem"),{title:"自定义样式",name:"customStyle"},{default:()=>[t(ee,{label:"状态",setting:n},null),t(re,{option:l},null),Y(t(Z,{option:u.leftIconSize},null),[[G,s]]),Y(t(Z,{option:u.rightIconSize},null),[[G,S]])]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})])}}),jn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({bindingField:{label:"名称",value:"我的按钮",placeholder:"请输入名称"},twiceComfire:{label:"二次确认",value:!1},bubblePrompt:{label:"气泡提示",value:!1},leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},rightIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},disable:{label:"禁用",value:!0}}),i=k({textarea:[{label:"确认内容",value:""}],hasTriggerMode:!1,hasPromptLocation:!1}),n=k({textarea:[{label:"正常提示",value:""},{label:"禁用信息",value:""}],hasTriggerMode:!0,hasPromptLocation:!0});return l.bindingField.value!=e.option.children&&(l.bindingField.value=e.option.children),e.option.twiceComfire.value?(l.twiceComfire.value=!0,i.textarea[0].value=e.option.twiceComfire.info):l.twiceComfire.value=!1,l.leftIconSelect.icon=e.option.icon.leftIcon?e.option.icon.leftIcon:"",l.leftIconSelect.iconText=e.option.icon.leftIcon?e.option.icon.leftIcon.replace("icon-",""):"",l.rightIconSelect.icon=e.option.icon.rightIcon?e.option.icon.rightIcon:"",l.rightIconSelect.iconText=e.option.icon.rightIcon?e.option.icon.rightIcon.replace("icon-",""):"",e.option.bubblePrompt.value?(l.bubblePrompt.value=!0,n.textarea[0].value=e.option.bubblePrompt.normalInfo,n.textarea[1].value=e.option.bubblePrompt.disableInfo):l.twiceComfire.value=!1,l.disable.value=e.option.isDisable,te(()=>{l.bindingField.value!="我的按钮"&&(e.option.children=l.bindingField.value?l.bindingField.value:"我的按钮"),l.twiceComfire.value?(e.option.twiceComfire.value=!0,e.option.twiceComfire.info=i.textarea[0].value):(e.option.twiceComfire.value=!1,e.option.twiceComfire.info=i.textarea[0].value=""),l.bubblePrompt.value?(e.option.bubblePrompt.value=!0,e.option.bubblePrompt.normalInfo=n.textarea[0].value,e.option.bubblePrompt.disableInfo=n.textarea[1].value):(e.option.bubblePrompt.value=!1,e.option.bubblePrompt.normalInfo=n.textarea[0].value="",e.option.bubblePrompt.disableInfo=n.textarea[1].value="",e.option.bubblePrompt.triggerMode!="鼠标悬浮"&&(e.option.bubblePrompt.triggerMode="鼠标悬浮"),e.option.bubblePrompt.promptLocation!="下"&&(e.option.bubblePrompt.promptLocation="下")),e.option.isDisable=l.disable.value}),ne(()=>l.leftIconSelect.isShowList,c=>{c&&l.rightIconSelect.isShowList&&(l.rightIconSelect.isShowList=!1)}),ne(()=>l.rightIconSelect.isShowList,c=>{c&&l.leftIconSelect.isShowList&&(l.leftIconSelect.isShowList=!1)}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Z,{option:l.bindingField},null),t(oe,{option:l.twiceComfire},null),Y(t(pt,{setting:i},null),[[G,l.twiceComfire.value]]),t(Ge,{label:"左侧图标",setting:l.leftIconSelect},null),t(Ge,{label:"右侧图标",setting:l.rightIconSelect},null),t(oe,{option:l.bubblePrompt},null),Y(t(pt,{setting:n},null),[[G,l.bubblePrompt.value]])]}),t(v("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(oe,{option:l.disable},null)]})]})])}}),Nn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({width:{label:"宽度",value:e.option.style.width,placeholder:"请输入输入框宽度",oldValue:""},height:{label:"高度",value:e.option.style.height,placeholder:"请输入输入框高度",oldValue:""}}),i=k({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),n={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},c=k({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]});return te(()=>{e.option.style.width=l.width.value,e.option.style.height=l.height.value}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Z,{option:l.width},null),t(Z,{option:l.height},null),t(Ue,{setting:c},null)]}),t(v("elCollapseItem"),{title:"输入框样式",name:"inputStyle"},{default:()=>[t(ee,{label:"状态",setting:i},null),t(re,{option:n},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSourceCode"},{default:()=>[t("div",{class:"events"},[t("div",{class:"addEvents"},[t("span",null,[w("编辑样式源码")])])])]})]})])}}),On=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({inputStyle:{value:"文本(text)",options:[{value:"文本(text)"},{value:"密码(password)"},{value:"邮箱(email)"}]},defaultValue:{label:"默认值",value:"",placeholder:"请输入输入框默认内容"},placeholderPrompt:{label:"占位提示",value:"",placeholder:"请输入占位提示"},clearable:{label:"可清除",value:!1},maxLength:{label:"最长输入长度",value:0,min:0},minLength:{label:"最小输入长度",value:0,min:0}}),i=k({hide:{label:"隐藏",value:!1},onlyRead:{label:"只读",value:!1},disable:{label:"禁用",value:!1},autofocus:{label:"自动对焦",value:!1}});let n=new RegExp("(?<=\\()(.+?)(?=\\))","g");return(()=>{if(e.option.inputStyle!="input")for(let c=0;c<l.inputStyle.options.length;c++){let u=l.inputStyle.options[c].value.match(n);u[0]==e.option.inputStyle&&(l.inputStyle.value=l.inputStyle.options[c].value),u[0]=="password"&&(e.option.showPassword=!0)}l.defaultValue.value=e.option.value,l.placeholderPrompt.value=e.option.placeholder,l.clearable.value=e.option.clearable,l.maxLength.value=e.option.maxlength||0,l.minLength.value=e.option.minlength||0,l.maxLength.value&&l.maxLength.value!=0&&(e.option.showWordLimit=!0)})(),i.hide.value=e.option.hidden,i.onlyRead.value=e.option.readonly,i.disable.value=e.option.disabled,i.autofocus.value=e.option.autofocus,te(()=>{e.option.inputStyle=l.inputStyle.value.match(n)[0],e.option.inputStyle!="password"&&(e.option.showPassword=!1),e.option.value=l.defaultValue.value,e.option.placeholder=l.placeholderPrompt.value,l.clearable.value?e.option.clearable=l.clearable.value:delete e.option.clearable,l.maxLength.value!=0?e.option.maxlength=l.maxLength.value:delete e.option.maxlength,l.minLength.value!=0?e.option.minlength=l.minLength.value:delete e.option.minlength,l.maxLength.value&&l.maxLength.value>0?e.option.showWordLimit=!0:e.option.showWordLimit=!1,i.hide.value?e.option.hidden=i.hide.value:delete e.option.hidden,i.onlyRead.value?e.option.readonly=i.onlyRead.value:delete e.option.readonly,i.disable.value?e.option.disabled=i.disable.value:delete e.option.disabled,i.autofocus.value?e.option.autofocus=i.autofocus.value:delete e.option.autofocus}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ee,{label:"输入类型",setting:l.inputStyle},null),t(Z,{option:l.defaultValue},null),t(Z,{option:l.placeholderPrompt},null),t(oe,{option:l.clearable},null),t($e,{option:l.maxLength},null),t($e,{option:l.minLength},null)]}),t(v("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(oe,{option:i.hide},null),t(oe,{option:i.onlyRead},null),t(oe,{option:i.disable},null),t(oe,{option:i.autofocus},null)]})]})])}});class Rn{constructor(a){ue(this,"containerElement",null);ue(this,"rectList",[]);ue(this,"handle",null);ue(this,"drag",{element:null,index:0,firstIndex:0});ue(this,"clone",{element:null});ue(this,"diff",{x:null,y:null});ue(this,"isMouseDown",!1);ue(this,"dragData",null);ue(this,"dragClassName",null);ue(this,"cloneClassName",null);ue(this,"animation",".5s");this.containerElement=a.el,this.handle=a.handle,this.dragData=k(a.dragData),this.dragClassName=a.dragClassName,this.cloneClassName=a.cloneClassName,a.animation&&(this.animation=a.animation),this.init()}init(){this.bindEventListener(),this.getRectList()}getRectList(){this.rectList.length=0;for(const a of this.containerElement.children)this.rectList.push(a.getBoundingClientRect())}onMouseDown(a){const{clientY:l,clientX:i,target:n}=a;if(n==this.containerElement||!n.classList.contains(this.handle))return;this.getRectList(),this.isMouseDown=!0,this.drag.element=this.findActionNode(n),this.drag.element.classList.add(this.dragClassName),this.clone.element=this.drag.element.cloneNode(!0),document.body.appendChild(this.clone.element),this.clone.element.className=this.cloneClassName;const c=[].indexOf.call(this.containerElement.children,this.drag.element);this.drag.index=c,this.drag.firstIndex=c;const{top:u,left:s}=this.drag.element.getBoundingClientRect();this.diff.x=i-s,this.diff.y=l-u,this.clone.element.style.top=`${u}px`,this.clone.element.style.left=`${s}px`;for(const S of this.containerElement.children)S.style.transition=`transform ${this.animation}`}onMouseMove(a){if(this.isMouseDown){this.clone.element.style.top=`${a.clientY-this.diff.y}px`;for(let l=0;l<this.rectList.length;l++)if(l!==this.drag.index&&a.clientX>this.rectList[l].left&&a.clientX<this.rectList[l].right&&a.clientY>this.rectList[l].top&&a.clientY<this.rectList[l].bottom){if(this.drag.index<l)for(let c=this.drag.index;c<l;c++)if(c<this.drag.firstIndex)this.containerElement.children[c].style.transform="translate3d(0px, 0px, 0)";else{const u=this.rectList[c].left-this.rectList[c+1].left,s=this.rectList[c].top-this.rectList[c+1].top;this.containerElement.children[c+1].style.transform="translate3d("+u+"px, "+s+"px, 0)"}else if(this.drag.index>l)for(let c=l;c<this.drag.index;c++)if(this.drag.firstIndex<=c)this.containerElement.children[c+1].style.transform="translate3d(0px, 0px, 0)";else{const u=this.rectList[c+1].left-this.rectList[c].left,s=this.rectList[c+1].top-this.rectList[c].top;this.containerElement.children[c].style.transform="translate3d("+u+"px, "+s+"px, 0)"}const i=this.rectList[l].left-this.rectList[this.drag.firstIndex].left,n=this.rectList[l].top-this.rectList[this.drag.firstIndex].top;this.drag.element.style.transform="translate3d("+i+"px, "+n+"px, 0)",this.drag.index=l;break}}}onMouseUp(){if(this.isMouseDown){this.isMouseDown=!1,this.drag.element.classList.remove(this.dragClassName),this.clone.element.remove();for(const l of this.containerElement.children)l.style.transition="none",l.style.transform="translate3d(0px, 0px, 0px)";let a=this.dragData[this.drag.firstIndex];this.dragData.splice(this.drag.firstIndex,1),this.dragData.splice(this.drag.index,0,a)}}bindEventListener(){this.containerElement.addEventListener("mousedown",this.onMouseDown.bind(this)),this.containerElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this))}findActionNode(a){return a.parentNode!=this.containerElement?this.findActionNode(a.parentNode):a}}const zn=I({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=k({inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style}});return(()=>{if(e.option.style.width){const{width:i}=e.option.style.width;i=="80px"?l.inputBoxSize.value="极小":i=="160px"?l.inputBoxSize.value="小":i=="240px"?l.inputBoxSize.value="中":i=="320px"&&(l.inputBoxSize.value="大")}})(),te(()=>{l.inputBoxSize.value=="极小"?e.option.style.width="80px":l.inputBoxSize.value=="小"?e.option.style.width="160px":l.inputBoxSize.value=="中"?e.option.style.width="240px":l.inputBoxSize.value=="大"?e.option.style.width="320px":delete e.option.style.width}),()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ee,{label:"下拉框尺寸",setting:l.inputBoxSize},null)]}),t(v("elCollapseItem"),{title:"下拉框样式",name:"inputBoxType"},{default:()=>[t(re,{option:l.inputBoxType},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),$n=I({props:{option:{type:Object}},setup(e){const a=["basic","options"],l=k({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:""},filterable:{label:"可搜索",value:e.option.filterable?e.option.filterable:!1},multiple:{label:"是否多选",value:e.option.multiple?e.option.multiple:!1},defaultValue:{value:e.option.defaultValue?e.option.defaultValue:"",options:[]},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"},selectData:[{radio:!1,value:"选项A",isShow:!1},{radio:!1,value:"选项B",isShow:!1},{radio:!1,value:"选项C",isShow:!1}]});e.option.selectData&&(l.selectData=e.option.selectData.map(u=>({...u,isShow:!1})));let i=Ve(null);Ke(()=>{new Rn({el:i.value,handle:"selectDataDrag",dragData:l.selectData,dragClassName:"active",cloneClassName:"drag-ghost"})});const n=()=>{l.selectData.push({radio:!1,value:"",isShow:!1})};te(()=>{l.bindingField.value!=""?e.option.bindingField=l.bindingField.value:delete e.option.bindingField,l.filterable.value?e.option.filterable=l.filterable.value:delete e.option.filterable,l.multiple.value?e.option.multiple=l.multiple.value:delete e.option.multiple,l.defaultValue.value!=""?e.option.defaultValue=l.defaultValue.value:delete e.option.defaultValue,l.inputBoxPlaceholder.value!=""?e.option.placeholder=l.inputBoxPlaceholder.value:delete e.option.placeholder,e.option.selectData=l.selectData.map(u=>({value:u.value,radio:u.radio})),new Promise(u=>{let s=[];for(let S of l.selectData)S.value.trim()!=""&&s.push(S);u(s)}).then(u=>{l.defaultValue.options=u})});const c=()=>{l.selectData.map(u=>u.isShow=!1)};return window.addEventListener("click",c),He(()=>{window.removeEventListener("click",c)}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Z,{option:l.bindingField},null),t(oe,{option:l.multiple},null),t(oe,{option:l.filterable},null),t(ee,{label:"默认值",setting:l.defaultValue,change:u=>{l.selectData.map(s=>s.radio=!1),l.selectData.some(s=>{s.value==u&&(s.radio=!0)})}},null),t(Z,{option:l.inputBoxPlaceholder},null)]}),t(v("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[t("div",{class:"elCollapseItem"},[w("数据")]),t("div",{class:"selectDataList",ref:i},[l.selectData.map((u,s)=>t("div",{class:"elCollapseItem"},[t("div",{class:"selectData"},[t("i",{class:"icon iconfont icon-drag selectDataDrag"},null),t("input",{class:"selectData-radio",type:"radio",value:"true",name:"defaultValue",title:"默认选中",checked:u.radio,onChange:S=>{l.selectData.forEach(r=>r.radio=!1),u.radio=!0,l.defaultValue.value=u.value}},null),t(K,{modelValue:u.value,"onUpdate:modelValue":S=>u.value=S,placeholder:"请输入选项的值"},null),t("div",{class:"selectData-menu",onClick:S=>{S.stopPropagation(),l.selectData.forEach(r=>r.isShow=!1),u.isShow=!0}},[t("i",{class:"icon iconfont icon-caidan"},null),Y(t("div",{class:"selectData-menu-dropdown"},[Y(t("span",{onClick:S=>{S.stopPropagation(),u.isShow=!1,u.radio=!1}},[w("取消勾选")]),[[G,u.radio]]),t("span",{onClick:S=>{S.stopPropagation(),u.isShow=!1,l.selectData.length>1?l.selectData.splice(s,1):xe.warning({message:"最后一项不可删除",duration:2e3})}},[w("删除")])]),[[G,u.isShow]])])])]))]),t("div",{class:"elCollapseItem selectDataList-footer"},[t(ut,{plain:!0,onClick:n},{default:()=>[w("添加选项")]}),t(ut,{plain:!0},{default:()=>[w("批量添加")]})])]})]})])}}),Un=I({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=k({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:i}=e.option.style.input.width;i=="80px"?l.inputBoxSize.value="极小":i=="160px"?l.inputBoxSize.value="小":i=="240px"?l.inputBoxSize.value="中":i=="320px"&&(l.inputBoxSize.value="大")}})(),te(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width}),()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ee,{label:"布局",setting:l.layout},null),t(ee,{label:"输入框尺寸",setting:l.inputBoxSize},null)]}),t(v("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(re,{option:l.titleType},null)]}),t(v("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(re,{option:l.inputBoxType},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),Kn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},inputType:{value:"文本",options:[{value:"文本"},{value:"密码"},{value:"邮箱"}]},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return e.option.inputType&&(e.option.inputType=="text"&&(l.inputType.value="文本"),e.option.inputType=="password"&&(l.inputType.value="密码"),e.option.inputType=="email"&&(l.inputType.value="邮箱")),te(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(n=>{l[n].value!=""?e.option[n]=l[n].value:delete e.option[n]}),l.inputType.value!=""?l.inputType.value=="文本"?e.option.inputType="text":l.inputType.value=="密码"?e.option.inputType="password":e.option.inputType="email":delete e.option.inputType}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Z,{option:l.bindingField},null),t(ee,{label:"输入类型",setting:l.inputType},null),t(Z,{option:l.title},null),t(oe,{option:l.clearable},null),t(Z,{option:l.inputBoxPlaceholder},null)]})]})])}}),Hn=I({props:{option:{type:Object}},setup(e){const a=["basic","titleType","inputBoxType","styleSource"],l=k({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},rows:{minRows:{label:"最小展示行数",value:e.option.autosize.minRows,min:1,max:99},maxRows:{label:"最大展示行数",value:e.option.autosize.maxRows,min:1,max:99}},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:i}=e.option.style.input.width;i=="80px"?l.inputBoxSize.value="极小":i=="160px"?l.inputBoxSize.value="小":i=="240px"?l.inputBoxSize.value="中":i=="320px"&&(l.inputBoxSize.value="大")}})(),te(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width,e.option.autosize.minRows=l.rows.minRows.value,e.option.autosize.maxRows=l.rows.maxRows.value}),()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ee,{label:"布局",setting:l.layout},null),t(ee,{label:"输入框尺寸",setting:l.inputBoxSize},null),t($e,{option:l.rows.minRows},null),t($e,{option:l.rows.maxRows},null)]}),t(v("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(re,{option:l.titleType},null)]}),t(v("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(re,{option:l.inputBoxType},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),Wn=I({props:{option:{type:Object}},setup(e){const a=["basic","layout"],l=k({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return te(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(n=>{l[n].value!=""?e.option[n]=l[n].value:delete e.option[n]})}),()=>t(N,null,[t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Z,{option:l.bindingField},null),t(Z,{option:l.title},null),t(oe,{option:l.clearable},null),t(Z,{option:l.inputBoxPlaceholder},null)]})]})])}}),Yn=I({props:{option:{type:Object}},setup(e){const a=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(v("elCollapse"),{modelValue:a},{default:()=>[t(v("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(re,{option:l},null)]}),t(v("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[w("编辑样式源码")])])])]})]})}}),Xn=I({props:{option:{type:Object}},setup(){const e=["basic"],a=k({leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"}});return()=>t(N,null,[t(v("elCollapse"),{modelValue:e},{default:()=>[t(v("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(Ge,{label:"修改图标",setting:a.leftIconSelect},null)]})]})])}}),Jn=[{type:"container-ordinary",Properties(e){return t(Bn,{option:e},null)},appearances(e){return t(_n,{option:e},null)}},{type:"container-free",Properties(e){return t(Fn,{option:e},null)},appearances(e){return t(Pn,{option:e},null)}},{type:"text",Properties(e){return t(Mn,{option:e},null)},appearances(e){return t(An,{option:e},null)}},{type:"button",Properties(e){return t(jn,{option:e},null)},appearances(e){return t(Tn,{option:e},null)}},{type:"input",Properties(e){return t(On,{option:e},null)},appearances(e){return t(Nn,{option:e},null)}},{type:"select",Properties(e){return t($n,{option:e},null)},appearances(e){return t(zn,{option:e},null)}},{type:"textBox",Properties(e){return t(Kn,{option:e},null)},appearances(e){return t(Un,{option:e},null)}},{type:"multilineText",Properties(e){return t(Wn,{option:e},null)},appearances(e){return t(Hn,{option:e},null)}},{type:"icon",Properties(e){return t(Xn,{option:e},null)},appearances(e){return t(Yn,{option:e},null)}}];class qn{constructor(a=new Map){this.componentMap=a}register(a){this.componentMap.set(a.type,a)}}const yt=new qn;for(let e of Jn)yt.register({type:e.type,Properties:a=>e.Properties(a),appearances:a=>e.appearances(a)});const Qn=I({props:{EditorData:Object},setup(e){return()=>t("div",{class:"EditorPreview"},[t("div",{id:"body",style:e.EditorData.style},[vt("page")]),t("div",{class:"EditorPreview-leftMessage"},[w("按ESC可退出预览")])])}});function Gn(){let e=-1,a=[],l={},i=[],n=Ce(Q),c=me(Q);const u=[{name:"copy",keyboard:"ctrl+c",execute(){return{redo(){n.copyData=c.selectKey}}}},{name:"paste",keyboard:"ctrl+v",pushQueue:!0,execute(){var m;let f=n.copyData,d=c.selectKey,y=((m=n.EditorDataMap.get(d))==null?void 0:m.parent)||"page",p=n.EditorDataMap.get(y).children.findIndex(B=>B==d),C=n.EditorDataMap.get(f),U=[];return{redo(){function B(O,_,P){P.parent=_;let F=rt(O.replace(/-[^-]*$/,""),Re(P));return U.push(F),Array.isArray(P.children)&&(n.EditorDataMap.get(F).children=P.children.map(h=>B(h,F,n.EditorDataMap.get(h)))),F}n.EditorDataMap.get(y).children.splice(p+1,0,B(f,y,C))},undo(){n.EditorDataMap.get(y).children.splice(p+1,1),U.forEach(B=>{n.EditorDataMap.delete(B)})}}}},{name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let f=a[e+1];f&&(f.redo&&f.redo(),e++)}}}},{name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(e==-1)return;let f=a[e];f&&(f.undo&&f.undo(),e--)}}}},{name:"shear",keyboard:"ctrl+x",pushQueue:!0,execute(){var p;n.copyData=c.selectKey;let f=c.selectKey,d=((p=n.EditorDataMap.get(f))==null?void 0:p.parent)||"page",y=n.EditorDataMap.get(d).children.findIndex(C=>C==f);return c.isDrag&&c.destructionOfDrag(),{redo(){n.EditorDataMap.get(d).children.splice(y,1)},undo(){n.EditorDataMap.get(d).children.splice(y,0,f)}}}},{name:"save",keyboard:"ctrl+s",execute(){return{async redo(){var d;n.isLoading=!0,n.setEditorData(),ze("title",n.title),ze("data",n.EditorData),((d=(await Ka({jsonData:JSON.stringify(n.EditorData),id:De("id"),title:n.title})).data)==null?void 0:d.code)==200&&(n.isLoading=!1,n.isNeedSave=!1,n.isSucessSave=!0,xe.success({message:"保存成功",duration:2e3}))}}}},{name:"removeSave",keyboard:"ctrl+delete",execute(){return{redo(){localStorage.removeItem("title"),localStorage.removeItem("data"),xe.success({message:"清除保存数据成功",duration:2e3})}}}},{name:"delete",keyboard:"delete",pushQueue:!0,execute(){let f=c.selectKey,d=n.EditorDataMap.get(f).parent||"page",y=n.EditorDataMap.get(d).children.findIndex(p=>p==f);return c.isDrag&&c.destructionOfDrag(),{redo(){n.EditorDataMap.get(d).children.splice(y,1)},undo(){n.EditorDataMap.get(d).children.splice(y,0,f)}}}},{name:"preview",keyboard:"ctrl+p",execute(){return{redo(){n.isPreview||(n.setEditorData(),n.isPreview=!0,xe.success({message:"已进入预览模式",duration:2e3}))}}}},{name:"exitPreview",keyboard:"esc",execute(){return{redo(){n.isPreview&&(n.isPreview=!1,xe.success({message:"已退出预览模式",duration:1e3}))}}}},{name:"export",keyboard:"ctrl+e",execute(){return{redo(){const f=document.createElement("a");f.style.display="none",f.download=n.title+".json";var d=new Blob([JSON.stringify(n.EditorData)]);f.href=URL.createObjectURL(d),document.body.appendChild(f),f.click(),document.body.removeChild(f)}}}},{name:"clone",pushQueue:!0,init(){this.before=null;const f=()=>this.before=Re(n.EditorData),d=()=>l.clone();return Ne.on("cloneStart",f),Ne.on("cloneEnd",d),()=>{Ne.off("cloneStart",f),Ne.off("cloneEnd",d)}},execute(){var U;let f=c.selectParent,d=c.selectedMaterial,y=Re(c.selectedMaterial.defaultData),p=(U=n.EditorDataMap.get(f))==null?void 0:U.children.length,C=null;return{redo(){var m;C=rt(d.type,{...y,parent:f}),(m=n.EditorDataMap.get(f))==null||m.children.push(C)},undo(){var m;(m=n.EditorDataMap.get(f))==null||m.children.splice(p,1),n.EditorDataMap.delete(C)}}}}],s={67:"c",86:"v",90:"z",89:"y",88:"x",83:"s",46:"delete",80:"p",27:"esc",69:"e"},S=f=>{l[f.name]=()=>{if(c.isDraging)return;const{redo:d,undo:y}=f.execute();d(),f.pushQueue&&(a.length>0&&(a=a.slice(0,e+1),a=a),a.push({redo:d,undo:y}),e+=1)}},r=(()=>{const f=d=>{const{ctrlKey:y,keyCode:p}=d;let C=[];y&&C.push("ctrl"),C.push(s[p]);let U=C.join("+");u.forEach(({keyboard:m,name:B})=>{if(m&&m===U){if(l[B](),U!="ctrl+s"&&(n.isNeedSave=!0),["c","v","x"].includes(s[p])&&!c.isDrag)return;d.preventDefault()}})};return()=>(window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)})})();return i.push(r()),u.forEach(f=>{S(f),f.init&&i.push(f.init())}),He(()=>{i.forEach(f=>f&&f())}),{commands:l}}const Ye=e=>(et("data-v-56ae4ebc"),e=e(),Ze(),e),Zn={class:"editor"},eo={class:"editor-header"},to={class:"editor-header-left"},lo=Ye(()=>L("i",{class:"icon iconfont icon-fanhui"},null,-1)),ao=[lo],no=Ye(()=>L("h2",null,"codeFlow",-1)),oo={class:"editor-header-mid"},io={class:"isSave"},so={key:0,class:"svg"},uo=ft('<svg class="circle" viewBox="0 0 1024 1024" data-v-56ae4ebc><circle class="loading-circle" cx="512" cy="512" r="330" fill="none" stroke="url(#gradient)" stroke-width="60" data-v-56ae4ebc></circle><defs data-v-56ae4ebc><linearGradient id="gradient" data-v-56ae4ebc><stop offset="0%" stop-color="#ffffff" data-v-56ae4ebc></stop><stop offset="18%" stop-color="#ffffff" data-v-56ae4ebc></stop><stop offset="18%" stop-color="#000000" data-v-56ae4ebc></stop><stop offset="100%" stop-color="#000000" data-v-56ae4ebc></stop></linearGradient></defs></svg>',1),ro=[uo],co={class:"editor-header-right"},po=Ye(()=>L("i",{class:"icon iconfont icon-jianpan"},null,-1)),fo=[po],vo=Ye(()=>L("div",{class:"editor-header-right-avatar"},[L("img",{src:Ua,alt:"user"})],-1)),ho={class:"editor-body"},mo={class:"editor-body-left"},bo={class:"editor-body-container"},yo={class:"editor-body-container-top"},go={class:"el-breadcrumb-button"},xo={class:"editor-body-container-content"},Co={class:"editor-body-container-content_inner",ref:"editArea"},wo={class:"editor-body-right"},So={class:"shortcuts"},Vo={class:"shortcuts-key"},Eo=I({__name:"editor",setup(e){Qe("editorConfig",ct),Qe("erConfig",yt);const a=Ce(Q),l=me(Q);a.title=De("title")?De("title"):"新项目",a.EditorData=De("data")?De("data"):k(Ha),a.setMap();const{commands:i}=Gn(),n=k({dialogIsShow:!1}),c=Ve(null),u=Ve(!1),s=d=>{u.value=!1,d.trim()==""&&(c.value.focus(),xe.warning({message:"标题不能为空",duration:1e3}))};ne(()=>a.title,d=>{d.trim()==""&&xe.warning({message:"标题不能为空",duration:1e3})});const S=[{label:"复制",key:"Ctrl+C"},{label:"粘贴",key:"Ctrl+V"},{label:"撤销",key:"Ctrl+Z"},{label:"还原",key:"Ctrl+Y"},{label:"剪切",key:"Ctrl+X"},{label:"保存",key:"Ctrl+S"},{label:"删除",key:"Delete"},{label:"预览",key:"Ctrl+P"},{label:"退出预览",key:"ESC"},{label:"导出",key:"Ctrl+E"}],r=d=>{console.log(d);let y=!1;const p=C=>{let U=a.EditorDataMap.get(C),m=ct.componentMap.get(U.type).label;a.Breadcrumb.push(m);let B=a.EditorDataMap.get(C).children;if(Array.isArray(B))for(let O=0;O<B.length&&!y;O++)p(B[O]);else if(C==l.selectKey){y=!0;return}else{a.Breadcrumb.pop();return}};if(Array.isArray(d))for(let C=0;C<d.length&&!y;C++)a.Breadcrumb=["页面"],p(d[C])};ne(()=>l.selectKey,()=>{l.selectKey!="page"?r(a.EditorDataMap.get("page").children):a.Breadcrumb=["页面"]});const f=k({icon:"icon-duigouzhong",context:"所有更改已保存"});return ne(()=>a.isSucessSave,d=>{d&&(f.icon="icon-duigouzhong",f.context="已保存")}),ne(()=>a.isNeedSave,d=>{d&&(f.icon="icon-weixuanzhong",f.context="未保存")}),ne(()=>a.isLoading,d=>{d&&(f.icon="icon-weixuanzhong",f.context="正在保存")}),(d,y)=>{const p=v("el-breadcrumb-item"),C=v("el-breadcrumb"),U=v("el-dialog");return $(),ae(N,null,[Y(L("div",Zn,[L("header",eo,[L("div",to,[L("span",{class:"editor-header-left-exit",onClick:y[0]||(y[0]=m=>d.$router.go(-1))},ao),no]),L("div",oo,[L("div",{class:Be(["editor-header-mid-title",{active:u.value}])},[Y(L("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=m=>T(a).title=m),ref_key:"editorTitle",ref:c,onBlur:y[2]||(y[2]=m=>s(T(a).title)),onFocus:y[3]||(y[3]=m=>u.value=!0)},null,544),[[tt,T(a).title]]),L("div",io,[T(a).isLoading?($(),ae("div",so,ro)):ce("",!0),T(a).isLoading?ce("",!0):($(),ae("i",{key:1,class:Be(["icon iconfont",f.icon])},null,2)),L("span",null,Se(f.context),1)])],2)]),L("div",co,[L("div",{class:"editor-header-right-shortcut",onClick:y[4]||(y[4]=m=>n.dialogIsShow=!0)},fo),L("div",{class:"editor-header-right-btn",onClick:y[5]||(y[5]=m=>T(i).preview())}," 预览 "),L("div",{class:"editor-header-right-btn",onClick:y[6]||(y[6]=m=>T(i).export())}," 导出 "),t(T($a),{placement:"bottom",width:200,trigger:"click"},{reference:Le(()=>[vo]),default:Le(()=>[t(T(Wa))]),_:1})])]),L("section",ho,[L("div",mo,[t(mn,{EditorData:T(a).EditorDataMap},null,8,["EditorData"])]),L("div",bo,[L("div",yo,[t(C,{separator:">"},{default:Le(()=>[($(!0),ae(N,null,Te(T(a).Breadcrumb,m=>($(),pe(p,{onClick:y[7]||(y[7]=()=>{console.log(1)})},{default:Le(()=>[L("span",go,Se(m),1)]),_:2},1024))),256))]),_:1})]),L("div",xo,[L("div",Co,[t(T(Dn),{EditorData:T(a).EditorDataMap},null,8,["EditorData"])],512)])]),L("div",wo,[t(Ln,{EditorData:T(a).EditorDataMap},null,8,["EditorData"])])])],512),[[G,!T(a).isPreview]]),T(a).isPreview?($(),pe(T(Qn),{key:0,EditorData:T(a).EditorData},null,8,["EditorData"])):ce("",!0),t(U,{title:"快捷键",modelValue:n.dialogIsShow,"onUpdate:modelValue":y[8]||(y[8]=m=>n.dialogIsShow=m),width:"30%"},{default:Le(()=>[L("ul",So,[($(),ae(N,null,Te(S,m=>L("li",{key:m.key},[L("label",null,Se(m.label),1),L("div",Vo,Se(m.key),1)])),64))])]),_:1},8,["modelValue"])],64)}}});const _o=We(Eo,[["__scopeId","data-v-56ae4ebc"]]);export{_o as default};
