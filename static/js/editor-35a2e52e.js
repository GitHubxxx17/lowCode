var Bt=Object.defineProperty;var Mt=(e,n,l)=>n in e?Bt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[n]=l;var fe=(e,n,l)=>(Mt(e,typeof n!="symbol"?n+"":n,l),l);import{B as Ft,j as At,C as Pt,k as Tt,F as A,K as Nt,R as Ot,S as jt,l as Rt,T as zt,m as Kt,n as $t,q as bt,V as Ut,v as Ht,x as Wt,y as qt,z as Yt,A as Xt,D as Jt,G as Qt,H as Gt,I as Zt,f as pe,g as me,c as G,b as B,J as el,L as tl,M as ll,N as nl,O as al,P as Ct,Q as y,d as t,U as ol,W as il,X as I,Y as sl,Z as ul,_ as rl,$ as cl,a0 as dl,a1 as fl,a2 as pl,a3 as vl,a4 as ml,a5 as hl,a6 as gl,a7 as yl,a8 as bl,a9 as Cl,aa as xl,ab as wl,ac as Sl,ad as El,ae as Dl,af as kl,ag as Vl,ah as Ie,ai as Ll,aj as Il,ak as _l,al as Bl,am as Ml,an as Fl,ao as Al,ap as Te,aq as Pl,ar as Tl,as as Nl,at as Ol,au as jl,av as Ae,aw as Rl,ax as zl,ay as Kl,az as $l,aA as Ul,aB as Hl,aC as Wl,aD as ql,aE as Ye,aF as Yl,aG as Xl,aH as Jl,aI as Ql,aJ as Xe,aK as Gl,o as O,aL as at,aM as et,aN as Zl,aO as ot,aP as en,r as L,aQ as tn,a as Le,aR as ln,aS as nn,aT as Pe,aU as an,aV as f,aW as it,aX as on,aY as sn,aZ as un,a_ as rn,a$ as cn,b0 as dn,b1 as fn,b2 as pn,b3 as vn,b4 as mn,b5 as hn,b6 as gn,t as Ve,b7 as yn,b8 as bn,b9 as Cn,ba as xn,bb as wn,bc as Sn,bd as En,be as Dn,u as V,bf as kn,bg as Vn,bh as Ln,bi as In,bj as _n,bk as Bn,bl as Mn,bm as Fn,bn as An,bo as Pn,bp as Tn,bq as st,br as le,bs as Nn,bt as On,bu as Q,bv as ne,bw as jn,bx as Rn,by as zn,w as ke,bz as Kn,bA as Y,bB as $n,bC as Un,bD as Hn,bE as Wn,bF as Me,bG as He,bH as qn,bI as Yn,bJ as Xn,p as W,i as $,e as q,bK as Jn,bL as Qn,bM as pt,bN as vt,bO as Gn}from"./index-562f9c62.js";import{m as ce,a as tt,d as re,_ as Zn}from"./userStore-c5621c8e.js";import{u as Fe,d as ge,B as xt,e as xe,a as lt,b as We,m as ea,c as ta,f as $e,g as la,P as na}from"./home-11398961.js";const aa=()=>{},oa=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ft,BaseTransitionPropsValidators:At,Comment:Pt,EffectScope:Tt,Fragment:A,KeepAlive:Nt,ReactiveEffect:Ot,Static:jt,Suspense:Rt,Teleport:zt,Text:Kt,Transition:$t,TransitionGroup:bt,VueElement:Ut,assertNumber:Ht,callWithAsyncErrorHandling:Wt,callWithErrorHandling:qt,camelize:Yt,capitalize:Xt,cloneVNode:Jt,compatUtils:Qt,compile:aa,computed:Gt,createApp:Zt,createBlock:pe,createCommentVNode:me,createElementBlock:G,createElementVNode:B,createHydrationRenderer:el,createPropsRestProxy:tl,createRenderer:ll,createSSRApp:nl,createSlots:al,createStaticVNode:Ct,createTextVNode:y,createVNode:t,customRef:ol,defineAsyncComponent:il,defineComponent:I,defineCustomElement:sl,defineEmits:ul,defineExpose:rl,defineModel:cl,defineOptions:dl,defineProps:fl,defineSSRCustomElement:pl,defineSlots:vl,get devtools(){return ml},effect:hl,effectScope:gl,getCurrentInstance:yl,getCurrentScope:bl,getTransitionRawChildren:Cl,guardReactiveProps:xl,h:wl,handleError:Sl,hasInjectionContext:El,hydrate:Dl,initCustomFormatter:kl,initDirectivesForSSR:Vl,inject:Ie,isMemoSame:Ll,isProxy:Il,isReactive:_l,isReadonly:Bl,isRef:Ml,isRuntimeOnly:Fl,isShallow:Al,isVNode:Te,markRaw:Pl,mergeDefaults:Tl,mergeModels:Nl,mergeProps:Ol,nextTick:jl,normalizeClass:Ae,normalizeProps:Rl,normalizeStyle:zl,onActivated:Kl,onBeforeMount:$l,onBeforeUnmount:Ul,onBeforeUpdate:Hl,onDeactivated:Wl,onErrorCaptured:ql,onMounted:Ye,onRenderTracked:Yl,onRenderTriggered:Xl,onScopeDispose:Jl,onServerPrefetch:Ql,onUnmounted:Xe,onUpdated:Gl,openBlock:O,popScopeId:at,provide:et,proxyRefs:Zl,pushScopeId:ot,queuePostFlushCb:en,reactive:L,readonly:tn,ref:Le,registerRuntimeCompiler:ln,render:nn,renderList:Pe,renderSlot:an,resolveComponent:f,resolveDirective:it,resolveDynamicComponent:on,resolveFilter:sn,resolveTransitionHooks:un,setBlockTracking:rn,setDevtoolsHook:cn,setTransitionHooks:dn,shallowReactive:fn,shallowReadonly:pn,shallowRef:vn,ssrContextKey:mn,ssrUtils:hn,stop:gn,toDisplayString:Ve,toHandlerKey:yn,toHandlers:bn,toRaw:Cn,toRef:xn,toRefs:wn,toValue:Sn,transformVNodeArgs:En,triggerRef:Dn,unref:V,useAttrs:kn,useCssModule:Vn,useCssVars:Ln,useModel:In,useSSRContext:_n,useSlots:Bn,useTransitionState:Mn,vModelCheckbox:Fn,vModelDynamic:An,vModelRadio:Pn,vModelSelect:Tn,vModelText:st,vShow:le,version:Nn,warn:On,watch:Q,watchEffect:ne,watchPostEffect:jn,watchSyncEffect:Rn,withAsyncContext:zn,withCtx:ke,withDefaults:Kn,withDirectives:Y,withKeys:$n,withMemo:Un,withModifiers:Hn,withScopeId:Wn},Symbol.toStringTag,{value:"Module"}));const ut=I({props:{search:{type:Object}},setup(e){const n=Le(null),l=L({searchList:Me(e.search.searchKey)||[],inputIsFocus:!1}),a=()=>{l.inputIsFocus=!0},o=()=>{l.inputIsFocus=!1};window.addEventListener("click",o),Xe(()=>{window.removeEventListener("click",o)});const d=()=>{if(e.search.value.trim()!=""){let s=l.searchList.findIndex(C=>C==e.search.value);s>=0&&l.searchList.splice(s,1),l.searchList.unshift(e.search.value),He(e.search.searchKey,l.searchList)}},r=()=>{l.searchList=[],localStorage.removeItem(e.search.searchKey)},c=(s,C)=>{C.stopPropagation(),l.searchList.splice(s,1),He(e.search.searchKey,l.searchList)},p=s=>{o(),e.search.value=s,d()};return Q(()=>e.search.value,s=>{s==""?a():o()}),()=>t("div",{class:"el-search",onClick:s=>{s.stopPropagation()}},[t("div",{class:[l.inputIsFocus?"el-search-input-focus":"","el-search-input"]},[Y(t("input",{ref:n,type:"text",placeholder:e.search.placeholder,onFocus:a,onChange:d,"onUpdate:modelValue":s=>e.search.value=s},null),[[st,e.search.value]]),t("span",null,[t("i",{class:["icon iconfont",e.search.value?"icon-cha":"icon-search"],onClick:s=>e.search.value=""},null)])]),l.inputIsFocus&&t("div",{class:"el-search-content",onClick:()=>{}},[l.searchList.length!=0&&t("div",{class:"el-search-content-history"},[t("div",{class:"el-search-content-history-header"},[t("span",null,[y("搜索历史")]),t("span",{onClick:r},[y("清空")])]),t("div",{class:"el-search-content-history-list"},[t("ul",null,[l.searchList.map((s,C)=>t("li",{onClick:u=>p(s)},[t("span",null,[s]),t("i",{class:"icon iconfont icon-guanbi",onClick:u=>c(C,u)},null)]))])])]),t("div",{class:"el-search-content-default"},[t("div",{class:"el-search-content-default-header"},[t("span",null,[e.search.searchDefault.label])]),t("div",{class:"el-search-content-default-list"},[t("ul",null,[e.search.searchDefault.list.map(s=>t("li",{onClick:C=>p(s)},[t("span",null,[s])]))])])])])])}}),ia=I({props:{EditorData:Object},setup(){const e=Ie("editorConfig"),n=L({search:{value:"",searchKey:"componentSearch",searchDefault:{label:"组件分类",list:["布局容器","常用组件","表单"]},placeholder:"查找组件"},componentList:{container:{label:"布局容器",list:[],hidden:!1},common:{label:"常用组件",list:[],hidden:!1},form:{label:"表单",list:[],hidden:!1}},activeName:L(["layoutContainer","commonComponents","form"])});return e.componentList.map(l=>{switch(l.category){case"container":n.componentList.container.list.push(l);break;case"common":n.componentList.common.list.push(l);break;case"form":n.componentList.form.list.push(l);break}}),Q(()=>n.search.value,l=>{if(l=="")for(let a of Object.keys(n.componentList))n.componentList[a].list.filter(o=>{o.display=!0}),n.componentList[a].hidden=!1;else for(let a of Object.keys(n.componentList))if(n.componentList[a].label.indexOf(l)>=0)n.componentList[a].list.filter(o=>{o.display=!0});else{let o=n.componentList[a].list.length;n.componentList[a].list.map(d=>{d.label.indexOf(l)>=0?d.display=!0:(d.display=!1,o--)}),n.componentList[a].hidden=o==0}}),()=>t("div",{class:"ElComponent"},[t("div",{class:"ElComponent-top"},[t(ut,{search:n.search},null)]),t("div",{class:"ElComponent-list"},[t(f("elCollapse"),{modelValue:n.activeName,"onUpdate:modelValue":l=>n.activeName=l},{default:()=>[!n.componentList.container.hidden&&t(f("elCollapseItem"),{title:"布局容器",name:"layoutContainer"},{default:()=>[t("div",{class:"ElComponent-list-item"},[n.componentList.container.list.map(l=>l.display&&t("div",{onMousedown:a=>Fe.cloneMousedown(l,a)},[l.preview()]))])]}),!n.componentList.common.hidden&&t(f("elCollapseItem"),{title:"常用组件",name:"commonComponents"},{default:()=>[t("div",{class:"ElComponent-list-item"},[n.componentList.common.list.map(l=>l.display&&t("div",{onMousedown:a=>Fe.cloneMousedown(l,a)},[l.preview()]))])]}),!n.componentList.form.hidden&&t(f("elCollapseItem"),{title:"表单",name:"form"},{default:()=>[t("div",{class:"ElComponent-list-item"},[n.componentList.form.list.map(l=>l.display&&t("div",{onMousedown:a=>Fe.cloneMousedown(l,a)},[l.preview()]))])]})]})])])}});const sa=I({props:{EditorData:Object},setup(){const e=Ie("editorConfig"),n=L({search:{value:"",searchKey:"iconSearch",searchDefault:{label:"图标分类",list:["用户","关闭","哈哈哈"]},placeholder:"查找图标"},color:"#000",fontSize:16,iconList:e.iconList});return Q(()=>n.search.value,l=>{if(l=="")for(let a of n.iconList)a.display=!0;else for(let a of n.iconList)a.label.indexOf(l)>=0?a.display=!0:a.display=!1}),()=>t("div",{class:"ElIcon"},[t("div",{class:"ElIcon-top"},[t(ut,{search:n.search},null)]),t("div",{class:"ElIcon-comfig"},[t(f("el-color-picker"),{modelValue:n.color,"onUpdate:modelValue":l=>n.color=l},null),t(f("el-input-number"),{modelValue:n.fontSize,"onUpdate:modelValue":l=>n.fontSize=l,"controls-position":"right",min:12,"data-unit":"px"},null)]),t("div",{class:"ElIcon-list"},[n.iconList.map(l=>l.display&&t("div",{onMousedown:a=>{l.defaultData.style.fontSize=`${n.fontSize}px`,l.defaultData.style.color=n.color,Fe.cloneMousedown(l,a)}},[l.preview()]))])])}});var wt={exports:{}};const ua=qn(oa);(function(e,n){(function(l,a){e.exports=a(ua)})(Yn,function(l){return function(){var a={789:function(c){c.exports=l}},o={};function d(c){var p=o[c];if(p!==void 0)return p.exports;var s=o[c]={exports:{}};return a[c](s,s.exports,d),s.exports}d.d=function(c,p){for(var s in p)d.o(p,s)&&!d.o(c,s)&&Object.defineProperty(c,s,{enumerable:!0,get:p[s]})},d.o=function(c,p){return Object.prototype.hasOwnProperty.call(c,p)},d.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var r={};return function(){function c(i,b){(b==null||b>i.length)&&(b=i.length);for(var S=0,_=new Array(b);S<b;S++)_[S]=i[S];return _}function p(i,b){if(i){if(typeof i=="string")return c(i,b);var S=Object.prototype.toString.call(i).slice(8,-1);return S==="Object"&&i.constructor&&(S=i.constructor.name),S==="Map"||S==="Set"?Array.from(i):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?c(i,b):void 0}}function s(i){return function(b){if(Array.isArray(b))return c(b)}(i)||function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}(i)||p(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function C(i,b,S){return b in i?Object.defineProperty(i,b,{value:S,enumerable:!0,configurable:!0,writable:!0}):i[b]=S,i}d.r(r),d.d(r,{default:function(){return Z}});var u=d(789),h=(0,u.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var i=this.data,b=this.onClick;return(0,u.createVNode)("span",{class:"vjs-tree-brackets",onClick:b},[i])}}),v=(0,u.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(i,b){var S=b.emit;return{uiType:(0,u.computed)(function(){return i.isMultiple?"checkbox":"radio"}),model:(0,u.computed)({get:function(){return i.checked},set:function(_){return S("update:modelValue",_)}})}},render:function(){var i=this.uiType,b=this.model,S=this.$emit;return(0,u.createVNode)("label",{class:["vjs-check-controller",b?"is-checked":""],onClick:function(_){return _.stopPropagation()}},[(0,u.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(i)},null),(0,u.createVNode)("input",{checked:b,class:"vjs-check-controller-original is-".concat(i),type:i,onChange:function(){return S("change",b)}},null)])}}),E=(0,u.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var i=this.nodeType,b=this.onClick,S=i==="objectStart"||i==="arrayStart";return S||i==="objectCollapsed"||i==="arrayCollapsed"?(0,u.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(S?"open":"close"),onClick:b},[(0,u.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,u.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function R(i){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},R(i)}function w(i){return Object.prototype.toString.call(i).slice(8,-1).toLowerCase()}function P(i){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,_=arguments.length>3?arguments[3]:void 0,ee=_||{},ue=ee.key,we=ee.index,X=ee.type,he=X===void 0?"content":X,ie=ee.showComma,Se=ie!==void 0&&ie,ye=ee.length,De=ye===void 0?1:ye,_e=w(i);if(_e==="array"){var Ne=z(i.map(function(de,U,x){return P(de,"".concat(b,"[").concat(U,"]"),S+1,{index:U,showComma:U!==x.length-1,length:De,type:he})}));return[P("[",b,S,{showComma:!1,key:ue,length:i.length,type:"arrayStart"})[0]].concat(Ne,P("]",b,S,{showComma:Se,length:i.length,type:"arrayEnd"})[0])}if(_e==="object"){var Ee=Object.keys(i),Oe=z(Ee.map(function(de,U,x){return P(i[de],/^[a-zA-Z_]\w*$/.test(de)?"".concat(b,".").concat(de):"".concat(b,'["').concat(de,'"]'),S+1,{key:de,showComma:U!==x.length-1,length:De,type:he})}));return[P("{",b,S,{showComma:!1,key:ue,index:we,length:Ee.length,type:"objectStart"})[0]].concat(Oe,P("}",b,S,{showComma:Se,length:Ee.length,type:"objectEnd"})[0])}return[{content:i,level:S,key:ue,index:we,path:b,showComma:Se,length:De,type:he}]}function z(i){if(typeof Array.prototype.flat=="function")return i.flat();for(var b=s(i),S=[];b.length;){var _=b.shift();Array.isArray(_)?b.unshift.apply(b,s(_)):S.push(_)}return S}function M(i){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(i==null)return i;if(i instanceof Date)return new Date(i);if(i instanceof RegExp)return new RegExp(i);if(R(i)!=="object")return i;if(b.get(i))return b.get(i);if(Array.isArray(i)){var S=i.map(function(ue){return M(ue,b)});return b.set(i,S),S}var _={};for(var ee in i)_[ee]=M(i[ee],b);return b.set(i,_),_}function F(i,b){var S=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);b&&(_=_.filter(function(ee){return Object.getOwnPropertyDescriptor(i,ee).enumerable})),S.push.apply(S,_)}return S}function K(i){for(var b=1;b<arguments.length;b++){var S=arguments[b]!=null?arguments[b]:{};b%2?F(Object(S),!0).forEach(function(_){C(i,_,S[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(S)):F(Object(S)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(S,_))})}return i}var m={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},j=(0,u.defineComponent)({name:"TreeNode",props:K(K({},m),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(i,b){var S=b.emit,_=(0,u.computed)(function(){return w(i.node.content)}),ee=(0,u.computed)(function(){return"vjs-value vjs-value-".concat(_.value)}),ue=(0,u.computed)(function(){return i.showDoubleQuotes?'"'.concat(i.node.key,'"'):i.node.key}),we=(0,u.computed)(function(){return i.selectableType==="multiple"}),X=(0,u.computed)(function(){return i.selectableType==="single"}),he=(0,u.computed)(function(){return i.nodeSelectable(i.node)&&(we.value||X.value)}),ie=(0,u.reactive)({editing:!1}),Se=function(U){var x,k,T=(k=(x=U.target)===null||x===void 0?void 0:x.value)==="null"?null:k==="undefined"?void 0:k==="true"||k!=="false"&&(k[0]+k[k.length-1]==='""'||k[0]+k[k.length-1]==="''"?k.slice(1,-1):typeof Number(k)=="number"&&!isNaN(Number(k))||k==="NaN"?Number(k):k);S("valueChange",T,i.node.path)},ye=(0,u.computed)(function(){var U,x=(U=i.node)===null||U===void 0?void 0:U.content;return x===null?x="null":x===void 0&&(x="undefined"),_.value==="string"?'"'.concat(x,'"'):x+""}),De=function(){var U=i.renderNodeValue;return U?U({node:i.node,defaultValue:ye.value}):ye.value},_e=function(){S("bracketsClick",!i.collapsed,i.node.path)},Ne=function(){S("iconClick",!i.collapsed,i.node.path)},Ee=function(){S("selectedChange",i.node)},Oe=function(){S("nodeClick",i.node),he.value&&i.selectOnClickNode&&S("selectedChange",i.node)},de=function(U){if(i.editable&&!ie.editing){ie.editing=!0;var x=function k(T){var H;T.target!==U.target&&((H=T.target)===null||H===void 0?void 0:H.parentElement)!==U.target&&(ie.editing=!1,document.removeEventListener("click",k))};document.removeEventListener("click",x),document.addEventListener("click",x)}};return function(){var U,x=i.node;return(0,u.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":i.showSelectController,"has-carets":i.showIcon,"is-highlight":i.highlightSelectedNode&&i.checked},onClick:Oe,style:i.style},[i.showLineNumber&&(0,u.createVNode)("span",{class:"vjs-node-index"},[x.id+1]),i.showSelectController&&he.value&&x.type!=="objectEnd"&&x.type!=="arrayEnd"&&(0,u.createVNode)(v,{isMultiple:we.value,checked:i.checked,onChange:Ee},null),(0,u.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(x.level)).map(function(k,T){return(0,u.createVNode)("div",{key:T,class:{"vjs-indent-unit":!0,"has-line":i.showLine}},null)}),i.showIcon&&(0,u.createVNode)(E,{nodeType:x.type,onClick:Ne},null)]),x.key&&(0,u.createVNode)("span",{class:"vjs-key"},[(U=i.renderNodeKey,U?U({node:i.node,defaultKey:ue.value||""}):ue.value),(0,u.createVNode)("span",{class:"vjs-colon"},[":".concat(i.showKeyValueSpace?" ":"")])]),(0,u.createVNode)("span",null,[x.type!=="content"&&x.content?(0,u.createVNode)(h,{data:x.content.toString(),onClick:_e},null):(0,u.createVNode)("span",{class:ee.value,onClick:!i.editable||i.editableTrigger&&i.editableTrigger!=="click"?void 0:de,onDblclick:i.editable&&i.editableTrigger==="dblclick"?de:void 0},[i.editable&&ie.editing?(0,u.createVNode)("input",{value:ye.value,onChange:Se,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):De()]),x.showComma&&(0,u.createVNode)("span",null,[","]),i.showLength&&i.collapsed&&(0,u.createVNode)("span",{class:"vjs-comment"},[(0,u.createTextVNode)(" // "),x.length,(0,u.createTextVNode)(" items ")])])])}}});function D(i,b){var S=Object.keys(i);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);b&&(_=_.filter(function(ee){return Object.getOwnPropertyDescriptor(i,ee).enumerable})),S.push.apply(S,_)}return S}function N(i){for(var b=1;b<arguments.length;b++){var S=arguments[b]!=null?arguments[b]:{};b%2?D(Object(S),!0).forEach(function(_){C(i,_,S[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(S)):D(Object(S)).forEach(function(_){Object.defineProperty(i,_,Object.getOwnPropertyDescriptor(S,_))})}return i}var Z=(0,u.defineComponent)({name:"Tree",props:N(N({},m),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(i,b){var S=b.emit,_=b.slots,ee=(0,u.ref)(),ue=(0,u.computed)(function(){return P(i.data,i.rootPath)}),we=function(x){return ue.value.reduce(function(k,T){var H,J=T.level>=x,te=(H=i.pathCollapsible)===null||H===void 0?void 0:H.call(i,T);return T.type!=="objectStart"&&T.type!=="arrayStart"||!J&&!te?k:N(N({},k),{},C({},T.path,1))},{})},X=(0,u.reactive)({translateY:0,visibleData:null,hiddenPaths:we(i.deep)}),he=(0,u.computed)(function(){for(var x=null,k=[],T=ue.value.length,H=0;H<T;H++){var J=N(N({},ue.value[H]),{},{id:H}),te=X.hiddenPaths[J.path];if(x&&x.path===J.path){var be=x.type==="objectStart",Ke=N(N(N({},J),x),{},{showComma:J.showComma,content:be?"{...}":"[...]",type:be?"objectCollapsed":"arrayCollapsed"});x=null,k.push(Ke)}else{if(te&&!x){x=J;continue}if(x)continue;k.push(J)}}return k}),ie=(0,u.computed)(function(){var x=i.selectedValue;return x&&i.selectableType==="multiple"&&Array.isArray(x)?x:[x]}),Se=(0,u.computed)(function(){return!i.selectableType||i.selectOnClickNode||i.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),ye=function(){var x=he.value;if(i.virtual){var k,T=i.height/i.itemHeight,H=((k=ee.value)===null||k===void 0?void 0:k.scrollTop)||0,J=Math.floor(H/i.itemHeight),te=J<0?0:J+T>x.length?x.length-T:J;te<0&&(te=0);var be=te+T;X.translateY=te*i.itemHeight,X.visibleData=x.filter(function(Ke,je){return je>=te&&je<be})}else X.visibleData=x},De=function(){ye()},_e=function(x){var k,T,H=x.path,J=i.selectableType;if(J==="multiple"){var te=ie.value.findIndex(function(Ce){return Ce===H}),be=s(ie.value);te!==-1?be.splice(te,1):be.push(H),S("update:selectedValue",be),S("selectedChange",be,s(ie.value))}else if(J==="single"&&ie.value[0]!==H){var Ke=(k=ie.value,T=1,function(Ce){if(Array.isArray(Ce))return Ce}(k)||function(Ce,rt){var Be=Ce==null?null:typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(Be!=null){var ct,dt,Qe=[],Ge=!0,ft=!1;try{for(Be=Be.call(Ce);!(Ge=(ct=Be.next()).done)&&(Qe.push(ct.value),!rt||Qe.length!==rt);Ge=!0);}catch(_t){ft=!0,dt=_t}finally{try{Ge||Be.return==null||Be.return()}finally{if(ft)throw dt}}return Qe}}(k,T)||p(k,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],je=H;S("update:selectedValue",je),S("selectedChange",je,Ke)}},Ne=function(x){S("nodeClick",x)},Ee=function(x,k){if(x)X.hiddenPaths=N(N({},X.hiddenPaths),{},C({},k,1));else{var T=N({},X.hiddenPaths);delete T[k],X.hiddenPaths=T}},Oe=function(x,k){i.collapsedOnClickBrackets&&Ee(x,k),S("bracketsClick",x)},de=function(x,k){Ee(x,k),S("iconClick",x)},U=function(x,k){var T=M(i.data),H=i.rootPath;new Function("data","val","data".concat(k.slice(H.length),"=val"))(T,x),S("update:data",T)};return(0,u.watchEffect)(function(){Se.value&&function(x){throw new Error("[VueJSONPretty] ".concat(x))}(Se.value)}),(0,u.watchEffect)(function(){he.value&&ye()}),(0,u.watch)(function(){return i.deep},function(x){x&&(X.hiddenPaths=we(x))}),function(){var x,k,T=(x=i.renderNodeKey)!==null&&x!==void 0?x:_.renderNodeKey,H=(k=i.renderNodeValue)!==null&&k!==void 0?k:_.renderNodeValue,J=X.visibleData&&X.visibleData.map(function(te){return(0,u.createVNode)(j,{key:te.id,node:te,collapsed:!!X.hiddenPaths[te.path],showDoubleQuotes:i.showDoubleQuotes,showLength:i.showLength,checked:ie.value.includes(te.path),selectableType:i.selectableType,showLine:i.showLine,showLineNumber:i.showLineNumber,showSelectController:i.showSelectController,selectOnClickNode:i.selectOnClickNode,nodeSelectable:i.nodeSelectable,highlightSelectedNode:i.highlightSelectedNode,editable:i.editable,editableTrigger:i.editableTrigger,showIcon:i.showIcon,showKeyValueSpace:i.showKeyValueSpace,renderNodeKey:T,renderNodeValue:H,onNodeClick:Ne,onBracketsClick:Oe,onIconClick:de,onSelectedChange:_e,onValueChange:U,style:i.itemHeight&&i.itemHeight!==20?{lineHeight:"".concat(i.itemHeight,"px")}:{}},null)});return(0,u.createVNode)("div",{ref:ee,class:{"vjs-tree":!0,"is-virtual":i.virtual},onScroll:i.virtual?De:void 0,style:i.showLineNumber?N({paddingLeft:"".concat(12*Number(ue.value.length.toString().length),"px")},i.style):i.style},[i.virtual?(0,u.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(i.height,"px")}},[(0,u.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(he.value.length*i.itemHeight,"px")}},[(0,u.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(X.translateY,"px)")}},[J])])]):J])}}})}(),r}()})})(wt);var ra=wt.exports;const ca=Xn(ra);const da=e=>(ot("data-v-7aa8fc1a"),e=e(),at(),e),fa={class:"ElJsonViewer"},pa=da(()=>B("span",null,"源码",-1)),va=I({__name:"ElJsonViewer",setup(e){const n=ge(W),l=ce(W);l.setEditorData();const a=()=>{const o=document.createElement("textarea");o.value=JSON.stringify(n.selectedComponent||l.EditorData),document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),$.success({message:"复制源码成功",duration:1e3})};return(o,d)=>(O(),G("div",fa,[B("div",{class:"ElJsonViewer-top"},[pa,B("i",{class:"icon iconfont icon-copy",onClick:a})]),t(V(ca),{virtual:"",showIcon:"",showSelectController:"",height:820,data:V(n).selectedComponent||V(l).EditorData},null,8,["data"])]))}});const Re=(e,n)=>{const l=e.__vccOpts||e;for(const[a,o]of n)l[a]=o;return l},ma=Re(va,[["__scopeId","data-v-7aa8fc1a"]]),ze=ge(W),g=ce(W),St=(e,n)=>{let l=!1,a=null;const o=d=>{var r;if(!l)for(let c=0;c<d.length;c++){const p=d[c];if(p.getAttribute("data-key")==n){l=!0,a=p;return}let s=(r=p.children[0])!=null&&r.classList?[...p.children[0].classList]:"";if(s&&(s.includes("cannotPreview")||s.includes("container-ordinary")))return o(p.children)}};for(let d=0;d<e.length&&!l;d++){if(e[d].getAttribute("data-key")==n)return e[d];o(e[d].children)}return a},Et=e=>{let n=[...e.classList];return n.includes("is-expanded")||n.includes("cannotPreview")||n.includes("container-ordinary")?e:Et(e.parentNode)},ha=e=>{var a;let n=g.EditorDataMap.get(e),l=(a=g.EditorDataMap.get(n.parent))==null?void 0:a.children;for(let o=0;o<l.length;o++)if(l[o+1]==e)return l[o]},ga=e=>{var a;let n=g.EditorDataMap.get(e),l=(a=g.EditorDataMap.get(n.parent))==null?void 0:a.children;for(let o=0;o<l.length;o++)if(l[o-1]==e)return l[o]},Dt=e=>{g.menuConfig.selectKey=Et(e.target).getAttribute("data-key"),g.menuConfig.selectKey==ze.selectKey?(console.log("右击节点是已经选中的节点"),g.menuConfig.isShow.selectComponent=!0,g.menuConfig.isShow.unselectComponent=!1,g.menuConfig.isShow.moveForward=!1,g.menuConfig.isShow.moveBack=!1):(g.menuConfig.isShow.selectComponent=!1,g.menuConfig.isShow.unselectComponent=!0,g.menuConfig.isShow.moveForward=!0,g.menuConfig.isShow.moveBack=!0),console.log("打开菜单"),console.log("右击选中节点："+g.menuConfig.selectKey),e.preventDefault(),g.menuConfig.isShowMenu=!0,g.menuConfig.style.left=e.x+"px",g.menuConfig.style.top=e.y+"px",e.stopPropagation()},mt=()=>{console.log("关闭菜单"),g.menuConfig.isShowMenu=!1},ya=e=>{console.log("选中组件"),g.menuConfig.isShow.selectComponent?$.info("该组件已经被选中啦！"):g.menuConfig.selectKey?(console.log("更改"),g.menuConfig.elOutlineTree&&g.menuConfig.elOutlineTree.setCurrentKey(g.menuConfig.selectKey),ze.selectKey=g.menuConfig.selectKey,g.menuConfig.isShowMenu=!1):$.error("无法选中！"),e.stopPropagation()},ba=e=>{g.menuConfig.isShow.unselectComponent?$.info("这个组件不需要取消选中嘞！"):(console.log("取消组件"),ze.selectKey=null,g.menuConfig.elOutlineTree&&g.menuConfig.elOutlineTree.setCurrentKey(null),g.menuConfig.isShowMenu=!1),e.stopPropagation()},Ca=(e,n)=>{g.menuConfig.isShow.makeACopy?$.info("不可以复制该组件哦！"):(console.log("复制一份"),g.copyData=g.menuConfig.selectKey,g.wantCopy=g.menuConfig.selectKey,n.paste(),g.menuConfig.isShowMenu=!1),e.stopPropagation()},xa=e=>{g.menuConfig.isShow.copycomponents?$.info("不可以复制该组件哦！"):(console.log("复制组件"),g.copyData=g.menuConfig.selectKey,g.menuConfig.isShowMenu=!1),e.stopPropagation()},kt=(e,n)=>{g.menuConfig.isShow.delComponents?$.info("不可以删除该组件哦！"):(console.log("删除组件"),g.wantDel=g.menuConfig.selectKey,n.delete(),g.menuConfig.isShowMenu=!1),e.stopPropagation()},wa=(e,n)=>{g.menuConfig.isShow.shearComponents?$.info("不可以剪切该组件哦！"):(console.log("剪切组件"),g.copyData=g.menuConfig.selectKey,g.menuConfig.isShowMenu=!1,kt(e,n)),e.stopPropagation()},Sa=e=>{var n;if(!g.copyData){$.error("还没有复制组件配置哦！");return}if(g.menuConfig.isShow.pasteComponents)$.info("不可以粘贴到该组件哦！");else{let l=function(){p(),C(),g.menuConfig.key++},a=function(){s(),c(),g.menuConfig.key--};console.log("粘贴组件");let o=g.EditorDataMap.get(g.menuConfig.selectKey),d=(n=g.EditorDataMap.get(o.parent))==null?void 0:n.children,r=-1;for(let u=0;u<d.length;u++)if(d[u+1]==g.menuConfig.selectKey){r=u;break}let{delUndo:c,delRedo:p}=Ea(),{copyUndo:s,copyRedo:C}=Da(r,o.parent);l(),g.queue.push({redo:l,undo:a}),g.curPointerTo+=1,g.menuConfig.isShowMenu=!1}e.stopPropagation()},Ea=()=>{var n;let e=g.menuConfig.selectKey;if(e){console.log("删除被粘贴的节点");let l=((n=g.EditorDataMap.get(e))==null?void 0:n.parent)||"page",a=g.EditorDataMap.get(l).children.findIndex(o=>o==e);return{delRedo(){g.EditorDataMap.get(l).children.splice(a,1),console.log(g.EditorDataMap.get(l))},delUndo(){g.EditorDataMap.get(l).children.splice(a,0,e),console.log(g.EditorDataMap.get(l))}}}else $.error("编辑区域根节点不能被粘贴配置！")},Da=(e,n)=>{let l=g.copyData,a=g.EditorDataMap.get(l),o=[];return{copyRedo(){function d(r,c,p){p.parent=c;let s=tt(r.replace(/-[^-]*$/,""),re(p));return o.push(s),Array.isArray(p.children)&&(g.EditorDataMap.get(s).children=p.children.map(C=>d(C,s,g.EditorDataMap.get(C)))),s}g.EditorDataMap.get(n).children.splice(e+1,0,d(l,n,a))},copyUndo(){g.EditorDataMap.get(n).children.splice(e+1,1),o.forEach(d=>{g.EditorDataMap.delete(d)})}}},ka=e=>{if(g.menuConfig.isShow.moveForward)$.error("未选中该节点！");else{console.log("向前移动");let n=ha(g.menuConfig.selectKey);g.menuConfig.elOutlineTree&&g.menuConfig.elOutlineTree.setCurrentKey(n),g.rootNode&&(ze.dragEl=St(g.rootNode.children,n)),g.menuConfig.isShowMenu=!1}e.stopPropagation()},Va=e=>{if(g.menuConfig.isShow.moveForward)$.error("未选中该节点！");else{console.log("向后移动");let n=ga(g.menuConfig.selectKey);console.log(n),g.menuConfig.elOutlineTree&&g.menuConfig.elOutlineTree.setCurrentKey(n),g.rootNode&&(ze.dragEl=St(g.rootNode.children,n)),g.menuConfig.isShowMenu=!1}e.stopPropagation()},La=(e,n)=>{g.menuConfig.isShow.undo?$.error("这个组件没有撤销的空间！"):(console.log("撤销"),n.undo(),g.menuConfig.isShowMenu=!1),e.stopPropagation()},Ia=(e,n)=>{g.menuConfig.isShow.redo?$.error("这个组件没有还原的空间！"):(console.log("还原"),n.redo(),g.menuConfig.isShowMenu=!1),e.stopPropagation()},_a={class:"ElOutline-top"},Ba={class:"ElOutline-content"},Ma=I({__name:"ElOutline",setup(e){const n=Ie("editorConfig"),l=ce(W),a=ge(W);let o=Le(null);const d=(s,C=2)=>{let u=C||2,h=l.EditorDataMap.get(s).children;if(Array.isArray(h)){let v=[];return h.forEach((E,R)=>{let w=l.EditorDataMap.get(E),P=n.componentMap.get(w.type).label;v.push({id:u+R,"node-key":E,label:P,children:d(E,C+h.length)})}),v}else return[]},r=L({data:[{id:1,label:"页面","node-key":"page",children:d("page")}],defaultProps:{children:"children","node-key":"node-key",label:"label"},search:{value:"",searchKey:"componentSearch",searchDefault:{label:"常见组件节点标签",list:["页面","容器","输入框","按钮"]},placeholder:"输入关键字过滤组件节点标签"}}),c=s=>{console.log("change"),a.selectKey=s?s["node-key"]:null},p=(s,C)=>s?C.label.indexOf(s)!==-1:!0;return Q(()=>a.selectKey,()=>{a.selectKey?o.value.setCurrentKey(a.selectKey,!1):(l.Breadcrumb=["页面"],o.value.setCurrentKey("page",!1))}),Q(()=>r.search.value,()=>{o.value.filter(r.search.value)}),Ye(()=>{a.selectKey?o.value.setCurrentKey(a.selectKey,!1):(l.Breadcrumb=["页面"],o.value.setCurrentKey("page",!1)),l.menuConfig.elOutlineTree=o}),Q(()=>l.menuConfig.key,s=>{r.data[0].children=d("page"),console.log("mainData.menuConfig.key:"+s)}),(s,C)=>{const u=f("el-tree"),h=it("contextmenu");return O(),G("div",{class:"ElOutline",onMousedown:C[0]||(C[0]=(...v)=>V(mt)&&V(mt)(...v))},[B("div",_a,[t(V(ut),{search:r.search},null,8,["search"])]),Y((O(),G("div",Ba,[t(u,{ref_key:"elOutlineTree",ref:o,class:"filter-tree",data:r.data,props:r.defaultProps,"filter-node-method":p,"node-key":"node-key","highlight-current":"","default-expand-all":"",onCurrentChange:c},null,8,["data","props"])])),[[h,V(Dt),void 0,{prevent:!0}]])],32)}}});const Fa=Re(Ma,[["__scopeId","data-v-94cc3ef1"]]),Aa={class:"EditorLeft"},Pa={class:"EditorLeft-nav"},Ta=["onClick"],Na={class:"EditorLeft-content"},Oa=I({__name:"EditorLeft",setup(e){const n=L([{label:"组件",icon:"icon iconfont icon-zujian",active:!0},{label:"图标",icon:"icon iconfont icon-xiaolian",active:!1},{label:"大纲",icon:"icon iconfont icon-list-outline",active:!1},{label:"代码",icon:"icon iconfont icon-daima",active:!1}]),l=a=>{n.forEach((o,d)=>{if(d==a){o.active=!0;return}o.active=!1})};return(a,o)=>(O(),G("div",Aa,[B("div",Pa,[B("ul",null,[(O(!0),G(A,null,Pe(n,(d,r)=>(O(),G("li",{key:r,class:Ae({active:d.active}),onClick:c=>l(r)},[B("i",{class:Ae(d.icon)},null,2),B("span",null,Ve(d.label),1)],10,Ta))),128))])]),B("div",Na,[n[0].active?(O(),pe(V(ia),{key:0})):me("",!0),n[1].active?(O(),pe(V(sa),{key:1})):me("",!0),n[2].active?(O(),pe(Fa,{key:2})):me("",!0),n[3].active?(O(),pe(ma,{key:3})):me("",!0)])]))}});const ja=Re(Oa,[["__scopeId","data-v-9f7e1469"]]);const ae=I({props:{option:{type:Object}},setup(e){return()=>{const n=(a,o,d)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(console.log(d),a==""?d[o]="0px":/^\d+$/.test(a)?d[o]=`${a}px`:/^\d+px$/.test(a)?d[o]=a:d[o]=d.oldValue)},l=(a,o)=>{(e.option.label=="左侧图标尺寸"||e.option.label=="右侧图标尺寸"||e.option.label=="宽度"||e.option.label=="高度")&&(o.oldValue=a)};return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(q,{modelValue:e.option.value,"onUpdate:modelValue":a=>e.option.value=a,placeholder:e.option.placeholder?e.option.placeholder:"请输入内容",clearable:e.option.clearable,onBlur:()=>n(e.option.value,"value",e.option),onFocus:()=>l(e.option.value,e.option)},null)])}}});function Ra(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Te(e)}const oe=I({props:{label:{type:String},setting:{type:Object},change:{type:Function}},setup(e){return()=>{let n;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.label]),t(f("el-select"),{modelValue:e.setting.value,"onUpdate:modelValue":l=>e.setting.value=l,filterable:e.setting.filterable?e.setting.filterable:!0,placeholder:e.setting.placeholder?e.setting.placeholder:"",onChange:l=>e.change&&e.change(l)},Ra(n=e.setting.options.map(l=>t(f("el-option"),{key:l.value,value:l.value},null)))?n:{default:()=>[n]})])}}}),se=I({props:{option:{type:Object}},setup(e){return()=>t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.option.label]),t(f("el-switch"),{modelValue:e.option.value,"onUpdate:modelValue":n=>e.option.value=n},null)])}});function Ze(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Te(e)}const ve=I({props:{option:{type:Object}},setup(e){const n=L({color:e.option.style.color?e.option.style.color:"rgba(0,0,0)",fontSize:e.option.style.fontSize?e.option.style.fontSize:"",fontWeight:e.option.style.fontWeight?e.option.style.fontWeight:"",lineHeight:e.option.style.lineHeight?e.option.style.lineHeight:"",fontFamily:e.option.style.fontFamily?e.option.style.fontFamily:"",oldValue:""}),l=[{value:"黑体"},{value:"宋体"},{value:"楷体"},{value:"微软雅黑"}],a=[{value:"normal"},{value:"bold"},{value:"bolder"},{value:"lighter"},{value:"100"},{value:"200"},{value:"300"},{value:"400"},{value:"500"},{value:"600"},{value:"700"},{value:"800"},{value:"900"}],o=[{value:"1.3倍"},{value:"1.5倍"},{value:"1.7倍"}];let d=L({value:e.option.style.backgroundColor?e.option.style.backgroundColor:"rgba(255, 255, 255,0)"});const r=L({isBorderActive:"border",borderValue:0,selectInputValue:"",showSelect:!1,color:"rgba(0,0,0)"}),c=M=>{r.isBorderActive=M,u(M)},p=M=>{r.borderValue=M},s=[{text:"——————",value:"solid",render:()=>t(A,null,[t("span",{class:"solidLine"},[y("————  ")]),t("span",null,[y(" 实线 ")])])},{text:"------------------",value:"dashed",render:()=>t(A,null,[t("span",{class:"dottedLine"},[y("----------   ")]),t("span",null,[y(" 虚线 ")])])},{text:"···················",value:"dotted",render:()=>t(A,null,[t("span",{class:"pointLine"},[y("···················  ")]),t("span",null,[y(" 点线 ")])])}],C=M=>{r.selectInputValue=M},u=M=>{if(console.log(e.option.style[M],M),e.option.style[M]){let F=e.option.style[M].match(/^(\d+px) (.*?) (.*?)$/);r.borderValue=parseInt(F[1].match(/^\d+/)[0]),s.forEach(K=>{K.value==F[2]&&(r.selectInputValue=K.text)}),r.color=F[3]}};u("border");const h=L([{label:"外边距(margin)",top:e.option.style.marginTop?e.option.style.marginTop:"0px",bottom:e.option.style.marginBottom?e.option.style.marginBottom:"0px",left:e.option.style.marginLeft?e.option.style.marginLeft:"0px",right:e.option.style.marginRight?e.option.style.marginRight:"0px",oldValue:""},{label:"内边距(padding)",top:e.option.style.paddingTop?e.option.style.paddingTop:"0px",bottom:e.option.style.paddingBottom?e.option.style.paddingBottom:"0px",left:e.option.style.paddingLeft?e.option.style.paddingLeft:"0px",right:e.option.style.paddingRight?e.option.style.paddingRight:"0px",oldValue:""}]),v=L({isRadiusAllActive:!0,isRadiusSelfActive:!1,tipIsshow:!1,tip:"",radiusValue:"",radiusTLValue:"",radiusTRValue:"",radiusBLValue:"",radiusBRValue:"",oldValue:""}),E=()=>{const{radiusTLValue:M,radiusTRValue:F,radiusBLValue:K,radiusBRValue:m}=v;v.tip=`${M||"0px"} ${F||"0px"} ${K||"0px"} ${m||"0px"}`},R=()=>{const{borderRadius:M,borderTopLeftRadius:F,borderTopRightRadius:K,borderBottomLeftRadius:m,borderBottomRightRadius:j}=e.option.style;if(M&&(v.radiusValue=M,v.radiusTLValue=v.radiusTRValue=v.radiusBLValue=v.radiusBRValue=M,v.tipIsshow=!1),F||K||m||j){let D=`${F||"0px"} ${K||"0px"} ${m||"0px"} ${j||"0px"}`;v.tip=D,v.tipIsshow=!0,F&&(v.radiusTLValue=F),K&&(v.radiusTRValue=K),m&&(v.radiusBLValue=m),j&&(v.radiusBRValue=j)}};R();const w=L([{label:"外阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""},{label:"内阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""}]),P=(M,F,K)=>{M==""?K[F]="0px":/^\d+$/.test(M)?K[F]=`${M}px`:/^\d+px$/.test(M)?K[F]=M:K[F]=K.oldValue},z=(M,F)=>{F.oldValue=M};return ne(()=>{n.color!="rgba(0,0,0)"?e.option.style.color=n.color:delete e.option.style.color,n.fontSize!=""?e.option.style.fontSize=n.fontSize:delete e.option.style.fontSize,n.fontWeight!=""?e.option.style.fontWeight=n.fontWeight:delete e.option.style.fontWeight,n.fontFamily!=""?e.option.style.fontFamily=n.fontFamily:delete e.option.style.fontFamily,n.lineHeight!=""?/^\d+px$/.test(n.lineHeight)?e.option.style.lineHeight=n.lineHeight:e.option.style.lineHeight=n.lineHeight.match(/^\d+(\.\d+)?/)[0]:delete e.option.style.lineHeight,d.value!="rgba(255, 255, 255,0)"?e.option.style.backgroundColor=d.value:delete e.option.style.backgroundColor;const M=["border","borderTop","borderLeft","borderRight","borderBottom"];(()=>{let N="solid";r.selectInputValue!=""&&s.forEach(Z=>{Z.text.includes(r.selectInputValue)&&(N=Z.value)}),M.forEach(Z=>{r.isBorderActive==Z&&(r.borderValue!=0?e.option.style[Z]=`${r.borderValue}px ${N} ${r.color}`:delete e.option.style[Z])})})();const F=["top","left","right","bottom"];["marginTop","marginLeft","marginRight","marginBottom"].forEach((N,Z)=>{h[0][F[Z]]!="0px"?e.option.style[N]=h[0][F[Z]]:delete e.option.style[N]}),["paddingTop","paddingLeft","paddingRight","paddingBottom"].forEach((N,Z)=>{h[1][F[Z]]!="0px"?e.option.style[N]=h[1][F[Z]]:delete e.option.style[N]});const j=["radiusTLValue","radiusTRValue","radiusBLValue","radiusBRValue"],D=["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];v.isRadiusAllActive?v.radiusValue!=""&&!v.tipIsshow?(e.option.style.borderRadius=v.radiusValue,D.forEach(N=>delete e.option.style[N])):delete e.option.style.borderRadius:v.radiusTLValue==v.radiusTRValue&&v.radiusTRValue==v.radiusBLValue&&v.radiusBLValue==v.radiusBRValue?(e.option.style.borderRadius=v.radiusTRValue,D.forEach(N=>delete e.option.style[N])):(delete e.option.style.borderRadius,j.forEach((N,Z)=>{["","0px"].includes(v[N])?delete e.option.style[D[Z]]:e.option.style[D[Z]]=v[N]})),!(w[0].x=="0px"&&w[0].y=="0px"&&w[0].fuzzy=="0px"&&w[0].extension=="0px")&&!(w[1].x=="0px"&&w[1].y=="0px"&&w[1].fuzzy=="0px"&&w[1].extension=="0px")?e.option.style.boxShadow=`${w[0].x} ${w[0].y} ${w[0].fuzzy} ${w[0].extension} ${w[0].color} ,inset ${w[1].x} ${w[1].y} ${w[1].fuzzy} ${w[1].extension} ${w[1].color}`:(w[0].x=="0px"&&w[0].y=="0px"&&w[0].fuzzy=="0px"&&w[0].extension=="0px"||(e.option.style.boxShadow=`${w[0].x} ${w[0].y} ${w[0].fuzzy} ${w[0].extension} ${w[0].color}`),w[1].x=="0px"&&w[1].y=="0px"&&w[1].fuzzy=="0px"&&w[1].extension=="0px"||(e.option.style.boxShadow=`inset ${w[1].x} ${w[1].y} ${w[1].fuzzy} ${w[1].extension} ${w[1].color}`))}),()=>{let M,F,K;return t(A,null,[e.option.writingStyle&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("文字样式")]),t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(f("el-color-picker"),{"show-alpha":!0,modelValue:n.color,"onUpdate:modelValue":m=>n.color=m},null)]),t("label",null,[y("颜色")])]),t("div",{class:"shadow-setting-item"},[t(q,{modelValue:n.fontSize,"onUpdate:modelValue":m=>n.fontSize=m,onChange:m=>P(m,"fontSize",n),onFocus:m=>z(n.fontSize,n)},null),t("label",null,[y("字号")])])]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t(f("el-select"),{modelValue:n.fontWeight,"onUpdate:modelValue":m=>n.fontWeight=m,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Ze(M=a.map(m=>t(f("el-option"),{key:m.value,value:m.value},null)))?M:{default:()=>[M]}),t("label",null,[y("字重")])]),t("div",{class:"shadow-setting-item"},[t(f("el-select"),{modelValue:n.fontFamily,"onUpdate:modelValue":m=>n.fontFamily=m,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Ze(F=l.map(m=>t(f("el-option"),{key:m.value,value:m.value},null)))?F:{default:()=>[F]}),t("label",null,[y("字体")])]),t("div",{class:"shadow-setting-item"},[t(f("el-select"),{modelValue:n.lineHeight,"onUpdate:modelValue":m=>n.lineHeight=m,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Ze(K=o.map(m=>t(f("el-option"),{key:m.value,value:m.value},null)))?K:{default:()=>[K]}),t("label",null,[y("行间距")])])])])])]),e.option.bgColor&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("背景颜色")]),t("div",{class:"elCollapseItem bgColorPicker"},[t(f("el-color-picker"),{"show-alpha":!0,modelValue:d.value,"onUpdate:modelValue":m=>d.value=m},null)])]),e.option.border&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("边框")]),t("div",{class:"elCollapseItem elCollapseBorder"},[t("div",{class:"elCollapseBorder-icon"},[t("div",null,null),t("div",{class:"common"},[t("div",{class:["top",r.isBorderActive=="borderTop"?"active-top":""],onClick:()=>c("borderTop")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:["left",r.isBorderActive=="borderLeft"?"active-left":""],onClick:()=>c("borderLeft")},null)]),t("div",{class:"common"},[t("div",{class:["middle",r.isBorderActive=="border"?"active-middle":""],onClick:()=>c("border")},null)]),t("div",{class:"common"},[t("div",{class:["right",r.isBorderActive=="borderRight"?"active-right":""],onClick:()=>c("borderRight")},null)]),t("div",null,null),t("div",{class:"common"},[t("div",{class:"bottom"},null),t("div",{class:["bottom",r.isBorderActive=="borderBottom"?"active-bottom":""],onClick:()=>c("borderBottom")},null)]),t("div",null,null)]),t("div",{class:"elCollapseBorder-setting"},[t(Jn,{modelValue:r.borderValue,onChange:p},null),t("div",{class:"lineAndColor"},[t("div",{class:"line"},[t(q,{readonly:!0,modelValue:r.selectInputValue,"onUpdate:modelValue":m=>r.selectInputValue=m,placeholder:"请选择",onFocus:()=>{r.showSelect=!0},onBlur:()=>{r.showSelect=!1}},null),Y(t("ul",{class:"select"},[s.map(m=>t("li",{onMousedown:()=>{C(m.text)}},[m.render()]))]),[[le,r.showSelect]])]),t("div",{class:"color"},[t(Qn,{modelValue:r.color,"onUpdate:modelValue":m=>r.color=m,"show-alpha":!0},null)])])])])]),e.option.marginAndPadding&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("边距")]),h.map((m,j)=>t("div",{class:"elCollapseItem"},[t("div",{class:"marginAndPadding"},[t("p",null,[m.label]),t("div",{class:"marginAndPadding-setting"},[t("div",{class:"marginAndPadding-setting-item"},[t(q,{modelValue:m.top,"onUpdate:modelValue":D=>m.top=D,onChange:D=>P(D,"top",h[j]),onFocus:D=>z(m.top,h[j])},null),t("label",null,[y("top")])]),t("div",{class:"marginAndPadding-setting-item"},[t(q,{modelValue:m.bottom,"onUpdate:modelValue":D=>m.bottom=D,onChange:D=>P(D,"bottom",h[j]),onFocus:D=>z(m.bottom,h[j])},null),t("label",null,[y("bottom")])]),t("div",{class:"marginAndPadding-setting-item"},[t(q,{modelValue:m.left,"onUpdate:modelValue":D=>m.left=D,onChange:D=>P(D,"left",h[j]),onFocus:D=>z(m.left,h[j])},null),t("label",null,[y("left")])]),t("div",{class:"marginAndPadding-setting-item"},[t(q,{modelValue:m.right,"onUpdate:modelValue":D=>m.right=D,onChange:D=>P(D,"right",h[j]),onFocus:D=>z(m.right,h[j])},null),t("label",null,[y("right")])])])])])),t("div",{class:"margin-border-self"},null)]),e.option.radius&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("圆角")]),t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"elCollapseRadius-icon"},[t("div",{class:["common all",v.isRadiusAllActive?"active":""],onClick:()=>{v.isRadiusAllActive=!0,v.isRadiusSelfActive=!1,R()}},null),t("div",{class:["common self",v.isRadiusSelfActive?"active":""],onClick:()=>{v.isRadiusAllActive=!1,v.isRadiusSelfActive=!0,R()}},null)]),t("div",{class:"elCollapseRadius-setting"},[t(q,{modelValue:v.radiusValue,"onUpdate:modelValue":m=>v.radiusValue=m,disabled:!v.isRadiusAllActive,onChange:m=>{P(m,"radiusValue",v),v.radiusTLValue=v.radiusTRValue=v.radiusBLValue=v.radiusBRValue=v.radiusValue,console.log(v)},onFocus:m=>z(v.radiusValue,v)},null),v.tipIsshow&&t("div",{class:"elCollapseRadius-setting-tip"},[t("span",null,[v.tip]),v.isRadiusAllActive&&t("i",{class:"icon iconfont icon-cha",onClick:m=>{v.tipIsshow=!1}},null)])])]),Y(t("div",{class:"elCollapseItem elCollapseRadius"},[t(q,{modelValue:v.radiusTLValue,"onUpdate:modelValue":m=>v.radiusTLValue=m,onChange:m=>{P(m,"radiusTLValue",v),E()},onFocus:m=>z(v.radiusTLValue,v)},null),t(q,{class:"radiusSelfInput",modelValue:v.radiusTRValue,"onUpdate:modelValue":m=>v.radiusTRValue=m,onChange:m=>{P(m,"radiusTRValue",v),E()},onFocus:m=>z(v.radiusTRValue,v)},null),t(q,{class:"radiusSelfInput",modelValue:v.radiusBLValue,"onUpdate:modelValue":m=>v.radiusBLValue=m,onChange:m=>{P(m,"radiusBLValue",v),E()},onFocus:m=>z(v.radiusBLValue,v)},null),t(q,{class:"radiusSelfInput",modelValue:v.radiusBRValue,"onUpdate:modelValue":m=>v.radiusBRValue=m,onChange:m=>{P(m,"radiusBRValue",v),E()},onFocus:m=>z(v.radiusBRValue,v)},null)]),[[le,v.isRadiusSelfActive]]),Y(t("div",{class:"elCollapseItem elCollapseRadius"},[t("div",{class:"radiusCommon radius-top-left"},null),t("div",{class:"radiusCommon radius-top-right"},null),t("div",{class:"radiusCommon radius-bottom-left"},null),t("div",{class:"radiusCommon  radius-bottom-right"},null)]),[[le,v.isRadiusSelfActive]])]),e.option.shadow&&t("div",null,[t("div",{class:"elCollapseItem title"},[y("阴影")]),w.map((m,j)=>t("div",{class:"elCollapseItem"},[t("div",{class:"shadow"},[t("p",null,[m.label]),t("div",{class:"shadow-setting"},[t("div",{class:"shadow-setting-item"},[t("div",{class:"shadowColor"},[t(f("el-color-picker"),{"show-alpha":!0,modelValue:m.color,"onUpdate:modelValue":D=>m.color=D},null)]),t("label",null,[y("颜色")])]),t("div",{class:"shadow-setting-item"},[t(q,{modelValue:m.x,"onUpdate:modelValue":D=>m.x=D,onChange:D=>P(D,"x",w[j]),onFocus:D=>z(m.x,w[j])},null),t("label",null,[y("X值")])]),t("div",{class:"shadow-setting-item"},[t(q,{modelValue:m.y,"onUpdate:modelValue":D=>m.y=D,onChange:D=>P(D,"y",w[j]),onFocus:D=>z(m.y,w[j])},null),t("label",null,[y("Y值")])]),t("div",{class:"shadow-setting-item"},[t(q,{modelValue:m.fuzzy,"onUpdate:modelValue":D=>m.fuzzy=D,onChange:D=>P(D,"fuzzy",w[j]),onFocus:D=>z(m.fuzzy,w[j])},null),t("label",null,[y("模糊值")])]),t("div",{class:"shadow-setting-item"},[t(q,{modelValue:m.extension,"onUpdate:modelValue":D=>m.extension=D,onChange:D=>P(D,"extension",w[j]),onFocus:D=>z(m.extension,w[j])},null),t("label",null,[y("扩展值")])])])])]))])])}}});function ht(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Te(e)}const qe=I({props:{setting:{type:Object}},setup(e){const n=ge(W),l=ce(W),a=d=>{e.setting.value=="触发方式"&&(l.EditorDataMap.get(n.selectKey).bubblePrompt.triggerMode=d.value),e.setting.value=="提示位置"&&(l.EditorDataMap.get(n.selectKey).bubblePrompt.promptLocation=d.value),e.setting.value=="尺寸"&&(l.EditorDataMap.get(n.selectKey).size=o(d.value))},o=d=>d=="中"?"default":d=="小"?"small":"large";return()=>{let d,r;return t("div",{class:"elCollapseItem base-settings"},[t("p",null,[e.setting.value]),l.EditorDataMap.get(n.selectKey).type=="button"&&t(pt,{class:"ml-4"},ht(d=e.setting.options.map(c=>t(f("el-button"),{size:"small",class:[c.value==l.EditorDataMap.get(n.selectKey).bubblePrompt.triggerMode?"buttonSelected":"",c.value==l.EditorDataMap.get(n.selectKey).bubblePrompt.promptLocation?"buttonSelected":"",o(c.value)==l.EditorDataMap.get(n.selectKey).size?"buttonSelected":""],onClick:()=>{a(c)}},{default:()=>[c.value]})))?d:{default:()=>[d]}),l.EditorDataMap.get(n.selectKey).type!="button"&&t(pt,{class:"ml-4"},ht(r=e.setting.options.map(c=>t(f("el-button"),{size:"small",class:[o(c.value)==l.EditorDataMap.get(n.selectKey).size?"buttonSelected":""],onClick:()=>{a(c)}},{default:()=>[c.value]})))?r:{default:()=>[r]})])}}}),nt=I({props:{label:{type:String},setting:{type:Object},otherShow:{type:Boolean}},setup(e){const n=ge(W),l=ce(W),a=Ie("editorConfig");e.setting.icon&&e.setting.iconText&&(e.setting.isFill=!0,e.setting.clearable=!0);const o=s=>{e.setting.isShowList?e.setting.isShowList=!1:e.setting.isShowList=!0,s.stopPropagation()},d=()=>t(A,null,[t("span",{class:["icon iconfont",e.setting.icon]},null),t("span",{class:"context"},[e.setting.iconText])]),r=s=>{e.setting.isShowList=!1,e.setting.isFill=!e.setting.isFill,e.setting.clearable=!e.setting.clearable,e.label=="左侧图标"&&(l.EditorDataMap.get(n.selectKey).icon.leftIcon=""),e.label=="右侧图标"&&(l.EditorDataMap.get(n.selectKey).icon.rightIcon=""),s.stopPropagation()},c=a.iconList.map(s=>s.defaultData.icon.split(" ")[2]),p=s=>{e.setting.isShowList=!1,e.setting.clearable=!0,e.setting.isFill=!0,e.setting.icon=s,e.setting.iconText=s.replace("icon-",""),e.label=="左侧图标"&&(l.EditorDataMap.get(n.selectKey).icon.leftIcon=s),e.label=="右侧图标"&&(l.EditorDataMap.get(n.selectKey).icon.rightIcon=s),e.label=="修改图标"&&(l.EditorDataMap.get(n.selectKey).icon=`icon iconfont ${s}`)};return document.addEventListener("click",()=>{e.setting.isShowList&&(e.setting.isShowList=!1)}),()=>t("div",{class:"elCollapseItem base-settings flexSelectContainer"},[t("p",null,[e.label]),t("div",{class:"flexSelect",onClick:s=>o(s)},[t("div",{class:"iconContext"},[e.setting.isFill?d():"请选择图标"]),Y(t("span",{class:["clear icon iconfont",e.setting.clearIcon],onClick:s=>r(s),onMouseover:()=>e.setting.clearIcon="icon-cha1",onMouseout:()=>e.setting.clearIcon="icon-cha"},null),[[le,e.setting.clearable]])]),Y(t("ul",{class:"flexSelectUl"},[c.map(s=>t("li",{class:"flexSelectUl-option",onClick:C=>p(s)},[t("span",{class:["icon iconfont",s]},null)]))]),[[le,e.setting.isShowList]])])}});function Ue(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Te(e)}const Vt=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({value:"div",options:[{value:"header"},{value:"nav"},{value:"section"},{value:"main"},{value:"footer"},{value:"div"},{value:"p"}]});e.option.containerLabels&&(l.value=e.option.containerLabels);const a=L({value:"默认(static)",options:[{value:"默认(static)"},{value:"绝对(relative)"},{value:"相对(absolute)"},{value:"固定(fixed)"}]});e.option.style.position&&(e.option.style.position=="relative"&&(a.value="绝对(relative)"),e.option.style.position=="absolute"&&(a.value="相对(absolute)"),e.option.style.position=="fixed"&&(a.value="固定(fixed)"));const o=L([{label:"高度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"自动适配",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}},{label:"宽度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"超出显示",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}}]),d=[{value:"px"},{value:"em"},{value:"%"},{value:"vw"},{value:"vh"}];e.option.style.width&&(o[1].value=e.option.style.width.match(/^\d+/)[0],o[1].valueUnit=e.option.style.width.match(/^(\d+)(.*)/)[2]),e.option.style.height&&(o[0].value=e.option.style.height.match(/^\d+/)[0],o[0].valueUnit=e.option.style.height.match(/^(\d+)(.*)/)[2]),e.option.style.maxHeight&&(o[0].max=e.option.style.maxHeight.match(/^\d+/)[0],o[0].maxUnit=e.option.style.maxHeight.match(/^(\d+)(.*)/)[2]),e.option.style.minHeight&&(o[0].min=e.option.style.minHeight.match(/^\d+/)[0],o[0].minUnit=e.option.style.minHeight.match(/^(\d+)(.*)/)[2]),e.option.style.maxWidth&&(o[0].max=e.option.style.maxWidth.match(/^\d+/)[0],o[0].maxUnit=e.option.style.maxWidth.match(/^(\d+)(.*)/)[2]),e.option.style.minWidth&&(o[0].min=e.option.style.minWidth.match(/^\d+/)[0],o[0].minUnit=e.option.style.minWidth.match(/^(\d+)(.*)/)[2]),e.option.style.overflowY&&(e.option.style.overflowY=="visible"&&(o[0].scrollMode.value="超出显示"),e.option.style.overflowY=="hidden"&&o[0].scrollMode.value=="超出隐藏",e.option.style.overflowY=="scroll"&&o[0].scrollMode.value=="超出滚动",e.option.style.overflowY=="auto"&&o[0].scrollMode.value=="自动适配"),e.option.style.overflowX&&(e.option.style.overflowX=="visible"&&(o[1].scrollMode.value="超出显示"),e.option.style.overflowX=="hidden"&&o[1].scrollMode.value=="超出隐藏",e.option.style.overflowX=="scroll"&&o[1].scrollMode.value=="超出滚动",e.option.style.overflowX=="auto"&&o[1].scrollMode.value=="自动适配");const r=L({list:[{icon:"icon-zuoduiqi",active:!0,attribute:"left"},{icon:"icon-juzhongduiqi",active:!1,attribute:"center"},{icon:"icon-youduiqi",active:!1,attribute:"right"},{icon:"icon-zuoyouduiqi",active:!1,attribute:"justify"}],value:"left"}),c=L({alignmentLabel:"块级(block)设置",flexisShow:!1,options:[{icon:"icon-a-Displayblock",active:!0,alignmentLabel:"块级(block)设置"},{icon:"icon-a-Displayinline-block",active:!1,alignmentLabel:"行内块(inline-block)设置"},{icon:"icon-a-Displayinline",active:!1,alignmentLabel:"行内(inline)设置"},{icon:"icon-a-Displayflex",active:!1,alignmentLabel:"flex布局设置"}],flexList:[{label:"布局方向",list:[{value:"水平方向",attribute:"row"},{value:"垂直方向",attribute:"column"},{value:"水平反向",attribute:"row-reverse"},{value:"垂直反向",attribute:"column-reverse"}],value:"水平方向"},{label:"水平对齐",list:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],value:"左对齐"},{label:"垂直对齐",list:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}],value:"顶部对齐"},{label:"是否换行",list:[{value:"不换行",attribute:"nowrap"},{value:"自动换行",attribute:"wrap"},{value:"自动换行(颠倒)",attribute:"wrap-reverse"}],value:"不换行"}],flexAttribute:["","","",""],flexDirectionMap:new Map}),p=s=>{c.flexList[s].list.some(C=>{C.attribute==c.flexAttribute[s]&&(c.flexList[s].value=C.value)})};return(()=>{if(e.option.style.display){if(c.options.forEach(s=>s.active=!1),e.option.style.display=="flex")c.alignmentLabel="flex布局设置",c.options[3].active=!0,c.flexisShow=!0,e.option.style.flexDirection&&(c.flexAttribute[0]=e.option.style.flexDirection,p(0)),e.option.style.justifyContent&&(c.flexAttribute[1]=e.option.style.justifyContent,p(1)),e.option.style.alignItems&&(c.flexAttribute[2]=e.option.style.alignItems,p(2)),e.option.style.flexWrap&&(c.flexAttribute[3]=e.option.style.flexWrap,p(3));else if(e.option.style.textAlign){let s=0;e.option.style.display=="inline-block"&&(s=1),e.option.style.display=="inline"&&(s=2),c.alignmentLabel=c.options[s].alignmentLabel,c.options[s].active=!0,r.value=e.option.style.textAlign,r.list.forEach(C=>{C.active=!1,r.value==C.attribute&&(C.active=!0)})}}})(),c.flexDirectionMap.set("row",{jc:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),c.flexDirectionMap.set("column",{jc:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),c.flexDirectionMap.set("row-reverse",{jc:[{value:"右对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"左对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),c.flexDirectionMap.set("column-reverse",{jc:[{value:"底部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"顶部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),ne(()=>{l.value!="div"?e.option.containerLabels=l.value:delete e.option.containerLabels,a.value.includes("static")?delete e.option.style.position:e.option.style.position=a.value.match(/\((.*?)\)/)[1],o[0].max!=0?e.option.style.maxHeight=`${o[0].max}${o[0].maxUnit}`:delete e.option.style.maxHeight,o[0].min!=0?e.option.style.minHeight=`${o[0].min}${o[0].minUnit}`:delete e.option.style.minHeight,o[1].max!=0?e.option.style.maxWidth=`${o[1].max}${o[1].maxUnit}`:delete e.option.style.maxWidth,o[1].min!=0?e.option.style.minWidth=`${o[1].min}${o[1].minUnit}`:delete e.option.style.minWidth,o[0].value!=0?e.option.style.height=`${o[0].value}${o[0].valueUnit}`:delete e.option.style.height,o[1].value!=0?e.option.style.width=`${o[1].value}${o[1].valueUnit}`:delete e.option.style.width,o[0].scrollMode.value=="超出显示"&&(e.option.style.overflowY="visible"),o[0].scrollMode.value=="超出隐藏"&&(e.option.style.overflowY="hidden"),o[0].scrollMode.value=="超出滚动"&&(e.option.style.overflowY="scroll"),o[0].scrollMode.value=="自动适配"&&(e.option.style.overflowY="auto"),o[1].scrollMode.value=="超出显示"&&(e.option.style.overflowX="visible"),o[1].scrollMode.value=="超出隐藏"&&(e.option.style.overflowX="hidden"),o[1].scrollMode.value=="超出滚动"&&(e.option.style.overflowX="scroll"),o[1].scrollMode.value=="自动适配"&&(e.option.style.overflowX="auto"),e.option.style.display=c.alignmentLabel.match(/[a-zA-Z]+/g)[0],c.flexisShow?(c.flexAttribute[0]!=""&&(e.option.style.flexDirection=c.flexAttribute[0]),c.flexAttribute[1]!=""&&(e.option.style.justifyContent=c.flexAttribute[1]),c.flexAttribute[2]!=""&&(e.option.style.alignItems=c.flexAttribute[2]),c.flexAttribute[3]!=""&&(e.option.style.flexWrap=c.flexAttribute[3])):r.value!="left"?e.option.style.textAlign=r.value:delete e.option.style.textAlign}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic",class:"container"},{default:()=>[t(oe,{label:"容器标签",setting:l},null)]}),t(f("elCollapseItem"),{title:"布局",name:"layout",class:"container"},{default:()=>[t(oe,{label:"定位模式",setting:a},null),o.map((s,C)=>{let u,h,v;return t(A,null,[t("div",{class:"elCollapseItem"},[t("p",null,[s.label,y("设置")]),t("div",{class:"container-changeBtn"},[t("button",{class:{active:s.adapter},onClick:E=>s.adapter=!0},[y("适配")]),t("button",{class:{active:!s.adapter},onClick:E=>s.adapter=!1},[y("固定")])])]),s.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[y("最大"),s.label]),t("div",null,[t(q,{modelValue:s.max,"onUpdate:modelValue":E=>s.max=E},null),t(f("el-select"),{modelValue:o[C].maxUnit,"onUpdate:modelValue":E=>o[C].maxUnit=E},Ue(u=d.map(E=>t(f("el-option"),{key:E.value,value:E.value},null)))?u:{default:()=>[u]})])]),t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[y("最小"),s.label]),t("div",null,[t(q,{modelValue:s.min,"onUpdate:modelValue":E=>s.min=E},null),t(f("el-select"),{modelValue:o[C].minUnit,"onUpdate:modelValue":E=>o[C].minUnit=E},Ue(h=d.map(E=>t(f("el-option"),{key:E.value,value:E.value},null)))?h:{default:()=>[h]})])])]),!s.adapter&&t("div",null,[t("div",{class:"elCollapseItem container-settings-wh"},[t("p",null,[s.label]),t("div",null,[t(q,{modelValue:s.value,"onUpdate:modelValue":E=>s.value=E},null),t(f("el-select"),{modelValue:o[C].valueUnit,"onUpdate:modelValue":E=>o[C].valueUnit=E},Ue(v=d.map(E=>t(f("el-option"),{key:E.value,value:E.value},null)))?v:{default:()=>[v]})])]),t(oe,{label:"滚动模式",setting:o[C].scrollMode},null)])])}),t("div",{class:"elCollapseItem container-displayType"},[t("p",null,[y("显示方式(display)")]),c.options.map(s=>t("div",{class:{active:s.active,"container-displayType-item":!0},onClick:C=>{c.options.forEach(u=>u.active=!1),s.active=!0,c.alignmentLabel=s.alignmentLabel,s.alignmentLabel.includes("flex")?c.flexisShow=!0:c.flexisShow=!1}},[t("i",{class:[s.icon,"icon","iconfont"]},null)]))]),t("div",{class:"elCollapseItem container-alignment"},[t("div",{class:"alignmentContent"},[t("p",null,[c.alignmentLabel]),!c.flexisShow&&t("div",{class:"alignmentContent-list"},[r.list.map(s=>t("div",{class:{active:s.active,"container-alignment-item":!0},onClick:C=>{r.list.forEach(u=>u.active=!1),s.active=!0,r.value=s.attribute}},[t("i",{class:[s.icon,"icon","iconfont"]},null)]))]),c.flexisShow&&c.flexList.map((s,C)=>{let u;return t("div",{class:"flexlayout-list"},[t("div",{class:"flexlayout-list-item"},[t("p",null,[s.label]),t(f("el-select"),{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,onChange:h=>{let v=s.list.filter(E=>{if(E.value==s.value)return E});c.flexAttribute[C]=v[0].attribute,C==0&&(c.flexList[1].list=c.flexDirectionMap.get(v[0].attribute).jc,c.flexList[2].list=c.flexDirectionMap.get(v[0].attribute).ai,c.flexList[1].value=c.flexList[1].list[0].value,c.flexList[2].value=c.flexList[2].list[0].value,c.flexAttribute[1]=c.flexList[1].list[0].attribute,c.flexAttribute[2]=c.flexList[2].list[0].attribute)}},Ue(u=s.list.map(h=>t(f("el-option"),{key:h.value,value:h.value},null)))?u:{default:()=>[u]})])])})])])]})]})])}}),gt=I({props:{setting:{type:Object}},setup(e){const n={triggerMode:{value:"触发方式",options:[{value:"鼠标悬浮"},{value:"聚焦"}]},promptLocation:{value:"提示位置",options:[{value:"上"},{value:"左"},{value:"下"},{value:"右"}]}};return()=>t("div",{class:"basicPopup"},[t("div",{class:"basicPopup-triangle"},null),t("div",{class:"basicPopup-boxBgc"},[e.setting.textarea.map(l=>t("div",{class:"basicPopup-box"},[t("p",null,[l.label]),t(q,{type:"textarea",modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,resize:"none",class:"input","input-style":{height:"80px"}},null)])),Y(t(qe,{setting:n.triggerMode},null),[[le,e.setting.hasTriggerMode]]),Y(t(qe,{setting:n.promptLocation},null),[[le,e.setting.hasPromptLocation]]),t("div",{class:"seizeAseat"},null)])])}}),za=I({props:{option:{type:Object}},setup(e){const n=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ve,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),Ka=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({pageTitle:{label:"页面标题",value:e.option.title?e.option.title:""},subtitle:{label:"副标题",value:e.option.subtitle?e.option.subtitle:""}});return ne(()=>{e.option.title=l.pageTitle.value,e.option.subtitle=l.subtitle.value}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{option:l.pageTitle},null),t(xt,{option:l.subtitle},null)]})]})])}}),$a=I({props:{EditorData:Object},setup(){const e=Ie("erConfig"),n=ge(W),l=ce(W);return()=>{var a,o;return t("div",{class:"property",key:n.selectKey},[e.componentMap.get((a=n.selectKey)==null?void 0:a.replace(/-[^-]*$/,""))?e.componentMap.get((o=n.selectKey)==null?void 0:o.replace(/-[^-]*$/,"")).Properties(l.EditorDataMap.get(n.selectKey)):t(Ka,{option:l.EditorDataMap.get("page")},null)])}}}),Ua=I({props:{EditorData:Object},setup(){const e=Ie("erConfig"),n=ge(W),l=ce(W);return()=>{var a,o;return t("div",{class:"appearance",key:n.selectKey},[e.componentMap.get((a=n.selectKey)==null?void 0:a.replace(/-[^-]*$/,""))?e.componentMap.get((o=n.selectKey)==null?void 0:o.replace(/-[^-]*$/,"")).appearances(l.EditorDataMap.get(n.selectKey)):t(za,{option:l.EditorDataMap.get("page")},null)])}}});const Ha=I({props:{option:{type:Object},isShow:{type:Boolean}},setup(e){const n=L({menuActive:e.option.title,openeds:["1","2","3","4"],data:re(xe.handlerMap.get(e.option.title).defaultData),action:re(e.option)}),l=()=>{n.menuActive==n.action.title&&(n.data.value=n.action.content,n.menuActive=="消息提醒"&&(n.action.messageType&&(n.data.messageType.value=e.option.messageType),n.action.duration&&(n.data.duration.value=e.option.duration),n.action.messageContent&&(n.data.messageContent.value=e.option.messageContent)))};return Q(()=>e.isShow,a=>{a&&(n.menuActive=e.option.title,n.data=re(xe.handlerMap.get(e.option.title).defaultData),n.action=re(e.option),l())},{immediate:!0}),Q(()=>n.menuActive,()=>{n.data=re(xe.handlerMap.get(n.menuActive).defaultData),l()},{immediate:!0}),ne(()=>{e.option.title=n.menuActive,e.option.content=n.data.value,n.menuActive=="消息提醒"&&(n.data.messageType&&(e.option.messageType=n.data.messageType.value),n.data.duration&&(e.option.duration=n.data.duration.value),n.data.messageContent&&(e.option.messageContent=n.data.messageContent.value,e.option.content=n.data.messageContent.value))}),()=>t(A,null,[t("div",{class:"events-config"},[t("div",{class:"events-config-menu"},[t(f("el-menu"),{"default-active":n.menuActive,"default-openeds":n.openeds,onSelect:a=>{n.menuActive=a}},{default:()=>[t(f("el-sub-menu"),{index:"1"},{default:()=>t(A,null,[t(f("el-menu-item"),{index:"跳转连接"},{default:()=>[y("跳转连接")]}),t(f("el-menu-item"),{index:"刷新页面"},{default:()=>[y("刷新页面")]}),t(f("el-menu-item"),{index:"回退页面"},{default:()=>[y("回退页面")]})]),title:()=>t("span",null,[y("页面")])}),t(f("el-sub-menu"),{index:"2"},{default:()=>t(A,null,[t(f("el-menu-item"),{index:"打开弹窗"},{default:()=>[y("打开弹窗")]}),t(f("el-menu-item"),{index:"关闭弹窗"},{default:()=>[y("关闭弹窗")]}),t(f("el-menu-item"),{index:"消息提醒"},{default:()=>[y("消息提醒")]})]),title:()=>t("span",null,[y("弹窗")])}),t(f("el-sub-menu"),{index:"3"},{default:()=>t(A,null,[t(f("el-menu-item"),{index:"发送请求"},{default:()=>[y("发送请求")]})]),title:()=>t("span",null,[y("服务")])}),t(f("el-sub-menu"),{index:"4"},{default:()=>t(A,null,[t(f("el-menu-item"),{index:"提交表单"},{default:()=>[y("提交表单")]}),t(f("el-menu-item"),{index:"重置表单"},{default:()=>[y("重置表单")]}),t(f("el-menu-item"),{index:"校验表单"},{default:()=>[y("校验表单")]})]),title:()=>t("span",null,[y("表单")])})]})]),t("div",{class:"events-config-content"},[t("div",{class:"events-config-content-item"},[t("h3",{class:"events-config-content-item-title"},[y("动作说明")]),t("p",null,[xe.handlerMap.get(n.menuActive).instructions])]),t("div",{class:"events-config-content-item"},[t("h3",{class:"events-config-content-item-title"},[y("动作配置")]),xe.handlerMap.get(n.menuActive).configRender(n.data)])])])])}});function Wa(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Te(e)}const qa=I({setup(){const e=ge(W),n=ce(W);let l=L({dialogIsShow:!1,addListIsShow:!1,eventsList:n.EditorDataMap.get(e.selectKey||"page").events||[],activeName:Array.from(xe.eventMap.keys()),addAction:{title:"跳转连接",content:""},selectedEvent:null,selectedIndex:0,mouseEventsMap:new Map,isUpdate:!1});Q(()=>e.selectKey,(u,h)=>{l.eventsList.length==0?delete n.EditorDataMap.get(h||"page").events:n.EditorDataMap.get(h||"page").events=l.eventsList,l.eventsList=n.EditorDataMap.get(u||"page").events||[],l.selectedEvent=null;for(let v of xe.eventMap)l.mouseEventsMap.get(v[0]).exist=!1;for(let v of l.eventsList)l.mouseEventsMap.get(v.type).exist=!0}),ne(()=>{!n.EditorDataMap.get(e.selectKey||"page").events&&l.eventsList.length==0&&(n.EditorDataMap.get(e.selectKey||"page").events=l.eventsList)});for(let u of xe.eventMap)l.mouseEventsMap.set(u[0],{type:u[1].type,name:u[1].name,exist:!1});for(let u of l.eventsList)l.mouseEventsMap.get(u.type).exist=!0;const a=()=>{l.addListIsShow=!1};window.addEventListener("click",a);const o=()=>{l.addAction=re({title:"跳转连接",content:""})},d=u=>{l.eventsList.push({type:u.type,name:u.name,list:[]}),u.exist=!0},r=u=>{l.mouseEventsMap.get(l.eventsList[u].type).exist=!1,l.eventsList.splice(u,1)},c=u=>{l.isUpdate=!1,o(),l.dialogIsShow=!0,l.selectedEvent=u},p=()=>{if(l.addAction.content.trim()==""){$.warning("内容不能为空");return}l.dialogIsShow=!1,l.isUpdate?l.selectedEvent.list[l.selectedIndex]=re(l.addAction):l.selectedEvent.list.push(re(l.addAction)),o()},s=(u,h)=>{l.isUpdate=!0,l.addAction=re(u.list[h]),l.dialogIsShow=!0,l.selectedEvent=u,l.selectedIndex=h},C=(u,h)=>{u.list.splice(h,1)};return()=>{let u;return t(A,null,[t("div",{class:"events"},[t("div",{class:"events-addEvents",onClick:h=>{h.stopPropagation(),l.addListIsShow=!l.addListIsShow}},[t("span",null,[y("添加事件")])]),l.addListIsShow&&t("div",{class:"events-addEvents-list"},[t("ul",null,[Array.from(l.mouseEventsMap.values()).map(h=>t("li",{onClick:v=>{v.stopPropagation(),!h.exist&&(d(h),a())},class:h.exist?"disabled":""},[h.name]))])]),t(f("elCollapse"),{modelValue:l.activeName,"onUpdate:modelValue":h=>l.activeName=h},Wa(u=l.eventsList.map((h,v)=>t("div",{class:"events-elCollapseItem"},[t("div",{class:"events-nav"},[t("i",{class:"icon iconfont icon-tianjia",onClick:E=>c(h)},null),t("i",{class:"icon iconfont icon-shanchu",onClick:E=>r(v)},null)]),t(f("elCollapseItem"),{title:h.name,name:h.type},{default:()=>[t("div",{class:"events-list"},[h.list.map((E,R)=>t("div",{class:"events-list-item"},[t("div",{class:"events-list-item-header"},[t("span",null,[E.title]),t("span",null,[t("i",{class:"icon iconfont icon-xiugai",onClick:w=>s(h,R)},null),t("i",{class:"icon iconfont icon-shanchu",onClick:w=>C(h,R)},null)])]),t("div",{class:"events-list-item-content"},[xe.handlerMap.get(E.title).selectedRender(E)])]))])]})])))?u:{default:()=>[u]})]),t(f("el-dialog"),{title:"事件配置",modelValue:l.dialogIsShow,"onUpdate:modelValue":h=>l.dialogIsShow=h,width:"60%",fullscreen:!0,"append-to-body":!0},{default:()=>t(Ha,{option:l.addAction,isShow:l.dialogIsShow},null),footer:()=>t("span",{class:"dialog-footer"},[t(f("el-button"),{onClick:h=>l.dialogIsShow=!1},{default:()=>[y("取 消")]}),t(f("el-button"),{type:"primary",onClick:h=>p()},{default:()=>[y("确 定")]})])})])}}}),Ya={class:"ErComponent"},Xa={class:"ErComponent-nav"},Ja=["onClick"],Qa={class:"ErComponent-content"},Ga=I({__name:"EditorRight",props:["EditorData"],setup(e){const n=e,l=L([{label:"属性",active:!0,isShow:!0},{label:"外观",active:!1,isShow:!0},{label:"事件",active:!1,isShow:!0}]),a=o=>{l.forEach((d,r)=>{if(r==o){d.active=!0;return}d.active=!1})};return(o,d)=>(O(),G("div",Ya,[B("div",Xa,[(O(!0),G(A,null,Pe(l,(r,c)=>Y((O(),G("label",{onClick:p=>a(c),class:Ae(["ErComponent-nav-btn",{active:r.active}])},Ve(r.label),11,Ja)),[[le,r.isShow]])),256))]),B("div",Qa,[l[0].active?(O(),pe(V($a),{key:0,EditorData:n.EditorData},null,8,["EditorData"])):me("",!0),l[1].active?(O(),pe(V(Ua),{key:1,EditorData:n.EditorData},null,8,["EditorData"])):me("",!0),l[2].active?(O(),pe(V(qa),{key:2})):me("",!0)])]))}});const yt=I({props:{dataKey:String,EditorDataMap:Object},setup(e){let n=null,l=e.EditorDataMap.get(e.dataKey),a={node:l,id:e.dataKey};return l.type.includes("container")&&(n=t(Lt,{dataKey:e.dataKey},null),a.children=n,a.childrenList=l.children),()=>{var o;return(o=lt.componentMap.get(l.type))==null?void 0:o.render(a)}}}),Za=["data-key"],eo=I({__name:"transitionDrag",props:["dataKey"],setup(e){const n=e,l=ce(W),a=o=>o.includes("container");return(o,d)=>(O(),pe(bt,{"move-class":"move",class:"transition",tag:"div"},{default:ke(()=>[(O(!0),G(A,null,Pe(V(l).EditorDataMap.get(n.dataKey).children,r=>(O(),G(A,{key:r},[a(r)?(O(),pe(V(yt),{key:1,dataKey:r,EditorDataMap:V(l).EditorDataMap},null,8,["dataKey","EditorDataMap"])):(O(),G("div",{key:0,class:"cannotPreview","data-key":r},[t(V(yt),{dataKey:r,EditorDataMap:V(l).EditorDataMap},null,8,["dataKey","EditorDataMap"])],8,Za))],64))),128))]),_:1}))}});const Lt=Re(eo,[["__scopeId","data-v-baee71ad"]]),to=I({props:{EditorData:Object},setup(e){const n=ce(W);let l=Le(null);return Ye(()=>{l.value.attributes.childrenList=e.EditorData.get("page").children,n.rootNode=l}),()=>Y(t("div",{class:"Editorcontainer",ref:l,onMouseenter:a=>Fe.mouseenter(a),onClick:a=>Fe.onclickToDrag(a),style:e.EditorData.style,"data-key":"page"},[t(Lt,{dataKey:"page"},null)]),[[it("contextmenu"),Dt]])}});const lo=I({props:{selectComponent:Function,unselectComponent:Function,makeACopy:Function,copycomponents:Function,shearComponents:Function,delComponents:Function,pasteComponents:Function,moveForward:Function,moveBack:Function,undo:Function,redo:Function,commands:Object},setup(e){const n=ce(W);return()=>Y(t("div",{class:"menu",style:n.menuConfig.style},[t(f("el-menu"),{class:"el-menu-vertical-demo","active-text-color":"#151b26","text-color":"#151b26"},{default:()=>[t(f("el-menu-item"),{index:"1",disabled:n.menuConfig.isShow.selectComponent},{default:()=>[t("div",{onClick:l=>e.selectComponent(l)},[y("选中组件")])]}),t(f("el-menu-item"),{index:"2",disabled:n.menuConfig.isShow.unselectComponent},{default:()=>[t("div",{onClick:l=>e.unselectComponent(l)},[y("取消选中")])]}),t("i",null,null),t(f("el-menu-item"),{index:"3",disabled:n.menuConfig.isShow.makeACopy},{default:()=>[t("div",{onClick:l=>e.makeACopy(l,e.commands)},[y("重复一份")])]}),t(f("el-menu-item"),{index:"4",disabled:n.menuConfig.isShow.copycomponents},{default:()=>[t("div",{onClick:l=>e.copycomponents(l)},[y("复制组件")])]}),t(f("el-menu-item"),{index:"5",disabled:n.menuConfig.isShow.shearComponents},{default:()=>[t("div",{onClick:l=>e.shearComponents(l,e.commands)},[y("剪切组件")])]}),t(f("el-menu-item"),{index:"6",disabled:n.menuConfig.isShow.pasteComponents},{default:()=>[t("div",{onClick:l=>e.pasteComponents(l)},[y("粘贴组件")])]}),t(f("el-menu-item"),{index:"7",disabled:n.menuConfig.isShow.delComponents},{default:()=>[t("div",{onClick:l=>e.delComponents(l,e.commands)},[y("删除")])]}),t("i",null,null),t(f("el-menu-item"),{index:"8",disabled:n.menuConfig.isShow.moveForward},{default:()=>[t("div",{onClick:l=>e.moveForward(l)},[y("向前移动")])]}),t(f("el-menu-item"),{index:"9",disabled:n.menuConfig.isShow.moveBack},{default:()=>[t("div",{onClick:l=>e.moveBack(l)},[y("向后移动")])]}),t("i",null,null),t(f("el-menu-item"),{index:"10",disabled:n.menuConfig.isShow.undo},{default:()=>[t("div",{onClick:l=>e.undo(l,e.commands)},[y("撤销 (UnDo)")])]}),t(f("el-menu-item"),{index:"11",disabled:n.menuConfig.isShow.redo},{default:()=>[t("div",{onClick:l=>e.redo(l,e.commands)},[y("还原 (ReDo)")])]})]})]),[[le,n.menuConfig.isShowMenu]])}}),no=I({props:{option:{type:Object}},setup(e){const n=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ve,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),ao=I({props:{option:{type:Object}},setup(e){return()=>t(Vt,{option:e.option},null)}}),oo=I({props:{option:{type:Object}},setup(e){const n=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ve,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),io=I({props:{option:{type:Object}},setup(e){return()=>t(Vt,{option:e.option},null)}}),so=I({props:{option:{type:Object}},setup(e){const n=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(ve,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),uo=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({value:"普通文字",options:[{value:"普通文字"},{value:"段落"},{value:"一级标题"},{value:"二级标题"},{value:"三级标题"},{value:"四级标题"},{value:"五级标题"},{value:"六级标题"}]}),a=L({whetherInline:{label:"内联模式",value:!0},textContent:{label:"文字内容",value:e.option.children}});return e.option.style.display&&(a.whetherInline.value=!1),ne(()=>{e.option.children=a.textContent.value,a.whetherInline.value?delete e.option.style.display:e.option.style.display="block"}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(oe,{label:"文字格式",setting:l},null),t(se,{option:a.whetherInline},null),t(xt,{option:a.textContent},null)]})]})])}}),ro=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},a=L({value:"默认",options:[{value:"默认"},{value:"主要"},{value:"成功"},{value:"信息"},{value:"警告"},{value:"危险"}]}),o=L({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),d=L({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]}),r=L({blockDisplay:{label:"块状显示",value:!1},leftIconSize:{label:"左侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""},rightIconSize:{label:"右侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""}});e.option.buttonstyle==""?a.value="默认":e.option.buttonstyle=="primary"?a.value="主要":e.option.buttonstyle=="success"?a.value="成功":e.option.buttonstyle=="info"?a.value="信息":e.option.buttonstyle=="warning"?a.value="警告":a.value="危险",e.option.style.display=="block"&&(r.blockDisplay.value=!0);let c=!1,p=!1;return c=!!e.option.icon.leftIcon,p=!!e.option.icon.rightIcon,e.option.icon.leftIconSize&&(r.leftIconSize.value=e.option.icon.leftIconSize),e.option.icon.leftIconSize&&(r.rightIconSize.value=e.option.icon.rightIconSize),ne(()=>{a.value=="默认"?e.option.buttonstyle="":a.value=="主要"?e.option.buttonstyle="primary":a.value=="成功"?e.option.buttonstyle="success":a.value=="信息"?e.option.buttonstyle="info":a.value=="警告"?e.option.buttonstyle="warning":e.option.buttonstyle="danger",r.blockDisplay.value?e.option.style.display="block":e.option.style.display="",c?e.option.icon.leftIconSize=r.leftIconSize.value:e.option.icon.leftIconSize="",p?e.option.icon.rightIconSize=r.rightIconSize.value:e.option.icon.rightIconSize=""}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(oe,{label:"样式",setting:a},null),t(se,{option:r.blockDisplay},null),t(qe,{setting:d},null)]}),t(f("elCollapseItem"),{title:"自定义样式",name:"customStyle"},{default:()=>[t(oe,{label:"状态",setting:o},null),t(ve,{option:l},null),Y(t(ae,{option:r.leftIconSize},null),[[le,c]]),Y(t(ae,{option:r.rightIconSize},null),[[le,p]])]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})])}}),co=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({bindingField:{label:"名称",value:"我的按钮",placeholder:"请输入名称"},twiceComfire:{label:"二次确认",value:!1},bubblePrompt:{label:"气泡提示",value:!1},leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},rightIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},disable:{label:"禁用",value:!0}}),a=L({textarea:[{label:"确认内容",value:""}],hasTriggerMode:!1,hasPromptLocation:!1}),o=L({textarea:[{label:"正常提示",value:""},{label:"禁用信息",value:""}],hasTriggerMode:!0,hasPromptLocation:!0});return l.bindingField.value!=e.option.children&&(l.bindingField.value=e.option.children),e.option.twiceComfire.value?(l.twiceComfire.value=!0,a.textarea[0].value=e.option.twiceComfire.info):l.twiceComfire.value=!1,l.leftIconSelect.icon=e.option.icon.leftIcon?e.option.icon.leftIcon:"",l.leftIconSelect.iconText=e.option.icon.leftIcon?e.option.icon.leftIcon.replace("icon-",""):"",l.rightIconSelect.icon=e.option.icon.rightIcon?e.option.icon.rightIcon:"",l.rightIconSelect.iconText=e.option.icon.rightIcon?e.option.icon.rightIcon.replace("icon-",""):"",e.option.bubblePrompt.value?(l.bubblePrompt.value=!0,o.textarea[0].value=e.option.bubblePrompt.normalInfo,o.textarea[1].value=e.option.bubblePrompt.disableInfo):l.twiceComfire.value=!1,l.disable.value=e.option.isDisable,ne(()=>{l.bindingField.value!="我的按钮"&&(e.option.children=l.bindingField.value?l.bindingField.value:"我的按钮"),l.twiceComfire.value?(e.option.twiceComfire.value=!0,e.option.twiceComfire.info=a.textarea[0].value):(e.option.twiceComfire.value=!1,e.option.twiceComfire.info=a.textarea[0].value=""),l.bubblePrompt.value?(e.option.bubblePrompt.value=!0,e.option.bubblePrompt.normalInfo=o.textarea[0].value,e.option.bubblePrompt.disableInfo=o.textarea[1].value):(e.option.bubblePrompt.value=!1,e.option.bubblePrompt.normalInfo=o.textarea[0].value="",e.option.bubblePrompt.disableInfo=o.textarea[1].value="",e.option.bubblePrompt.triggerMode!="鼠标悬浮"&&(e.option.bubblePrompt.triggerMode="鼠标悬浮"),e.option.bubblePrompt.promptLocation!="下"&&(e.option.bubblePrompt.promptLocation="下")),e.option.isDisable=l.disable.value}),Q(()=>l.leftIconSelect.isShowList,d=>{d&&l.rightIconSelect.isShowList&&(l.rightIconSelect.isShowList=!1)}),Q(()=>l.rightIconSelect.isShowList,d=>{d&&l.leftIconSelect.isShowList&&(l.leftIconSelect.isShowList=!1)}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{option:l.bindingField},null),t(se,{option:l.twiceComfire},null),Y(t(gt,{setting:a},null),[[le,l.twiceComfire.value]]),t(nt,{label:"左侧图标",setting:l.leftIconSelect},null),t(nt,{label:"右侧图标",setting:l.rightIconSelect},null),t(se,{option:l.bubblePrompt},null),Y(t(gt,{setting:o},null),[[le,l.bubblePrompt.value]])]}),t(f("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(se,{option:l.disable},null)]})]})])}}),fo=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({width:{label:"宽度",value:e.option.style.width,placeholder:"请输入输入框宽度",oldValue:""},height:{label:"高度",value:e.option.style.height,placeholder:"请输入输入框高度",oldValue:""}}),a=L({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),o={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},d=L({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]});return ne(()=>{e.option.style.width=l.width.value,e.option.style.height=l.height.value}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{option:l.width},null),t(ae,{option:l.height},null),t(qe,{setting:d},null)]}),t(f("elCollapseItem"),{title:"输入框样式",name:"inputStyle"},{default:()=>[t(oe,{label:"状态",setting:a},null),t(ve,{option:o},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSourceCode"},{default:()=>[t("div",{class:"events"},[t("div",{class:"addEvents"},[t("span",null,[y("编辑样式源码")])])])]})]})])}}),po=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({inputStyle:{value:"文本(text)",options:[{value:"文本(text)"},{value:"密码(password)"},{value:"邮箱(email)"}]},defaultValue:{label:"默认值",value:"",placeholder:"请输入输入框默认内容"},placeholderPrompt:{label:"占位提示",value:"",placeholder:"请输入占位提示"},clearable:{label:"可清除",value:!1},maxLength:{label:"最长输入长度",value:0,min:0},minLength:{label:"最小输入长度",value:0,min:0}}),a=L({hide:{label:"隐藏",value:!1},onlyRead:{label:"只读",value:!1},disable:{label:"禁用",value:!1},autofocus:{label:"自动对焦",value:!1}});let o=new RegExp("(?<=\\()(.+?)(?=\\))","g");return(()=>{if(e.option.inputStyle!="input")for(let d=0;d<l.inputStyle.options.length;d++){let r=l.inputStyle.options[d].value.match(o);r[0]==e.option.inputStyle&&(l.inputStyle.value=l.inputStyle.options[d].value),r[0]=="password"&&(e.option.showPassword=!0)}l.defaultValue.value=e.option.value,l.placeholderPrompt.value=e.option.placeholder,l.clearable.value=e.option.clearable,l.maxLength.value=e.option.maxlength||0,l.minLength.value=e.option.minlength||0,l.maxLength.value&&l.maxLength.value!=0&&(e.option.showWordLimit=!0)})(),a.hide.value=e.option.hidden,a.onlyRead.value=e.option.readonly,a.disable.value=e.option.disabled,a.autofocus.value=e.option.autofocus,ne(()=>{e.option.inputStyle=l.inputStyle.value.match(o)[0],e.option.inputStyle!="password"&&(e.option.showPassword=!1),e.option.value=l.defaultValue.value,e.option.placeholder=l.placeholderPrompt.value,l.clearable.value?e.option.clearable=l.clearable.value:delete e.option.clearable,l.maxLength.value!=0?e.option.maxlength=l.maxLength.value:delete e.option.maxlength,l.minLength.value!=0?e.option.minlength=l.minLength.value:delete e.option.minlength,l.maxLength.value&&l.maxLength.value>0?e.option.showWordLimit=!0:e.option.showWordLimit=!1,a.hide.value?e.option.hidden=a.hide.value:delete e.option.hidden,a.onlyRead.value?e.option.readonly=a.onlyRead.value:delete e.option.readonly,a.disable.value?e.option.disabled=a.disable.value:delete e.option.disabled,a.autofocus.value?e.option.autofocus=a.autofocus.value:delete e.option.autofocus}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(oe,{label:"输入类型",setting:l.inputStyle},null),t(ae,{option:l.defaultValue},null),t(ae,{option:l.placeholderPrompt},null),t(se,{option:l.clearable},null),t(We,{option:l.maxLength},null),t(We,{option:l.minLength},null)]}),t(f("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[t(se,{option:a.hide},null),t(se,{option:a.onlyRead},null),t(se,{option:a.disable},null),t(se,{option:a.autofocus},null)]})]})])}});class vo{constructor(n){fe(this,"containerElement",null);fe(this,"rectList",[]);fe(this,"handle",null);fe(this,"drag",{element:null,index:0,firstIndex:0});fe(this,"clone",{element:null});fe(this,"diff",{x:null,y:null});fe(this,"isMouseDown",!1);fe(this,"dragData",null);fe(this,"dragClassName",null);fe(this,"cloneClassName",null);fe(this,"animation",".5s");this.containerElement=n.el,this.handle=n.handle,this.dragData=L(n.dragData),this.dragClassName=n.dragClassName,this.cloneClassName=n.cloneClassName,n.animation&&(this.animation=n.animation),this.init()}init(){this.bindEventListener(),this.getRectList()}getRectList(){this.rectList.length=0;for(const n of this.containerElement.children)this.rectList.push(n.getBoundingClientRect())}onMouseDown(n){const{clientY:l,clientX:a,target:o}=n;if(o==this.containerElement||!o.classList.contains(this.handle))return;this.getRectList(),this.isMouseDown=!0,this.drag.element=this.findActionNode(o),this.drag.element.classList.add(this.dragClassName),this.clone.element=this.drag.element.cloneNode(!0),document.body.appendChild(this.clone.element),this.clone.element.className=this.cloneClassName;const d=[].indexOf.call(this.containerElement.children,this.drag.element);this.drag.index=d,this.drag.firstIndex=d;const{top:r,left:c}=this.drag.element.getBoundingClientRect();this.diff.x=a-c,this.diff.y=l-r,this.clone.element.style.top=`${r}px`,this.clone.element.style.left=`${c}px`;for(const p of this.containerElement.children)p.style.transition=`transform ${this.animation}`}onMouseMove(n){if(this.isMouseDown){this.clone.element.style.top=`${n.clientY-this.diff.y}px`;for(let l=0;l<this.rectList.length;l++)if(l!==this.drag.index&&n.clientX>this.rectList[l].left&&n.clientX<this.rectList[l].right&&n.clientY>this.rectList[l].top&&n.clientY<this.rectList[l].bottom){if(this.drag.index<l)for(let d=this.drag.index;d<l;d++)if(d<this.drag.firstIndex)this.containerElement.children[d].style.transform="translate3d(0px, 0px, 0)";else{const r=this.rectList[d].left-this.rectList[d+1].left,c=this.rectList[d].top-this.rectList[d+1].top;this.containerElement.children[d+1].style.transform="translate3d("+r+"px, "+c+"px, 0)"}else if(this.drag.index>l)for(let d=l;d<this.drag.index;d++)if(this.drag.firstIndex<=d)this.containerElement.children[d+1].style.transform="translate3d(0px, 0px, 0)";else{const r=this.rectList[d+1].left-this.rectList[d].left,c=this.rectList[d+1].top-this.rectList[d].top;this.containerElement.children[d].style.transform="translate3d("+r+"px, "+c+"px, 0)"}const a=this.rectList[l].left-this.rectList[this.drag.firstIndex].left,o=this.rectList[l].top-this.rectList[this.drag.firstIndex].top;this.drag.element.style.transform="translate3d("+a+"px, "+o+"px, 0)",this.drag.index=l;break}}}onMouseUp(){if(this.isMouseDown){this.isMouseDown=!1,this.drag.element.classList.remove(this.dragClassName),this.clone.element.remove();for(const l of this.containerElement.children)l.style.transition="none",l.style.transform="translate3d(0px, 0px, 0px)";let n=this.dragData[this.drag.firstIndex];this.dragData.splice(this.drag.firstIndex,1),this.dragData.splice(this.drag.index,0,n)}}bindEventListener(){this.containerElement.addEventListener("mousedown",this.onMouseDown.bind(this)),this.containerElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this))}findActionNode(n){return n.parentNode!=this.containerElement?this.findActionNode(n.parentNode):n}}const mo=I({props:{option:{type:Object}},setup(e){const n=["basic","titleType","inputBoxType","styleSource"],l=L({inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style}});return(()=>{if(e.option.style.width){const{width:a}=e.option.style.width;a=="80px"?l.inputBoxSize.value="极小":a=="160px"?l.inputBoxSize.value="小":a=="240px"?l.inputBoxSize.value="中":a=="320px"&&(l.inputBoxSize.value="大")}})(),ne(()=>{l.inputBoxSize.value=="极小"?e.option.style.width="80px":l.inputBoxSize.value=="小"?e.option.style.width="160px":l.inputBoxSize.value=="中"?e.option.style.width="240px":l.inputBoxSize.value=="大"?e.option.style.width="320px":delete e.option.style.width}),()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(oe,{label:"下拉框尺寸",setting:l.inputBoxSize},null)]}),t(f("elCollapseItem"),{title:"下拉框样式",name:"inputBoxType"},{default:()=>[t(ve,{option:l.inputBoxType},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),ho=I({props:{option:{type:Object}},setup(e){const n=["basic","options"],l=L({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:""},filterable:{label:"可搜索",value:e.option.filterable?e.option.filterable:!1},multiple:{label:"是否多选",value:e.option.multiple?e.option.multiple:!1},defaultValue:{value:e.option.defaultValue?e.option.defaultValue:"",options:[]},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"},selectData:[{radio:!1,value:"选项A",isShow:!1},{radio:!1,value:"选项B",isShow:!1},{radio:!1,value:"选项C",isShow:!1}]});e.option.selectData&&(l.selectData=e.option.selectData.map(r=>({...r,isShow:!1})));let a=Le(null);Ye(()=>{new vo({el:a.value,handle:"selectDataDrag",dragData:l.selectData,dragClassName:"active",cloneClassName:"drag-ghost"})});const o=()=>{l.selectData.push({radio:!1,value:"",isShow:!1})};ne(()=>{l.bindingField.value!=""?e.option.bindingField=l.bindingField.value:delete e.option.bindingField,l.filterable.value?e.option.filterable=l.filterable.value:delete e.option.filterable,l.multiple.value?e.option.multiple=l.multiple.value:delete e.option.multiple,l.defaultValue.value!=""?e.option.defaultValue=l.defaultValue.value:delete e.option.defaultValue,l.inputBoxPlaceholder.value!=""?e.option.placeholder=l.inputBoxPlaceholder.value:delete e.option.placeholder,e.option.selectData=l.selectData.map(r=>({value:r.value,radio:r.radio})),new Promise(r=>{let c=[];for(let p of l.selectData)p.value.trim()!=""&&c.push(p);r(c)}).then(r=>{l.defaultValue.options=r})});const d=()=>{l.selectData.map(r=>r.isShow=!1)};return window.addEventListener("click",d),Xe(()=>{window.removeEventListener("click",d)}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{option:l.bindingField},null),t(se,{option:l.multiple},null),t(se,{option:l.filterable},null),t(oe,{label:"默认值",setting:l.defaultValue,change:r=>{l.selectData.map(c=>c.radio=!1),l.selectData.some(c=>{c.value==r&&(c.radio=!0)})}},null),t(ae,{option:l.inputBoxPlaceholder},null)]}),t(f("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[t("div",{class:"elCollapseItem"},[y("数据")]),t("div",{class:"selectDataList",ref:a},[l.selectData.map((r,c)=>t("div",{class:"elCollapseItem"},[t("div",{class:"selectData"},[t("i",{class:"icon iconfont icon-drag selectDataDrag"},null),t("input",{class:"selectData-radio",type:"radio",value:"true",name:"defaultValue",title:"默认选中",checked:r.radio,onChange:p=>{l.selectData.forEach(s=>s.radio=!1),r.radio=!0,l.defaultValue.value=r.value}},null),t(q,{modelValue:r.value,"onUpdate:modelValue":p=>r.value=p,placeholder:"请输入选项的值"},null),t("div",{class:"selectData-menu",onClick:p=>{p.stopPropagation(),l.selectData.forEach(s=>s.isShow=!1),r.isShow=!0}},[t("i",{class:"icon iconfont icon-caidan"},null),Y(t("div",{class:"selectData-menu-dropdown"},[Y(t("span",{onClick:p=>{p.stopPropagation(),r.isShow=!1,r.radio=!1}},[y("取消勾选")]),[[le,r.radio]]),t("span",{onClick:p=>{p.stopPropagation(),r.isShow=!1,l.selectData.length>1?l.selectData.splice(c,1):$.warning({message:"最后一项不可删除",duration:2e3})}},[y("删除")])]),[[le,r.isShow]])])])]))]),t("div",{class:"elCollapseItem selectDataList-footer"},[t(vt,{plain:!0,onClick:o},{default:()=>[y("添加选项")]}),t(vt,{plain:!0},{default:()=>[y("批量添加")]})])]})]})])}}),go=I({props:{option:{type:Object}},setup(e){const n=["basic","titleType","inputBoxType","styleSource"],l=L({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:a}=e.option.style.input.width;a=="80px"?l.inputBoxSize.value="极小":a=="160px"?l.inputBoxSize.value="小":a=="240px"?l.inputBoxSize.value="中":a=="320px"&&(l.inputBoxSize.value="大")}})(),ne(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width}),()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(oe,{label:"布局",setting:l.layout},null),t(oe,{label:"输入框尺寸",setting:l.inputBoxSize},null)]}),t(f("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(ve,{option:l.titleType},null)]}),t(f("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(ve,{option:l.inputBoxType},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),yo=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},inputType:{value:"文本",options:[{value:"文本"},{value:"密码"},{value:"邮箱"}]},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return e.option.inputType&&(e.option.inputType=="text"&&(l.inputType.value="文本"),e.option.inputType=="password"&&(l.inputType.value="密码"),e.option.inputType=="email"&&(l.inputType.value="邮箱")),ne(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(o=>{l[o].value!=""?e.option[o]=l[o].value:delete e.option[o]}),l.inputType.value!=""?l.inputType.value=="文本"?e.option.inputType="text":l.inputType.value=="密码"?e.option.inputType="password":e.option.inputType="email":delete e.option.inputType}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{option:l.bindingField},null),t(oe,{label:"输入类型",setting:l.inputType},null),t(ae,{option:l.title},null),t(se,{option:l.clearable},null),t(ae,{option:l.inputBoxPlaceholder},null)]})]})])}}),bo=I({props:{option:{type:Object}},setup(e){const n=["basic","titleType","inputBoxType","styleSource"],l=L({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},rows:{minRows:{label:"最小展示行数",value:e.option.autosize.minRows,min:1,max:99},maxRows:{label:"最大展示行数",value:e.option.autosize.maxRows,min:1,max:99}},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if(e.option.style.box.display!="block"&&(l.layout.value="水平"),console.log(e.option.style.input.width),e.option.style.input.width){const{width:a}=e.option.style.input.width;a=="80px"?l.inputBoxSize.value="极小":a=="160px"?l.inputBoxSize.value="小":a=="240px"?l.inputBoxSize.value="中":a=="320px"&&(l.inputBoxSize.value="大")}})(),ne(()=>{l.layout.value=="垂直"?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),l.inputBoxSize.value=="极小"?e.option.style.input.width="80px":l.inputBoxSize.value=="小"?e.option.style.input.width="160px":l.inputBoxSize.value=="中"?e.option.style.input.width="240px":l.inputBoxSize.value=="大"?e.option.style.input.width="320px":delete e.option.style.input.width,e.option.autosize.minRows=l.rows.minRows.value,e.option.autosize.maxRows=l.rows.maxRows.value}),()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(oe,{label:"布局",setting:l.layout},null),t(oe,{label:"输入框尺寸",setting:l.inputBoxSize},null),t(We,{option:l.rows.minRows},null),t(We,{option:l.rows.maxRows},null)]}),t(f("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[t(ve,{option:l.titleType},null)]}),t(f("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[t(ve,{option:l.inputBoxType},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),Co=I({props:{option:{type:Object}},setup(e){const n=["basic","layout"],l=L({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},clearable:{label:"可清除",value:e.option.clearable?e.option.clearable:!1},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return ne(()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach(o=>{l[o].value!=""?e.option[o]=l[o].value:delete e.option[o]})}),()=>t(A,null,[t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(ae,{option:l.bindingField},null),t(ae,{option:l.title},null),t(se,{option:l.clearable},null),t(ae,{option:l.inputBoxPlaceholder},null)]})]})])}}),xo=I({props:{option:{type:Object}},setup(e){const n=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>t(f("elCollapse"),{modelValue:n},{default:()=>[t(f("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[t(ve,{option:l},null)]}),t(f("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[t("div",{class:"elCollapseItem editStyle"},[t("div",{class:"editStyleSource"},[t("i",{class:"icon iconfont icon-daimajishufuwu"},null),t("span",null,[y("编辑样式源码")])])])]})]})}}),wo=I({props:{option:{type:Object}},setup(){const e=["basic"],n=L({leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"}});return()=>t(A,null,[t(f("elCollapse"),{modelValue:e},{default:()=>[t(f("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[t(nt,{label:"修改图标",setting:n.leftIconSelect},null)]})]})])}}),So=[{type:"container-ordinary",Properties(e){return t(ao,{option:e},null)},appearances(e){return t(no,{option:e},null)}},{type:"container-free",Properties(e){return t(io,{option:e},null)},appearances(e){return t(oo,{option:e},null)}},{type:"text",Properties(e){return t(uo,{option:e},null)},appearances(e){return t(so,{option:e},null)}},{type:"button",Properties(e){return t(co,{option:e},null)},appearances(e){return t(ro,{option:e},null)}},{type:"input",Properties(e){return t(po,{option:e},null)},appearances(e){return t(fo,{option:e},null)}},{type:"select",Properties(e){return t(ho,{option:e},null)},appearances(e){return t(mo,{option:e},null)}},{type:"textBox",Properties(e){return t(yo,{option:e},null)},appearances(e){return t(go,{option:e},null)}},{type:"multilineText",Properties(e){return t(Co,{option:e},null)},appearances(e){return t(bo,{option:e},null)}},{type:"icon",Properties(e){return t(wo,{option:e},null)},appearances(e){return t(xo,{option:e},null)}}];class Eo{constructor(n=new Map){this.componentMap=n}register(n){this.componentMap.set(n.type,n)}}const It=new Eo;for(let e of So)It.register({type:e.type,Properties:n=>e.Properties(n),appearances:n=>e.appearances(n)});const Do=I({props:{EditorData:Object},setup(e){return()=>t("div",{class:"EditorPreview"},[t("div",{id:"body",style:e.EditorData.style},[ea("page")]),t("div",{class:"EditorPreview-leftMessage"},[y("按ESC可退出预览")])])}});function ko(){let e={},n=[],l=ce(W),a=ge(W);const o=[{name:"copy",keyboard:"ctrl+c",execute(){return console.log("复制"),{redo(){l.copyData=a.selectKey}}}},{name:"paste",keyboard:"ctrl+v",pushQueue:!0,execute(){var E;l.menuConfig.key++;let p=l.copyData,s=l.wantCopy,C=((E=l.EditorDataMap.get(s))==null?void 0:E.parent)||"page",u=l.EditorDataMap.get(C).children.findIndex(R=>R==s),h=l.EditorDataMap.get(p),v=[];return{redo(){function R(w,P,z){z.parent=P;let M=tt(w.replace(/-[^-]*$/,""),re(z));return v.push(M),Array.isArray(z.children)&&(l.EditorDataMap.get(M).children=z.children.map(F=>R(F,M,l.EditorDataMap.get(F)))),M}l.EditorDataMap.get(C).children.splice(u+1,0,R(p,C,h)),l.menuConfig.key++},undo(){l.EditorDataMap.get(C).children.splice(u+1,1),v.forEach(R=>{l.EditorDataMap.delete(R)}),l.menuConfig.key--}}}},{name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let p=l.queue[l.curPointerTo+1];return p?(p.redo&&p.redo(),l.curPointerTo++,!0):!1}}}},{name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(l.curPointerTo==-1)return;let p=l.queue[l.curPointerTo];return p?(p.undo&&p.undo(),l.curPointerTo--,!0):!1}}}},{name:"shear",keyboard:"ctrl+x",pushQueue:!0,execute(){var u;l.copyData=a.selectKey;let p=a.selectKey,s=((u=l.EditorDataMap.get(p))==null?void 0:u.parent)||"page",C=l.EditorDataMap.get(s).children.findIndex(h=>h==p);return a.isDrag&&a.destructionOfDrag(),{redo(){l.EditorDataMap.get(s).children.splice(C,1),l.menuConfig.key++},undo(){l.EditorDataMap.get(s).children.splice(C,0,p),l.menuConfig.key--}}}},{name:"save",keyboard:"ctrl+s",execute(){return{async redo(){var s;l.isLoading=!0,l.setEditorData(),He("title",l.title),He("data",l.EditorData),((s=(await ta({jsonData:JSON.stringify(l.EditorData),id:Me("id"),title:l.title})).data)==null?void 0:s.code)==200&&(l.isLoading=!1,l.isNeedSave=!1,l.isSucessSave=!0,$.success({message:"保存成功",duration:2e3}))}}}},{name:"removeSave",keyboard:"ctrl+delete",execute(){return{redo(){localStorage.removeItem("title"),localStorage.removeItem("data"),$.success({message:"清除保存数据成功",duration:2e3})}}}},{name:"delete",keyboard:"delete",pushQueue:!0,execute(){var s;let p=l.wantDel;if(p){let C=((s=l.EditorDataMap.get(p))==null?void 0:s.parent)||"page",u=l.EditorDataMap.get(C).children.findIndex(h=>h==p);return a.isDrag&&a.destructionOfDrag(),{redo(){l.EditorDataMap.get(C).children.splice(u,1),l.menuConfig.key++},undo(){l.EditorDataMap.get(C).children.splice(u,0,p),l.menuConfig.key--}}}else $.error("编辑区域根节点不能删除！")}},{name:"preview",keyboard:"ctrl+p",execute(){return{redo(){l.isPreview||(l.setEditorData(),l.isPreview=!0,$.success({message:"已进入预览模式",duration:2e3}))}}}},{name:"exitPreview",keyboard:"esc",execute(){return{redo(){l.isPreview&&(l.isPreview=!1,$.success({message:"已退出预览模式",duration:1e3}))}}}},{name:"export",keyboard:"ctrl+e",execute(){return{redo(){const p=document.createElement("a");p.style.display="none",p.download=l.title+".json";var s=new Blob([JSON.stringify(l.EditorData)]);p.href=URL.createObjectURL(s),document.body.appendChild(p),p.click(),document.body.removeChild(p)}}}},{name:"clone",pushQueue:!0,init(){this.before=null;const p=()=>this.before=re(l.EditorData),s=()=>e.clone();return $e.on("cloneStart",p),$e.on("cloneEnd",s),()=>{$e.off("cloneStart",p),$e.off("cloneEnd",s)}},execute(){var v;let p=a.selectParent,s=a.selectedMaterial,C=re(a.selectedMaterial.defaultData),u=(v=l.EditorDataMap.get(p))==null?void 0:v.children.length,h=null;return{redo(){var E;h=tt(s.type,{...C,parent:p}),(E=l.EditorDataMap.get(p))==null||E.children.push(h),l.menuConfig.key++},undo(){var E;(E=l.EditorDataMap.get(p))==null||E.children.splice(u,1),l.EditorDataMap.delete(h),l.menuConfig.key--}}}}],d={67:"c",86:"v",90:"z",89:"y",88:"x",83:"s",46:"delete",80:"p",27:"esc",69:"e"},r=p=>{e[p.name]=()=>{if(a.isDraging)return;const{redo:s,undo:C}=p.execute();s(),p.pushQueue&&(l.queue.length>0&&(l.queue=l.queue.slice(0,l.curPointerTo+1),l.queue=l.queue),l.queue.push({redo:s,undo:C}),l.curPointerTo+=1)}},c=(()=>{const p=s=>{const{ctrlKey:C,keyCode:u}=s;let h=[];C&&h.push("ctrl"),h.push(d[u]);let v=h.join("+");o.forEach(({keyboard:E,name:R})=>{if(E&&E===v){if(v=="delete"?l.wantDel&&e[R]():e[R](),v=="ctrl+s"?l.isNeedSave=!1:(l.isLoading=!1,l.isSucessSave=!1,l.isNeedSave=!0),["c","v","x"].includes(d[u])&&!a.isDrag)return;s.preventDefault()}})};return()=>(window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)})})();return n.push(c()),o.forEach(p=>{r(p),p.init&&n.push(p.init())}),Xe(()=>{n.forEach(p=>p&&p())}),{commands:e}}const Je=e=>(ot("data-v-398e99f3"),e=e(),at(),e),Vo={class:"editor"},Lo={class:"editor-header"},Io={class:"editor-header-left"},_o=Je(()=>B("i",{class:"icon iconfont icon-fanhui"},null,-1)),Bo=[_o],Mo=Je(()=>B("h2",null,"codeFlow",-1)),Fo={class:"editor-header-mid"},Ao={class:"isSave"},Po={key:0,class:"svg"},To=Ct('<svg class="circle" viewBox="0 0 1024 1024" data-v-398e99f3><circle class="loading-circle" cx="512" cy="512" r="330" fill="none" stroke="url(#gradient)" stroke-width="60" data-v-398e99f3></circle><defs data-v-398e99f3><linearGradient id="gradient" data-v-398e99f3><stop offset="0%" stop-color="#ffffff" data-v-398e99f3></stop><stop offset="18%" stop-color="#ffffff" data-v-398e99f3></stop><stop offset="18%" stop-color="#000000" data-v-398e99f3></stop><stop offset="100%" stop-color="#000000" data-v-398e99f3></stop></linearGradient></defs></svg>',1),No=[To],Oo={class:"editor-header-right"},jo=Je(()=>B("i",{class:"icon iconfont icon-jianpan"},null,-1)),Ro=[jo],zo=Je(()=>B("div",{class:"editor-header-right-avatar"},[B("img",{src:Zn,alt:"user"})],-1)),Ko={class:"editor-body"},$o={class:"editor-body-left"},Uo={class:"editor-body-container"},Ho={class:"editor-body-container-top"},Wo={class:"el-breadcrumb-button"},qo={class:"editor-body-container-content"},Yo={class:"editor-body-container-content_inner",ref:"editArea"},Xo={class:"editor-body-right"},Jo={class:"shortcuts"},Qo={class:"shortcuts-key"},Go=I({__name:"editor",setup(e){et("editorConfig",lt),et("erConfig",It);const n=ce(W),l=ge(W);n.title=Me("title")?Me("title"):"新项目",n.EditorData=Me("data")?Me("data"):L(la),n.setMap();const{commands:a}=ko(),o=L({dialogIsShow:!1}),d=Le(null),r=Le(!1),c=u=>{r.value=!1,u.trim()==""&&(d.value.focus(),$.warning({message:"标题不能为空",duration:1e3}))};Q(()=>n.title,u=>{u.trim()==""&&$.warning({message:"标题不能为空",duration:1e3})});const p=[{label:"复制",key:"Ctrl+C"},{label:"粘贴",key:"Ctrl+V"},{label:"撤销",key:"Ctrl+Z"},{label:"还原",key:"Ctrl+Y"},{label:"剪切",key:"Ctrl+X"},{label:"保存",key:"Ctrl+S"},{label:"删除",key:"Delete"},{label:"预览",key:"Ctrl+P"},{label:"退出预览",key:"ESC"},{label:"导出",key:"Ctrl+E"}],s=u=>{let h=!1;const v=E=>{let R=n.EditorDataMap.get(E),w=lt.componentMap.get(R.type).label;n.Breadcrumb.push(w);let P=n.EditorDataMap.get(E).children;if(Array.isArray(P))for(let z=0;z<P.length&&!h;z++)v(P[z]);else if(E==l.selectKey){h=!0;return}else{n.Breadcrumb.pop();return}};if(Array.isArray(u))for(let E=0;E<u.length&&!h;E++)n.Breadcrumb=["页面"],v(u[E])};Q(()=>l.selectKey,()=>{n.wantDel=l.selectKey,n.wantCopy=l.selectKey,l.selectKey!="page"?s(n.EditorDataMap.get("page").children):n.Breadcrumb=["页面"]});const C=L({icon:"icon-duigouzhong",context:"所有更改已保存"});return Q(()=>n.isSucessSave,u=>{u&&(console.log("保存成功"),C.icon="icon-duigouzhong",C.context="已保存")}),Q(()=>n.isNeedSave,u=>{u&&(C.icon="icon-weixuanzhong",C.context="未保存")}),Q(()=>n.isLoading,u=>{u&&(C.icon="icon-weixuanzhong",C.context="正在保存")}),Q(()=>n.menuConfig.selectKey,u=>{u==="page"?(console.log("根节点"),n.menuConfig.isShow.makeACopy=!0,n.menuConfig.isShow.copycomponents=!1,n.menuConfig.isShow.shearComponents=!0,n.menuConfig.isShow.pasteComponents=!0,n.menuConfig.isShow.delComponents=!0,n.menuConfig.isShow.moveForward=!0,n.menuConfig.isShow.moveBack=!0):(n.menuConfig.isShow.makeACopy=!1,n.menuConfig.isShow.copycomponents=!1,n.menuConfig.isShow.shearComponents=!1,n.menuConfig.isShow.pasteComponents=!1,n.menuConfig.isShow.delComponents=!1,n.queue.length<=0?(n.menuConfig.isShow.undo=!0,n.menuConfig.isShow.redo=!0):(n.menuConfig.isShow.undo=!1,n.menuConfig.isShow.redo=!1))}),document.addEventListener("click",()=>{console.log("document click 关闭菜单"),n.menuConfig.isShowMenu=!1}),document.oncontextmenu=function(){console.log("全局右击事件"),n.menuConfig.isShowMenu=!1},function(){Object.defineProperty(document,"oncontextmenu",{set:function(u){return u}})}(),(u,h)=>{const v=f("el-breadcrumb-item"),E=f("el-breadcrumb"),R=f("el-dialog");return O(),G(A,null,[Y(B("div",Vo,[B("header",Lo,[B("div",Io,[B("span",{class:"editor-header-left-exit",onClick:h[0]||(h[0]=w=>u.$router.go(-1))},Bo),Mo]),B("div",Fo,[B("div",{class:Ae(["editor-header-mid-title",{active:r.value}])},[Y(B("input",{type:"text","onUpdate:modelValue":h[1]||(h[1]=w=>V(n).title=w),ref_key:"editorTitle",ref:d,onBlur:h[2]||(h[2]=w=>c(V(n).title)),onFocus:h[3]||(h[3]=w=>r.value=!0)},null,544),[[st,V(n).title]]),B("div",Ao,[V(n).isLoading?(O(),G("div",Po,No)):me("",!0),V(n).isLoading?me("",!0):(O(),G("i",{key:1,class:Ae(["icon iconfont",C.icon])},null,2)),B("span",null,Ve(C.context),1)])],2)]),B("div",Oo,[B("div",{class:"editor-header-right-shortcut",onClick:h[4]||(h[4]=w=>o.dialogIsShow=!0)},Ro),B("div",{class:"editor-header-right-btn",onClick:h[5]||(h[5]=w=>V(a).preview())}," 预览 "),B("div",{class:"editor-header-right-btn",onClick:h[6]||(h[6]=w=>V(a).export())}," 导出 "),t(V(Gn),{placement:"bottom",width:200,trigger:"click"},{reference:ke(()=>[zo]),default:ke(()=>[t(V(na))]),_:1})])]),B("section",Ko,[B("div",$o,[t(ja)]),B("div",Uo,[B("div",Ho,[t(E,{separator:">"},{default:ke(()=>[(O(!0),G(A,null,Pe(V(n).Breadcrumb,w=>(O(),pe(v,{onClick:h[7]||(h[7]=()=>{console.log(1)})},{default:ke(()=>[B("span",Wo,Ve(w),1)]),_:2},1024))),256))]),_:1})]),B("div",qo,[B("div",Yo,[t(V(to),{EditorData:V(n).EditorDataMap},null,8,["EditorData"])],512)])]),B("div",Xo,[t(Ga,{EditorData:V(n).EditorDataMap},null,8,["EditorData"])])])],512),[[le,!V(n).isPreview]]),V(n).isPreview?(O(),pe(V(Do),{key:0,EditorData:V(n).EditorData},null,8,["EditorData"])):me("",!0),t(R,{title:"快捷键",modelValue:o.dialogIsShow,"onUpdate:modelValue":h[8]||(h[8]=w=>o.dialogIsShow=w),width:"30%"},{default:ke(()=>[B("ul",Jo,[(O(),G(A,null,Pe(p,w=>B("li",{key:w.key},[B("label",null,Ve(w.label),1),B("div",Qo,Ve(w.key),1)])),64))])]),_:1},8,["modelValue"]),t(V(lo),{selectComponent:V(ya),unselectComponent:V(ba),makeACopy:V(Ca),copycomponents:V(xa),shearComponents:V(wa),delComponents:V(kt),pasteComponents:V(Sa),moveForward:V(ka),moveBack:V(Va),undo:V(La),redo:V(Ia),commands:V(a)},null,8,["selectComponent","unselectComponent","makeACopy","copycomponents","shearComponents","delComponents","pasteComponents","moveForward","moveBack","undo","redo","commands"])],64)}}});const ni=Re(Go,[["__scopeId","data-v-398e99f3"]]);export{ni as default};
