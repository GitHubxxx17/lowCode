var e=Object.defineProperty,t=(t,l,o)=>(((t,l,o)=>{l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o})(t,"symbol"!=typeof l?l+"":l,o),o);import{G as l,r as o,Z as a,Y as i,w as n,U as s,P as u,aj as d,S as p,z as r,ag as c,o as m,c as v,a as h,u as y,bh as f,bf as g,h as b,aq as x,F as C,a7 as w,M as S,R as I,I as V,T as k,x as D,b as L,V as E,O as M,a0 as P,E as B,y as T,aN as j}from"../@vue/@vue.5b184091.js";import{m as A,s as z,e as R,a as F,_ as O}from"../userStore/userStore.ce34fefe.js";import{u as K,d as U,_ as $,s as N,c as _,B as W,e as H,a as Y,b as q,m as X,f as J,P as Q,g as Z,h as G,i as ee,j as te,k as le,l as oe,p as ae,n as ie,o as ne,q as se,r as ue}from"../home/home.c11ab663.js";import{l as de,a as pe,p as re}from"../index.73d3590f.js";import{V as ce}from"../vue-json-pretty/vue-json-pretty.9b4b945b.js";import{c as me,a as ve,d as he,e as ye,f as fe,g as ge,h as be,j as xe}from"../element-plus/element-plus.580e5caa.js";import{d as Ce}from"../deepcopy/deepcopy.bcf77b89.js";import"../axios/axios.5ae1da96.js";import"../pinia/pinia.e5f2e591.js";import"../mitt/mitt.f0e54764.js";import"../fundebug-javascript/fundebug-javascript.4b005614.js";import"../dayjs/dayjs.fdf8d021.js";import"../fundebug-vue/fundebug-vue.04a7ac72.js";import"../vue-router/vue-router.f65266be.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.9fc9a9b5.js";import"../@element-plus/@element-plus.cb377f36.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../async-validator/async-validator.8d480e59.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.5fea19da.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.01901ece.js";import"../vue/vue.db7da52f.js";import"../type-detect/type-detect.74abd79c.js";const we=l({props:{search:{type:Object}},setup(e){const t=o(null),l=a({searchList:de(e.search.searchKey)||[],inputIsFocus:!1}),r=()=>{l.inputIsFocus=!0},c=()=>{l.inputIsFocus=!1};window.addEventListener("click",c),i((()=>{window.removeEventListener("click",c)}));const m=()=>{if(""!=e.search.value.trim()){let t=l.searchList.findIndex((t=>t==e.search.value));t>=0&&l.searchList.splice(t,1),l.searchList.unshift(e.search.value),pe(e.search.searchKey,l.searchList)}},v=()=>{l.searchList=[],localStorage.removeItem(e.search.searchKey)},h=t=>{c(),e.search.value=t,m()};return n((()=>e.search.value),(e=>{""==e?r():c()})),()=>s("div",{class:"el-search",onClick:e=>{e.stopPropagation()}},[s("div",{class:[l.inputIsFocus?"el-search-input-focus":"","el-search-input"]},[u(s("input",{ref:t,type:"text",placeholder:e.search.placeholder,onFocus:r,onChange:m,"onUpdate:modelValue":t=>e.search.value=t},null),[[d,e.search.value]]),s("span",null,[s("i",{class:["icon iconfont",e.search.value?"icon-cha":"icon-search"],onClick:t=>e.search.value=""},null)])]),l.inputIsFocus&&s("div",{class:"el-search-content",onClick:()=>{}},[0!=l.searchList.length&&s("div",{class:"el-search-content-history"},[s("div",{class:"el-search-content-history-header"},[s("span",null,[p("搜索历史")]),s("span",{onClick:v},[p("清空")])]),s("div",{class:"el-search-content-history-list"},[s("ul",null,[l.searchList.map(((t,o)=>s("li",{onClick:e=>h(t)},[s("span",null,[t]),s("i",{class:"icon iconfont icon-guanbi",onClick:t=>((t,o)=>{o.stopPropagation(),l.searchList.splice(t,1),pe(e.search.searchKey,l.searchList)})(o,t)},null)])))])])]),s("div",{class:"el-search-content-default"},[s("div",{class:"el-search-content-default-header"},[s("span",null,[e.search.searchDefault.label])]),s("div",{class:"el-search-content-default-list"},[s("ul",null,[e.search.searchDefault.list.map((e=>s("li",{onClick:t=>h(e)},[s("span",null,[e])])))])])])])])}}),Se=l({props:{EditorData:Object},setup(){const e=r("editorConfig"),t=a({search:{value:"",searchKey:"componentSearch",searchDefault:{label:"组件分类",list:["布局容器","常用组件","表单"]},placeholder:"查找组件"},componentList:{container:{label:"布局容器",list:[],hidden:!1},common:{label:"常用组件",list:[],hidden:!1},form:{label:"表单",list:[],hidden:!1}},activeName:a(["layoutContainer","commonComponents","form"])});return e.componentList.map((e=>{switch(e.category){case"container":t.componentList.container.list.push(e);break;case"common":t.componentList.common.list.push(e);break;case"form":t.componentList.form.list.push(e)}})),n((()=>t.search.value),(e=>{if(""==e)for(let l of Object.keys(t.componentList))t.componentList[l].list.filter((e=>{e.display=!0})),t.componentList[l].hidden=!1;else for(let l of Object.keys(t.componentList))if(t.componentList[l].label.indexOf(e)>=0)t.componentList[l].list.filter((e=>{e.display=!0}));else{let o=t.componentList[l].list.length;t.componentList[l].list.map((t=>{t.label.indexOf(e)>=0?t.display=!0:(t.display=!1,o--)})),t.componentList[l].hidden=0==o}})),()=>s("div",{class:"ElComponent"},[s("div",{class:"ElComponent-top"},[s(we,{search:t.search},null)]),s("div",{class:"ElComponent-list"},[s(c("elCollapse"),{modelValue:t.activeName,"onUpdate:modelValue":e=>t.activeName=e},{default:()=>[!t.componentList.container.hidden&&s(c("elCollapseItem"),{title:"布局容器",name:"layoutContainer"},{default:()=>[s("div",{class:"ElComponent-list-item"},[t.componentList.container.list.map((e=>e.display&&s("div",{onMousedown:t=>K.cloneMousedown(e,t)},[e.preview()])))])]}),!t.componentList.common.hidden&&s(c("elCollapseItem"),{title:"常用组件",name:"commonComponents"},{default:()=>[s("div",{class:"ElComponent-list-item"},[t.componentList.common.list.map((e=>e.display&&s("div",{onMousedown:t=>K.cloneMousedown(e,t)},[e.preview()])))])]}),!t.componentList.form.hidden&&s(c("elCollapseItem"),{title:"表单",name:"form"},{default:()=>[s("div",{class:"ElComponent-list-item"},[t.componentList.form.list.map((e=>e.display&&s("div",{onMousedown:t=>K.cloneMousedown(e,t)},[e.preview()])))])]})]})])])}}),Ie=l({props:{EditorData:Object},setup(){const e=r("editorConfig"),t=a({search:{value:"",searchKey:"iconSearch",searchDefault:{label:"图标分类",list:["用户","关闭","哈哈哈"]},placeholder:"查找图标"},color:"#000",fontSize:16,iconList:e.iconList});return n((()=>t.search.value),(e=>{if(""==e)for(let l of t.iconList)l.display=!0;else for(let l of t.iconList)l.label.indexOf(e)>=0?l.display=!0:l.display=!1})),()=>s("div",{class:"ElIcon"},[s("div",{class:"ElIcon-top"},[s(we,{search:t.search},null)]),s("div",{class:"ElIcon-comfig"},[s(c("el-color-picker"),{modelValue:t.color,"onUpdate:modelValue":e=>t.color=e},null),s(c("el-input-number"),{modelValue:t.fontSize,"onUpdate:modelValue":e=>t.fontSize=e,"controls-position":"right",min:12,"data-unit":"px"},null)]),s("div",{class:"ElIcon-list"},[t.iconList.map((e=>e.display&&s("div",{onMousedown:l=>{e.defaultData.style.fontSize=`${t.fontSize}px`,e.defaultData.style.color=t.color,K.cloneMousedown(e,l)}},[e.preview()])))])])}}),Ve={class:"ElJsonViewer"},ke=(e=>(f("data-v-64300b75"),e=e(),g(),e))((()=>h("span",null,"源码",-1))),De=$(l({__name:"ElJsonViewer",setup(e){const t=U(re),l=A(re),o=()=>{const e=document.createElement("textarea");e.value=JSON.stringify(l.EditorDataMap.get(t.selectKey||"page")),document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),me.success({message:"复制源码成功",duration:1e3})};return(e,a)=>(m(),v("div",Ve,[h("div",{class:"ElJsonViewer-top"},[ke,h("i",{class:"icon iconfont icon-copy",onClick:o})]),s(y(ce),{virtual:"",showIcon:"",showSelectController:"",height:820,data:y(l).EditorDataMap.get(y(t).selectKey||"page")},null,8,["data"])]))}}),[["__scopeId","data-v-64300b75"]]),Le={class:"ElOutline-top"},Ee={class:"ElOutline-content"},Me=$(l({__name:"ElOutline",setup(e){const t=A(re),l=U(re);let i=o(null);const d=a({data:[{id:1,label:"页面","node-key":"page",children:t.OutlineData}],defaultProps:{children:"children","node-key":"node-key",label:"label"},search:{value:"",searchKey:"componentSearch",searchDefault:{label:"常见组件节点标签",list:["页面","容器","输入框","按钮"]},placeholder:"输入关键字过滤组件节点标签"}}),p=e=>{l.selectKey=e?e["node-key"]:null},r=(e,t)=>!e||-1!==t.label.indexOf(e);return n((()=>l.selectKey),(()=>{l.selectKey?i.value.setCurrentKey(l.selectKey,!1):(t.Breadcrumb=["页面"],i.value.setCurrentKey("page",!1))})),n((()=>d.search.value),(()=>{i.value.filter(d.search.value)})),b((()=>{l.selectKey?i.value.setCurrentKey(l.selectKey,!1):(t.Breadcrumb=["页面"],i.value.setCurrentKey("page",!1)),t.menuConfig.elOutlineTree=i})),n((()=>t.OutlineData),(e=>{d.data[0].children=e})),(e,t)=>{const l=c("el-tree"),o=x("contextmenu");return m(),v("div",{class:"ElOutline",onMousedown:t[0]||(t[0]=(...e)=>y(_)&&y(_)(...e))},[h("div",Le,[s(y(we),{search:d.search},null,8,["search"])]),u((m(),v("div",Ee,[s(l,{ref_key:"elOutlineTree",ref:i,class:"filter-tree",data:d.data,props:d.defaultProps,"filter-node-method":r,"node-key":"node-key","highlight-current":"","default-expand-all":"",onCurrentChange:p},null,8,["data","props"])])),[[o,y(N),void 0,{prevent:!0}]])],32)}}}),[["__scopeId","data-v-7417750e"]]),Pe={class:"EditorLeft"},Be={class:"EditorLeft-nav"},Te=["onClick"],je={class:"EditorLeft-content"},Ae=$(l({__name:"EditorLeft",setup(e){const t=a([{label:"组件",icon:"icon iconfont icon-zujian",active:!0},{label:"图标",icon:"icon iconfont icon-xiaolian",active:!1},{label:"大纲",icon:"icon iconfont icon-list-outline",active:!1},{label:"代码",icon:"icon iconfont icon-daima",active:!1}]);return(e,l)=>(m(),v("div",Pe,[h("div",Be,[h("ul",null,[(m(!0),v(C,null,w(t,((e,l)=>(m(),v("li",{key:l,class:V({active:e.active}),onClick:e=>(e=>{t.forEach(((t,l)=>{t.active=l==e}))})(l)},[h("i",{class:V(e.icon)},null,2),h("span",null,k(e.label),1)],10,Te)))),128))])]),h("div",je,[t[0].active?(m(),S(y(Se),{key:0})):I("",!0),t[1].active?(m(),S(y(Ie),{key:1})):I("",!0),t[2].active?(m(),S(Me,{key:2})):I("",!0),t[3].active?(m(),S(De,{key:3})):I("",!0)])]))}}),[["__scopeId","data-v-9f7e1469"]]),ze=l({props:{option:{type:Object}},setup:e=>()=>s("div",{class:"elCollapseItem base-settings"},[s("p",null,[e.option.label]),s(ve,{modelValue:e.option.value,"onUpdate:modelValue":t=>e.option.value=t,placeholder:e.option.placeholder?e.option.placeholder:"请输入内容",clearable:e.option.clearable,onBlur:()=>{return t=e.option.value,l="value",o=e.option,void("左侧图标尺寸"!=e.option.label&&"右侧图标尺寸"!=e.option.label&&"宽度"!=e.option.label&&"高度"!=e.option.label||(""==t?o[l]="0px":/^\d+$/.test(t)?o[l]=`${t}px`:/^\d+px$/.test(t)?o[l]=t:o[l]=o.oldValue));var t,l,o},onFocus:()=>{return t=e.option.value,l=e.option,void("左侧图标尺寸"!=e.option.label&&"右侧图标尺寸"!=e.option.label&&"宽度"!=e.option.label&&"高度"!=e.option.label||(l.oldValue=t));var t,l}},null)])});const Re=l({props:{label:{type:String},setting:{type:Object},change:{type:Function}},setup:e=>()=>{let t;return s("div",{class:"elCollapseItem base-settings"},[s("p",null,[e.label]),s(c("el-select"),{modelValue:e.setting.value,"onUpdate:modelValue":t=>e.setting.value=t,filterable:!e.setting.filterable||e.setting.filterable,placeholder:e.setting.placeholder?e.setting.placeholder:"",onChange:t=>e.change&&e.change(t)},(l=t=e.setting.options.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))),"function"==typeof l||"[object Object]"===Object.prototype.toString.call(l)&&!D(l)?t:{default:()=>[t]}))]);var l}}),Fe=l({props:{option:{type:Object}},setup:e=>()=>s("div",{class:"elCollapseItem base-settings"},[s("p",null,[e.option.label]),s(c("el-switch"),{modelValue:e.option.value,"onUpdate:modelValue":t=>e.option.value=t},null)])});function Oe(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!D(e)}const Ke=l({props:{option:{type:Object}},setup(e){const t=a({color:e.option.style.color?e.option.style.color:"rgba(0,0,0)",fontSize:e.option.style.fontSize?e.option.style.fontSize:"",fontWeight:e.option.style.fontWeight?e.option.style.fontWeight:"",lineHeight:e.option.style.lineHeight?e.option.style.lineHeight:"",fontFamily:e.option.style.fontFamily?e.option.style.fontFamily:"",oldValue:""}),l=[{value:"黑体"},{value:"宋体"},{value:"楷体"},{value:"微软雅黑"}],o=[{value:"normal"},{value:"bold"},{value:"bolder"},{value:"lighter"},{value:"100"},{value:"200"},{value:"300"},{value:"400"},{value:"500"},{value:"600"},{value:"700"},{value:"800"},{value:"900"}],i=[{value:"1.3倍"},{value:"1.5倍"},{value:"1.7倍"}];let n=a({value:e.option.style.backgroundColor?e.option.style.backgroundColor:"rgba(255, 255, 255,0)"});const d=a({isBorderActive:"border",borderValue:0,selectInputValue:"",showSelect:!1,color:"rgba(0,0,0)"}),r=e=>{d.isBorderActive=e,h(e)},m=e=>{d.borderValue=e},v=[{text:"——————",value:"solid",render:()=>s(C,null,[s("span",{class:"solidLine"},[p("————  ")]),s("span",null,[p(" 实线 ")])])},{text:"------------------",value:"dashed",render:()=>s(C,null,[s("span",{class:"dottedLine"},[p("----------   ")]),s("span",null,[p(" 虚线 ")])])},{text:"···················",value:"dotted",render:()=>s(C,null,[s("span",{class:"pointLine"},[p("···················  ")]),s("span",null,[p(" 点线 ")])])}],h=t=>{if(e.option.style[t],e.option.style[t]){let l=e.option.style[t].match(/^(\d+px) (.*?) (.*?)$/);d.borderValue=parseInt(l[1].match(/^\d+/)[0]),v.forEach((e=>{e.value==l[2]&&(d.selectInputValue=e.text)})),d.color=l[3]}};h("border");const y=a([{label:"外边距(margin)",top:e.option.style.marginTop?e.option.style.marginTop:"0px",bottom:e.option.style.marginBottom?e.option.style.marginBottom:"0px",left:e.option.style.marginLeft?e.option.style.marginLeft:"0px",right:e.option.style.marginRight?e.option.style.marginRight:"0px",oldValue:""},{label:"内边距(padding)",top:e.option.style.paddingTop?e.option.style.paddingTop:"0px",bottom:e.option.style.paddingBottom?e.option.style.paddingBottom:"0px",left:e.option.style.paddingLeft?e.option.style.paddingLeft:"0px",right:e.option.style.paddingRight?e.option.style.paddingRight:"0px",oldValue:""}]),f=a({isRadiusAllActive:!0,isRadiusSelfActive:!1,tipIsshow:!1,tip:"",radiusValue:"",radiusTLValue:"",radiusTRValue:"",radiusBLValue:"",radiusBRValue:"",oldValue:""}),g=()=>{const{radiusTLValue:e,radiusTRValue:t,radiusBLValue:l,radiusBRValue:o}=f;f.tip=`${e||"0px"} ${t||"0px"} ${l||"0px"} ${o||"0px"}`},b=()=>{const{borderRadius:t,borderTopLeftRadius:l,borderTopRightRadius:o,borderBottomLeftRadius:a,borderBottomRightRadius:i}=e.option.style;if(t&&(f.radiusValue=t,f.radiusTLValue=f.radiusTRValue=f.radiusBLValue=f.radiusBRValue=t,f.tipIsshow=!1),l||o||a||i){let e=`${l||"0px"} ${o||"0px"} ${a||"0px"} ${i||"0px"}`;f.tip=e,f.tipIsshow=!0,l&&(f.radiusTLValue=l),o&&(f.radiusTRValue=o),a&&(f.radiusBLValue=a),i&&(f.radiusBRValue=i)}};b();const x=a([{label:"外阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""},{label:"内阴影",color:"rgba(255, 255, 255)",x:"0px",y:"0px",fuzzy:"0px",extension:"0px",oldValue:""}]),w=(e,t,l)=>{""==e?l[t]="0px":/^\d+$/.test(e)?l[t]=`${e}px`:/^\d+px$/.test(e)?l[t]=e:l[t]=l.oldValue},S=(e,t)=>{t.oldValue=e};return L((()=>{"rgba(0,0,0)"!=t.color?e.option.style.color=t.color:delete e.option.style.color,""!=t.fontSize?e.option.style.fontSize=t.fontSize:delete e.option.style.fontSize,""!=t.fontWeight?e.option.style.fontWeight=t.fontWeight:delete e.option.style.fontWeight,""!=t.fontFamily?e.option.style.fontFamily=t.fontFamily:delete e.option.style.fontFamily,""!=t.lineHeight?/^\d+px$/.test(t.lineHeight)?e.option.style.lineHeight=t.lineHeight:e.option.style.lineHeight=t.lineHeight.match(/^\d+(\.\d+)?/)[0]:delete e.option.style.lineHeight,"rgba(255, 255, 255,0)"!=n.value?e.option.style.backgroundColor=n.value:delete e.option.style.backgroundColor;const l=["border","borderTop","borderLeft","borderRight","borderBottom"];(()=>{let t="solid";""!=d.selectInputValue&&v.forEach((e=>{e.text.includes(d.selectInputValue)&&(t=e.value)})),l.forEach((l=>{d.isBorderActive==l&&(0!=d.borderValue?e.option.style[l]=`${d.borderValue}px ${t} ${d.color}`:delete e.option.style[l])}))})();const o=["top","left","right","bottom"];["marginTop","marginLeft","marginRight","marginBottom"].forEach(((t,l)=>{"0px"!=y[0][o[l]]?e.option.style[t]=y[0][o[l]]:delete e.option.style[t]}));["paddingTop","paddingLeft","paddingRight","paddingBottom"].forEach(((t,l)=>{"0px"!=y[1][o[l]]?e.option.style[t]=y[1][o[l]]:delete e.option.style[t]}));const a=["radiusTLValue","radiusTRValue","radiusBLValue","radiusBRValue"],i=["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];f.isRadiusAllActive?""==f.radiusValue||f.tipIsshow?delete e.option.style.borderRadius:(e.option.style.borderRadius=f.radiusValue,i.forEach((t=>delete e.option.style[t]))):f.radiusTLValue==f.radiusTRValue&&f.radiusTRValue==f.radiusBLValue&&f.radiusBLValue==f.radiusBRValue?(e.option.style.borderRadius=f.radiusTRValue,i.forEach((t=>delete e.option.style[t]))):(delete e.option.style.borderRadius,a.forEach(((t,l)=>{["","0px"].includes(f[t])?delete e.option.style[i[l]]:e.option.style[i[l]]=f[t]}))),"0px"==x[0].x&&"0px"==x[0].y&&"0px"==x[0].fuzzy&&"0px"==x[0].extension||"0px"==x[1].x&&"0px"==x[1].y&&"0px"==x[1].fuzzy&&"0px"==x[1].extension?("0px"==x[0].x&&"0px"==x[0].y&&"0px"==x[0].fuzzy&&"0px"==x[0].extension||(e.option.style.boxShadow=`${x[0].x} ${x[0].y} ${x[0].fuzzy} ${x[0].extension} ${x[0].color}`),"0px"==x[1].x&&"0px"==x[1].y&&"0px"==x[1].fuzzy&&"0px"==x[1].extension||(e.option.style.boxShadow=`inset ${x[1].x} ${x[1].y} ${x[1].fuzzy} ${x[1].extension} ${x[1].color}`)):e.option.style.boxShadow=`${x[0].x} ${x[0].y} ${x[0].fuzzy} ${x[0].extension} ${x[0].color} ,inset ${x[1].x} ${x[1].y} ${x[1].fuzzy} ${x[1].extension} ${x[1].color}`})),()=>{let a,h,I;return s(C,null,[e.option.writingStyle&&s("div",null,[s("div",{class:"elCollapseItem title"},[p("文字样式")]),s("div",{class:"elCollapseItem"},[s("div",{class:"shadow"},[s("div",{class:"shadow-setting"},[s("div",{class:"shadow-setting-item"},[s("div",{class:"shadowColor"},[s(c("el-color-picker"),{"show-alpha":!0,modelValue:t.color,"onUpdate:modelValue":e=>t.color=e},null)]),s("label",null,[p("颜色")])]),s("div",{class:"shadow-setting-item"},[s(ve,{modelValue:t.fontSize,"onUpdate:modelValue":e=>t.fontSize=e,onChange:e=>w(e,"fontSize",t),onFocus:e=>S(t.fontSize,t)},null),s("label",null,[p("字号")])])]),s("div",{class:"shadow-setting"},[s("div",{class:"shadow-setting-item"},[s(c("el-select"),{modelValue:t.fontWeight,"onUpdate:modelValue":e=>t.fontWeight=e,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Oe(a=o.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?a:{default:()=>[a]}),s("label",null,[p("字重")])]),s("div",{class:"shadow-setting-item"},[s(c("el-select"),{modelValue:t.fontFamily,"onUpdate:modelValue":e=>t.fontFamily=e,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Oe(h=l.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?h:{default:()=>[h]}),s("label",null,[p("字体")])]),s("div",{class:"shadow-setting-item"},[s(c("el-select"),{modelValue:t.lineHeight,"onUpdate:modelValue":e=>t.lineHeight=e,filterable:!0,"allow-create":!0,remote:!0,"default-first-option":!0,placeholder:" "},Oe(I=i.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?I:{default:()=>[I]}),s("label",null,[p("行间距")])])])])])]),e.option.bgColor&&s("div",null,[s("div",{class:"elCollapseItem title"},[p("背景颜色")]),s("div",{class:"elCollapseItem bgColorPicker"},[s(c("el-color-picker"),{"show-alpha":!0,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e},null)])]),e.option.border&&s("div",null,[s("div",{class:"elCollapseItem title"},[p("边框")]),s("div",{class:"elCollapseItem elCollapseBorder"},[s("div",{class:"elCollapseBorder-icon"},[s("div",null,null),s("div",{class:"common"},[s("div",{class:["top","borderTop"==d.isBorderActive?"active-top":""],onClick:()=>r("borderTop")},null)]),s("div",null,null),s("div",{class:"common"},[s("div",{class:["left","borderLeft"==d.isBorderActive?"active-left":""],onClick:()=>r("borderLeft")},null)]),s("div",{class:"common"},[s("div",{class:["middle","border"==d.isBorderActive?"active-middle":""],onClick:()=>r("border")},null)]),s("div",{class:"common"},[s("div",{class:["right","borderRight"==d.isBorderActive?"active-right":""],onClick:()=>r("borderRight")},null)]),s("div",null,null),s("div",{class:"common"},[s("div",{class:"bottom"},null),s("div",{class:["bottom","borderBottom"==d.isBorderActive?"active-bottom":""],onClick:()=>r("borderBottom")},null)]),s("div",null,null)]),s("div",{class:"elCollapseBorder-setting"},[s(he,{modelValue:d.borderValue,onChange:m},null),s("div",{class:"lineAndColor"},[s("div",{class:"line"},[s(ve,{readonly:!0,modelValue:d.selectInputValue,"onUpdate:modelValue":e=>d.selectInputValue=e,placeholder:"请选择",onFocus:()=>{d.showSelect=!0},onBlur:()=>{d.showSelect=!1}},null),u(s("ul",{class:"select"},[v.map((e=>s("li",{onMousedown:()=>{var t;t=e.text,d.selectInputValue=t}},[e.render()])))]),[[E,d.showSelect]])]),s("div",{class:"color"},[s(ye,{modelValue:d.color,"onUpdate:modelValue":e=>d.color=e,"show-alpha":!0},null)])])])])]),e.option.marginAndPadding&&s("div",null,[s("div",{class:"elCollapseItem title"},[p("边距")]),y.map(((e,t)=>s("div",{class:"elCollapseItem"},[s("div",{class:"marginAndPadding"},[s("p",null,[e.label]),s("div",{class:"marginAndPadding-setting"},[s("div",{class:"marginAndPadding-setting-item"},[s(ve,{modelValue:e.top,"onUpdate:modelValue":t=>e.top=t,onChange:e=>w(e,"top",y[t]),onFocus:l=>S(e.top,y[t])},null),s("label",null,[p("top")])]),s("div",{class:"marginAndPadding-setting-item"},[s(ve,{modelValue:e.bottom,"onUpdate:modelValue":t=>e.bottom=t,onChange:e=>w(e,"bottom",y[t]),onFocus:l=>S(e.bottom,y[t])},null),s("label",null,[p("bottom")])]),s("div",{class:"marginAndPadding-setting-item"},[s(ve,{modelValue:e.left,"onUpdate:modelValue":t=>e.left=t,onChange:e=>w(e,"left",y[t]),onFocus:l=>S(e.left,y[t])},null),s("label",null,[p("left")])]),s("div",{class:"marginAndPadding-setting-item"},[s(ve,{modelValue:e.right,"onUpdate:modelValue":t=>e.right=t,onChange:e=>w(e,"right",y[t]),onFocus:l=>S(e.right,y[t])},null),s("label",null,[p("right")])])])])]))),s("div",{class:"margin-border-self"},null)]),e.option.radius&&s("div",null,[s("div",{class:"elCollapseItem title"},[p("圆角")]),s("div",{class:"elCollapseItem elCollapseRadius"},[s("div",{class:"elCollapseRadius-icon"},[s("div",{class:["common all",f.isRadiusAllActive?"active":""],onClick:()=>{f.isRadiusAllActive=!0,f.isRadiusSelfActive=!1,b()}},null),s("div",{class:["common self",f.isRadiusSelfActive?"active":""],onClick:()=>{f.isRadiusAllActive=!1,f.isRadiusSelfActive=!0,b()}},null)]),s("div",{class:"elCollapseRadius-setting"},[s(ve,{modelValue:f.radiusValue,"onUpdate:modelValue":e=>f.radiusValue=e,disabled:!f.isRadiusAllActive,onChange:e=>{w(e,"radiusValue",f),f.radiusTLValue=f.radiusTRValue=f.radiusBLValue=f.radiusBRValue=f.radiusValue},onFocus:e=>S(f.radiusValue,f)},null),f.tipIsshow&&s("div",{class:"elCollapseRadius-setting-tip"},[s("span",null,[f.tip]),f.isRadiusAllActive&&s("i",{class:"icon iconfont icon-cha",onClick:e=>{f.tipIsshow=!1}},null)])])]),u(s("div",{class:"elCollapseItem elCollapseRadius"},[s(ve,{modelValue:f.radiusTLValue,"onUpdate:modelValue":e=>f.radiusTLValue=e,onChange:e=>{w(e,"radiusTLValue",f),g()},onFocus:e=>S(f.radiusTLValue,f)},null),s(ve,{class:"radiusSelfInput",modelValue:f.radiusTRValue,"onUpdate:modelValue":e=>f.radiusTRValue=e,onChange:e=>{w(e,"radiusTRValue",f),g()},onFocus:e=>S(f.radiusTRValue,f)},null),s(ve,{class:"radiusSelfInput",modelValue:f.radiusBLValue,"onUpdate:modelValue":e=>f.radiusBLValue=e,onChange:e=>{w(e,"radiusBLValue",f),g()},onFocus:e=>S(f.radiusBLValue,f)},null),s(ve,{class:"radiusSelfInput",modelValue:f.radiusBRValue,"onUpdate:modelValue":e=>f.radiusBRValue=e,onChange:e=>{w(e,"radiusBRValue",f),g()},onFocus:e=>S(f.radiusBRValue,f)},null)]),[[E,f.isRadiusSelfActive]]),u(s("div",{class:"elCollapseItem elCollapseRadius"},[s("div",{class:"radiusCommon radius-top-left"},null),s("div",{class:"radiusCommon radius-top-right"},null),s("div",{class:"radiusCommon radius-bottom-left"},null),s("div",{class:"radiusCommon  radius-bottom-right"},null)]),[[E,f.isRadiusSelfActive]])]),e.option.shadow&&s("div",null,[s("div",{class:"elCollapseItem title"},[p("阴影")]),x.map(((e,t)=>s("div",{class:"elCollapseItem"},[s("div",{class:"shadow"},[s("p",null,[e.label]),s("div",{class:"shadow-setting"},[s("div",{class:"shadow-setting-item"},[s("div",{class:"shadowColor"},[s(c("el-color-picker"),{"show-alpha":!0,modelValue:e.color,"onUpdate:modelValue":t=>e.color=t},null)]),s("label",null,[p("颜色")])]),s("div",{class:"shadow-setting-item"},[s(ve,{modelValue:e.x,"onUpdate:modelValue":t=>e.x=t,onChange:e=>w(e,"x",x[t]),onFocus:l=>S(e.x,x[t])},null),s("label",null,[p("X值")])]),s("div",{class:"shadow-setting-item"},[s(ve,{modelValue:e.y,"onUpdate:modelValue":t=>e.y=t,onChange:e=>w(e,"y",x[t]),onFocus:l=>S(e.y,x[t])},null),s("label",null,[p("Y值")])]),s("div",{class:"shadow-setting-item"},[s(ve,{modelValue:e.fuzzy,"onUpdate:modelValue":t=>e.fuzzy=t,onChange:e=>w(e,"fuzzy",x[t]),onFocus:l=>S(e.fuzzy,x[t])},null),s("label",null,[p("模糊值")])]),s("div",{class:"shadow-setting-item"},[s(ve,{modelValue:e.extension,"onUpdate:modelValue":t=>e.extension=t,onChange:e=>w(e,"extension",x[t]),onFocus:l=>S(e.extension,x[t])},null),s("label",null,[p("扩展值")])])])])])))])])}}});function Ue(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!D(e)}const $e=l({props:{setting:{type:Object}},setup(e){const t=U(re),l=A(re),o=o=>{"触发方式"==e.setting.value&&(l.EditorDataMap.get(t.selectKey).bubblePrompt.triggerMode=o.value),"提示位置"==e.setting.value&&(l.EditorDataMap.get(t.selectKey).bubblePrompt.promptLocation=o.value),"尺寸"==e.setting.value&&(l.EditorDataMap.get(t.selectKey).size=a(o.value))},a=e=>"中"==e?"default":"小"==e?"small":"large";return()=>{let i,n;return s("div",{class:"elCollapseItem base-settings"},[s("p",null,[e.setting.value]),"button"==l.EditorDataMap.get(t.selectKey).type&&s(fe,{class:"ml-4"},Ue(i=e.setting.options.map((e=>s(c("el-button"),{size:"small",class:[e.value==l.EditorDataMap.get(t.selectKey).bubblePrompt.triggerMode?"buttonSelected":"",e.value==l.EditorDataMap.get(t.selectKey).bubblePrompt.promptLocation?"buttonSelected":"",a(e.value)==l.EditorDataMap.get(t.selectKey).size?"buttonSelected":""],onClick:()=>{o(e)}},{default:()=>[e.value]}))))?i:{default:()=>[i]}),"button"!=l.EditorDataMap.get(t.selectKey).type&&s(fe,{class:"ml-4"},Ue(n=e.setting.options.map((e=>s(c("el-button"),{size:"small",class:[a(e.value)==l.EditorDataMap.get(t.selectKey).size?"buttonSelected":""],onClick:()=>{o(e)}},{default:()=>[e.value]}))))?n:{default:()=>[n]})])}}}),Ne=l({props:{label:{type:String},setting:{type:Object},otherShow:{type:Boolean}},setup(e){const t=U(re),l=A(re),o=r("editorConfig");e.setting.icon&&e.setting.iconText&&(e.setting.isFill=!0,e.setting.clearable=!0);const a=o.iconList.map((e=>e.defaultData.icon.split(" ")[2]));return document.addEventListener("click",(()=>{e.setting.isShowList&&(e.setting.isShowList=!1)})),()=>s("div",{class:"elCollapseItem base-settings flexSelectContainer"},[s("p",null,[e.label]),s("div",{class:"flexSelect",onClick:t=>(t=>{e.setting.isShowList?e.setting.isShowList=!1:e.setting.isShowList=!0,t.stopPropagation()})(t)},[s("div",{class:"iconContext"},[e.setting.isFill?s(C,null,[s("span",{class:["icon iconfont",e.setting.icon]},null),s("span",{class:"context"},[e.setting.iconText])]):"请选择图标"]),u(s("span",{class:["clear icon iconfont",e.setting.clearIcon],onClick:o=>(o=>{e.setting.isShowList=!1,e.setting.isFill=!e.setting.isFill,e.setting.clearable=!e.setting.clearable,"左侧图标"==e.label&&(l.EditorDataMap.get(t.selectKey).icon.leftIcon=""),"右侧图标"==e.label&&(l.EditorDataMap.get(t.selectKey).icon.rightIcon=""),o.stopPropagation()})(o),onMouseover:()=>e.setting.clearIcon="icon-cha1",onMouseout:()=>e.setting.clearIcon="icon-cha"},null),[[E,e.setting.clearable]])]),u(s("ul",{class:"flexSelectUl"},[a.map((o=>s("li",{class:"flexSelectUl-option",onClick:a=>(o=>{e.setting.isShowList=!1,e.setting.clearable=!0,e.setting.isFill=!0,e.setting.icon=o,e.setting.iconText=o.replace("icon-",""),"左侧图标"==e.label&&(l.EditorDataMap.get(t.selectKey).icon.leftIcon=o),"右侧图标"==e.label&&(l.EditorDataMap.get(t.selectKey).icon.rightIcon=o),"修改图标"==e.label&&(l.EditorDataMap.get(t.selectKey).icon=`icon iconfont ${o}`)})(o)},[s("span",{class:["icon iconfont",o]},null)])))]),[[E,e.setting.isShowList]])])}});function _e(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!D(e)}const We=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({value:"div",options:[{value:"header"},{value:"nav"},{value:"section"},{value:"main"},{value:"footer"},{value:"div"},{value:"p"}]});e.option.containerLabels&&(l.value=e.option.containerLabels);const o=a({value:"默认(static)",options:[{value:"默认(static)"},{value:"绝对(relative)"},{value:"相对(absolute)"},{value:"固定(fixed)"}]});e.option.style.position&&("relative"==e.option.style.position&&(o.value="绝对(relative)"),"absolute"==e.option.style.position&&(o.value="相对(absolute)"),"fixed"==e.option.style.position&&(o.value="固定(fixed)"));const i=a([{label:"高度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"自动适配",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}},{label:"宽度",adapter:!0,max:0,min:0,maxUnit:"px",minUnit:"px",value:0,valueUnit:"px",scrollMode:{value:"超出显示",options:[{value:"超出显示"},{value:"超出隐藏"},{value:"超出滚动"},{value:"自动适配"}]}}]),n=[{value:"px"},{value:"em"},{value:"%"},{value:"vw"},{value:"vh"}];e.option.style.width&&(i[1].value=e.option.style.width.match(/^\d+/)[0],i[1].valueUnit=e.option.style.width.match(/^(\d+)(.*)/)[2]),e.option.style.height&&(i[0].value=e.option.style.height.match(/^\d+/)[0],i[0].valueUnit=e.option.style.height.match(/^(\d+)(.*)/)[2]),e.option.style.maxHeight&&(i[0].max=e.option.style.maxHeight.match(/^\d+/)[0],i[0].maxUnit=e.option.style.maxHeight.match(/^(\d+)(.*)/)[2]),e.option.style.minHeight&&(i[0].min=e.option.style.minHeight.match(/^\d+/)[0],i[0].minUnit=e.option.style.minHeight.match(/^(\d+)(.*)/)[2]),e.option.style.maxWidth&&(i[0].max=e.option.style.maxWidth.match(/^\d+/)[0],i[0].maxUnit=e.option.style.maxWidth.match(/^(\d+)(.*)/)[2]),e.option.style.minWidth&&(i[0].min=e.option.style.minWidth.match(/^\d+/)[0],i[0].minUnit=e.option.style.minWidth.match(/^(\d+)(.*)/)[2]),e.option.style.overflowY&&("visible"==e.option.style.overflowY&&(i[0].scrollMode.value="超出显示"),"hidden"==e.option.style.overflowY&&i[0].scrollMode.value,"scroll"==e.option.style.overflowY&&i[0].scrollMode.value,"auto"==e.option.style.overflowY&&i[0].scrollMode.value),e.option.style.overflowX&&("visible"==e.option.style.overflowX&&(i[1].scrollMode.value="超出显示"),"hidden"==e.option.style.overflowX&&i[1].scrollMode.value,"scroll"==e.option.style.overflowX&&i[1].scrollMode.value,"auto"==e.option.style.overflowX&&i[1].scrollMode.value);const u=a({list:[{icon:"icon-zuoduiqi",active:!0,attribute:"left"},{icon:"icon-juzhongduiqi",active:!1,attribute:"center"},{icon:"icon-youduiqi",active:!1,attribute:"right"},{icon:"icon-zuoyouduiqi",active:!1,attribute:"justify"}],value:"left"}),d=a({alignmentLabel:"块级(block)设置",flexisShow:!1,options:[{icon:"icon-a-Displayblock",active:!0,alignmentLabel:"块级(block)设置"},{icon:"icon-a-Displayinline-block",active:!1,alignmentLabel:"行内块(inline-block)设置"},{icon:"icon-a-Displayinline",active:!1,alignmentLabel:"行内(inline)设置"},{icon:"icon-a-Displayflex",active:!1,alignmentLabel:"flex布局设置"}],flexList:[{label:"布局方向",list:[{value:"水平方向",attribute:"row"},{value:"垂直方向",attribute:"column"},{value:"水平反向",attribute:"row-reverse"},{value:"垂直反向",attribute:"column-reverse"}],value:"水平方向"},{label:"水平对齐",list:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],value:"左对齐"},{label:"垂直对齐",list:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}],value:"顶部对齐"},{label:"是否换行",list:[{value:"不换行",attribute:"nowrap"},{value:"自动换行",attribute:"wrap"},{value:"自动换行(颠倒)",attribute:"wrap-reverse"}],value:"不换行"}],flexAttribute:["","","",""],flexDirectionMap:new Map}),r=e=>{d.flexList[e].list.some((t=>{t.attribute==d.flexAttribute[e]&&(d.flexList[e].value=t.value)}))};return(()=>{if(e.option.style.display)if(d.options.forEach((e=>e.active=!1)),"flex"==e.option.style.display)d.alignmentLabel="flex布局设置",d.options[3].active=!0,d.flexisShow=!0,e.option.style.flexDirection&&(d.flexAttribute[0]=e.option.style.flexDirection,r(0)),e.option.style.justifyContent&&(d.flexAttribute[1]=e.option.style.justifyContent,r(1)),e.option.style.alignItems&&(d.flexAttribute[2]=e.option.style.alignItems,r(2)),e.option.style.flexWrap&&(d.flexAttribute[3]=e.option.style.flexWrap,r(3));else if(e.option.style.textAlign){let t=0;"inline-block"==e.option.style.display&&(t=1),"inline"==e.option.style.display&&(t=2),d.alignmentLabel=d.options[t].alignmentLabel,d.options[t].active=!0,u.value=e.option.style.textAlign,u.list.forEach((e=>{e.active=!1,u.value==e.attribute&&(e.active=!0)}))}})(),d.flexDirectionMap.set("row",{jc:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),d.flexDirectionMap.set("column",{jc:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),d.flexDirectionMap.set("row-reverse",{jc:[{value:"右对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"左对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"顶部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"底部对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"高度撑满",attribute:"stretch"}]}),d.flexDirectionMap.set("column-reverse",{jc:[{value:"底部对齐",attribute:"flex-start"},{value:"垂直居中",attribute:"center"},{value:"顶部对齐",attribute:"flex-end"},{value:"两端对齐",attribute:"space-between"},{value:"间隔分布",attribute:"space-around"}],ai:[{value:"左对齐",attribute:"flex-start"},{value:"水平居中",attribute:"center"},{value:"右对齐",attribute:"flex-end"},{value:"基线对齐",attribute:"baseline"},{value:"水平铺开",attribute:"stretch"}]}),L((()=>{"div"!=l.value?e.option.containerLabels=l.value:delete e.option.containerLabels,o.value.includes("static")?delete e.option.style.position:e.option.style.position=o.value.match(/\((.*?)\)/)[1],0!=i[0].max?e.option.style.maxHeight=`${i[0].max}${i[0].maxUnit}`:delete e.option.style.maxHeight,0!=i[0].min?e.option.style.minHeight=`${i[0].min}${i[0].minUnit}`:delete e.option.style.minHeight,0!=i[1].max?e.option.style.maxWidth=`${i[1].max}${i[1].maxUnit}`:delete e.option.style.maxWidth,0!=i[1].min?e.option.style.minWidth=`${i[1].min}${i[1].minUnit}`:delete e.option.style.minWidth,0!=i[0].value?e.option.style.height=`${i[0].value}${i[0].valueUnit}`:delete e.option.style.height,0!=i[1].value?e.option.style.width=`${i[1].value}${i[1].valueUnit}`:delete e.option.style.width,"超出显示"==i[0].scrollMode.value&&(e.option.style.overflowY="visible"),"超出隐藏"==i[0].scrollMode.value&&(e.option.style.overflowY="hidden"),"超出滚动"==i[0].scrollMode.value&&(e.option.style.overflowY="scroll"),"自动适配"==i[0].scrollMode.value&&(e.option.style.overflowY="auto"),"超出显示"==i[1].scrollMode.value&&(e.option.style.overflowX="visible"),"超出隐藏"==i[1].scrollMode.value&&(e.option.style.overflowX="hidden"),"超出滚动"==i[1].scrollMode.value&&(e.option.style.overflowX="scroll"),"自动适配"==i[1].scrollMode.value&&(e.option.style.overflowX="auto"),e.option.style.display=d.alignmentLabel.match(/[a-zA-Z]+/g)[0],d.flexisShow?(""!=d.flexAttribute[0]&&(e.option.style.flexDirection=d.flexAttribute[0]),""!=d.flexAttribute[1]&&(e.option.style.justifyContent=d.flexAttribute[1]),""!=d.flexAttribute[2]&&(e.option.style.alignItems=d.flexAttribute[2]),""!=d.flexAttribute[3]&&(e.option.style.flexWrap=d.flexAttribute[3])):"left"!=u.value?e.option.style.textAlign=u.value:delete e.option.style.textAlign})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic",class:"container"},{default:()=>[s(Re,{label:"容器标签",setting:l},null)]}),s(c("elCollapseItem"),{title:"布局",name:"layout",class:"container"},{default:()=>[s(Re,{label:"定位模式",setting:o},null),i.map(((e,t)=>{let l,o,a;return s(C,null,[s("div",{class:"elCollapseItem"},[s("p",null,[e.label,p("设置")]),s("div",{class:"container-changeBtn"},[s("button",{class:{active:e.adapter},onClick:t=>e.adapter=!0},[p("适配")]),s("button",{class:{active:!e.adapter},onClick:t=>e.adapter=!1},[p("固定")])])]),e.adapter&&s("div",null,[s("div",{class:"elCollapseItem container-settings-wh"},[s("p",null,[p("最大"),e.label]),s("div",null,[s(ve,{modelValue:e.max,"onUpdate:modelValue":t=>e.max=t},null),s(c("el-select"),{modelValue:i[t].maxUnit,"onUpdate:modelValue":e=>i[t].maxUnit=e},_e(l=n.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?l:{default:()=>[l]})])]),s("div",{class:"elCollapseItem container-settings-wh"},[s("p",null,[p("最小"),e.label]),s("div",null,[s(ve,{modelValue:e.min,"onUpdate:modelValue":t=>e.min=t},null),s(c("el-select"),{modelValue:i[t].minUnit,"onUpdate:modelValue":e=>i[t].minUnit=e},_e(o=n.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?o:{default:()=>[o]})])])]),!e.adapter&&s("div",null,[s("div",{class:"elCollapseItem container-settings-wh"},[s("p",null,[e.label]),s("div",null,[s(ve,{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null),s(c("el-select"),{modelValue:i[t].valueUnit,"onUpdate:modelValue":e=>i[t].valueUnit=e},_e(a=n.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?a:{default:()=>[a]})])]),s(Re,{label:"滚动模式",setting:i[t].scrollMode},null)])])})),s("div",{class:"elCollapseItem container-displayType"},[s("p",null,[p("显示方式(display)")]),d.options.map((e=>s("div",{class:{active:e.active,"container-displayType-item":!0},onClick:t=>{d.options.forEach((e=>e.active=!1)),e.active=!0,d.alignmentLabel=e.alignmentLabel,e.alignmentLabel.includes("flex")?d.flexisShow=!0:d.flexisShow=!1}},[s("i",{class:[e.icon,"icon","iconfont"]},null)])))]),s("div",{class:"elCollapseItem container-alignment"},[s("div",{class:"alignmentContent"},[s("p",null,[d.alignmentLabel]),!d.flexisShow&&s("div",{class:"alignmentContent-list"},[u.list.map((e=>s("div",{class:{active:e.active,"container-alignment-item":!0},onClick:t=>{u.list.forEach((e=>e.active=!1)),e.active=!0,u.value=e.attribute}},[s("i",{class:[e.icon,"icon","iconfont"]},null)])))]),d.flexisShow&&d.flexList.map(((e,t)=>{let l;return s("div",{class:"flexlayout-list"},[s("div",{class:"flexlayout-list-item"},[s("p",null,[e.label]),s(c("el-select"),{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,onChange:l=>{let o=e.list.filter((t=>{if(t.value==e.value)return t}));d.flexAttribute[t]=o[0].attribute,0==t&&(d.flexList[1].list=d.flexDirectionMap.get(o[0].attribute).jc,d.flexList[2].list=d.flexDirectionMap.get(o[0].attribute).ai,d.flexList[1].value=d.flexList[1].list[0].value,d.flexList[2].value=d.flexList[2].list[0].value,d.flexAttribute[1]=d.flexList[1].list[0].attribute,d.flexAttribute[2]=d.flexList[2].list[0].attribute)}},_e(l=e.list.map((e=>s(c("el-option"),{key:e.value,value:e.value},null))))?l:{default:()=>[l]})])])}))])])]})]})])}}),He=l({props:{setting:{type:Object}},setup(e){const t={triggerMode:{value:"触发方式",options:[{value:"鼠标悬浮"},{value:"聚焦"}]},promptLocation:{value:"提示位置",options:[{value:"上"},{value:"左"},{value:"下"},{value:"右"}]}};return()=>s("div",{class:"basicPopup"},[s("div",{class:"basicPopup-triangle"},null),s("div",{class:"basicPopup-boxBgc"},[e.setting.textarea.map((e=>s("div",{class:"basicPopup-box"},[s("p",null,[e.label]),s(ve,{type:"textarea",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,resize:"none",class:"input","input-style":{height:"80px"}},null)]))),u(s($e,{setting:t.triggerMode},null),[[E,e.setting.hasTriggerMode]]),u(s($e,{setting:t.promptLocation},null),[[E,e.setting.hasPromptLocation]]),s("div",{class:"seizeAseat"},null)])])}});class Ye{constructor(e){t(this,"containerElement",null),t(this,"rectList",[]),t(this,"handle",null),t(this,"drag",{element:null,index:0,firstIndex:0}),t(this,"clone",{element:null}),t(this,"diff",{x:null,y:null}),t(this,"isMouseDown",!1),t(this,"dragData",null),t(this,"dragClassName",null),t(this,"cloneClassName",null),t(this,"animation",".5s"),this.containerElement=e.el,this.handle=e.handle,this.dragData=a(e.dragData),this.dragClassName=e.dragClassName,this.cloneClassName=e.cloneClassName,e.animation&&(this.animation=e.animation),this.init()}init(){this.bindEventListener(),this.getRectList()}getRectList(){this.rectList.length=0;for(const e of this.containerElement.children)this.rectList.push(e.getBoundingClientRect())}onMouseDown(e){const{clientY:t,clientX:l,target:o}=e;if(o==this.containerElement||!o.classList.contains(this.handle))return;this.getRectList(),this.isMouseDown=!0,this.drag.element=this.findActionNode(o),this.drag.element.classList.add(this.dragClassName),this.clone.element=this.drag.element.cloneNode(!0),document.body.appendChild(this.clone.element),this.clone.element.className=this.cloneClassName;const a=[].indexOf.call(this.containerElement.children,this.drag.element);this.drag.index=a,this.drag.firstIndex=a;const{top:i,left:n}=this.drag.element.getBoundingClientRect();this.diff.x=l-n,this.diff.y=t-i,this.clone.element.style.top=`${i}px`,this.clone.element.style.left=`${n}px`;for(const s of this.containerElement.children)s.style.transition=`transform ${this.animation}`}onMouseMove(e){if(this.isMouseDown){this.clone.element.style.top=e.clientY-this.diff.y+"px";for(let t=0;t<this.rectList.length;t++)if(t!==this.drag.index&&e.clientX>this.rectList[t].left&&e.clientX<this.rectList[t].right&&e.clientY>this.rectList[t].top&&e.clientY<this.rectList[t].bottom){if(this.drag.index<t)for(let o=this.drag.index;o<t;o++)if(o<this.drag.firstIndex)this.containerElement.children[o].style.transform="translate3d(0px, 0px, 0)";else{const e=this.rectList[o].left-this.rectList[o+1].left,t=this.rectList[o].top-this.rectList[o+1].top;this.containerElement.children[o+1].style.transform="translate3d("+e+"px, "+t+"px, 0)"}else if(this.drag.index>t)for(let o=t;o<this.drag.index;o++)if(this.drag.firstIndex<=o)this.containerElement.children[o+1].style.transform="translate3d(0px, 0px, 0)";else{const e=this.rectList[o+1].left-this.rectList[o].left,t=this.rectList[o+1].top-this.rectList[o].top;this.containerElement.children[o].style.transform="translate3d("+e+"px, "+t+"px, 0)"}const e=this.rectList[t].left-this.rectList[this.drag.firstIndex].left,l=this.rectList[t].top-this.rectList[this.drag.firstIndex].top;this.drag.element.style.transform="translate3d("+e+"px, "+l+"px, 0)",this.drag.index=t;break}}}onMouseUp(){if(this.isMouseDown){this.isMouseDown=!1,this.drag.element.classList.remove(this.dragClassName),this.clone.element.remove();for(const t of this.containerElement.children)t.style.transition="none",t.style.transform="translate3d(0px, 0px, 0px)";let e=this.dragData[this.drag.firstIndex];this.dragData.splice(this.drag.firstIndex,1),this.dragData.splice(this.drag.index,0,e)}}bindEventListener(){this.containerElement.addEventListener("mousedown",this.onMouseDown.bind(this)),this.containerElement.addEventListener("mousemove",this.onMouseMove.bind(this)),window.addEventListener("mouseup",this.onMouseUp.bind(this))}findActionNode(e){return e.parentNode!=this.containerElement?this.findActionNode(e.parentNode):e}}const qe=l({props:{option:{type:Object},check:{type:Boolean}},setup(e){const t=o(null),l=a({isShow:!1,addData:""});b((()=>{new Ye({el:t.value,handle:"selectDataDrag",dragData:e.option.selectData,dragClassName:"active",cloneClassName:"drag-ghost"})}));const n=t=>{e.option.selectData.push({radio:!1,value:t,isShow:!1})},d=()=>{l.addData.split("\n").map((e=>{""!=e.trim()&&n(e)})),l.addData="",l.isShow=!1},r=()=>{e.option.selectData.map((e=>e.isShow=!1))};return window.addEventListener("click",r),i((()=>{window.removeEventListener("click",r)})),()=>s(C,null,[s("div",{class:"elCollapseItem"},[p("数据")]),s("div",{class:"selectDataList",ref:t},[e.option.selectData.map(((t,l)=>s("div",{class:"elCollapseItem"},[s("div",{class:"selectData"},[s("i",{class:"icon iconfont icon-drag selectDataDrag"},null),e.check&&s("input",{class:"selectData-radio",type:"checkbox",value:"true",name:"defaultValue",title:"默认选中",checked:t.radio,onChange:l=>{e.check&&(t.radio=!t.radio)}},null),!e.check&&s("input",{class:"selectData-radio",type:"radio",value:"true",name:"defaultValue",title:"默认选中",checked:t.radio,onChange:l=>{e.option.selectData.forEach((e=>e.radio=!1)),t.radio=!0,e.option.defaultValue.value=t.value}},null),s(ve,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,placeholder:"请输入选项的值"},null),s("div",{class:"selectData-menu",onClick:l=>{l.stopPropagation(),e.option.selectData.forEach((e=>e.isShow=!1)),t.isShow=!0}},[s("i",{class:"icon iconfont icon-caidan"},null),u(s("div",{class:"selectData-menu-dropdown"},[u(s("span",{onClick:e=>{e.stopPropagation(),t.isShow=!1,t.radio=!1}},[p("取消勾选")]),[[E,t.radio]]),s("span",{onClick:o=>{o.stopPropagation(),t.isShow=!1,e.option.selectData.length>1?e.option.selectData.splice(l,1):me.warning({message:"最后一项不可删除",duration:2e3})}},[p("删除")])]),[[E,t.isShow]])])])])))]),s("div",{class:"elCollapseItem selectDataList-footer"},[s(ge,{plain:!0,onClick:()=>n(`选项${e.option.selectData.length+1}`)},{default:()=>[p("添加选项")]}),s(ge,{plain:!0,onClick:()=>l.isShow=!0},{default:()=>[p("批量添加")]})]),s(c("el-dialog"),{"append-to-body":!0,title:"批量添加",modelValue:l.isShow,"onUpdate:modelValue":e=>l.isShow=e,width:"500px"},{default:()=>s(C,null,[s(c("el-alert"),{title:"每个选项单列一行，将所有值不重复的项加为新的选项;",type:"success",closable:!1},{default:()=>[" "]}),s(ve,{type:"textarea",modelValue:l.addData,"onUpdate:modelValue":e=>l.addData=e,autosize:{minRows:10,maxRows:100},placeholder:"请输入内容"},null)]),footer:()=>s("span",{class:"dialog-footer"},[s(ge,{onClick:()=>l.isShow=!1},{default:()=>[p("取 消")]}),s(ge,{type:"primary",onClick:d},{default:()=>[p("确 定")]})])})])}}),Xe=l({props:{option:{type:Object}},setup(e){const t=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Ke,{option:l},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),Je=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({pageTitle:{label:"页面标题",value:e.option.title?e.option.title:""},subtitle:{label:"副标题",value:e.option.subtitle?e.option.subtitle:""}});return L((()=>{e.option.title=l.pageTitle.value,e.option.subtitle=l.subtitle.value})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.pageTitle},null),s(W,{option:l.subtitle},null)]})]})])}}),Qe=l({props:{EditorData:Object},setup(){const e=r("erConfig"),t=U(re),l=A(re);return()=>{var o,a;return s("div",{key:l.modify.modifying},[s("div",{class:"property",key:t.selectKey},[e.componentMap.get(null==(o=t.selectKey)?void 0:o.replace(/-[^-]*$/,""))?e.componentMap.get(null==(a=t.selectKey)?void 0:a.replace(/-[^-]*$/,"")).Properties(l.EditorDataMap.get(t.selectKey)):s(Je,{option:l.EditorDataMap.get("page")},null)])])}}}),Ze=l({props:{EditorData:Object},setup(){const e=r("erConfig"),t=U(re),l=A(re);return()=>{var o,a;return s("div",{key:l.modify.modifying},[s("div",{class:"appearance",key:t.selectKey},[e.componentMap.get(null==(o=t.selectKey)?void 0:o.replace(/-[^-]*$/,""))?e.componentMap.get(null==(a=t.selectKey)?void 0:a.replace(/-[^-]*$/,"")).appearances(l.EditorDataMap.get(t.selectKey)):s(Xe,{option:l.EditorDataMap.get("page")},null)])])}}}),Ge=l({props:{option:{type:Object},isShow:{type:Boolean}},setup(e){const t=a({menuActive:e.option.title,openeds:["1","2","3","4","5"],data:Ce(H.handlerMap.get(e.option.title).defaultData),action:Ce(e.option)}),l=()=>{t.menuActive==t.action.title&&(t.data.value=t.action.content,"消息提醒"==t.menuActive&&(t.action.messageType&&(t.data.messageType.value=t.action.messageType),t.action.duration&&(t.data.duration.value=t.action.duration),t.action.messageContent&&(t.data.messageContent.value=t.action.messageContent)))};return n((()=>e.isShow),(o=>{o&&(t.menuActive=e.option.title,t.data=Ce(H.handlerMap.get(e.option.title).defaultData),t.action=Ce(e.option),l())}),{immediate:!0}),n((()=>t.menuActive),(()=>{t.data=Ce(H.handlerMap.get(t.menuActive).defaultData),l()}),{immediate:!0}),L((()=>{e.option.title=t.menuActive,e.option.content=t.data.value,"消息提醒"==t.menuActive&&(t.data.messageType&&(e.option.messageType=t.data.messageType.value),t.data.duration&&(e.option.duration=t.data.duration.value),t.data.messageContent&&(e.option.messageContent=t.data.messageContent.value,e.option.content=t.data.messageContent.value)),"组件可见性"==t.menuActive&&(e.option.otherOption.isHidden=t.data.isHidden,e.option.otherOption.target=t.data.target)})),()=>s(C,null,[s("div",{class:"events-config"},[s("div",{class:"events-config-menu"},[s(c("el-menu"),{"default-active":t.menuActive,"default-openeds":t.openeds,onSelect:e=>{t.menuActive=e}},{default:()=>[s(c("el-sub-menu"),{index:"1"},{default:()=>s(C,null,[s(c("el-menu-item"),{index:"跳转连接"},{default:()=>[p("跳转连接")]}),s(c("el-menu-item"),{index:"刷新页面"},{default:()=>[p("刷新页面")]}),s(c("el-menu-item"),{index:"回退页面"},{default:()=>[p("回退页面")]})]),title:()=>s("span",null,[p("页面")])}),s(c("el-sub-menu"),{index:"2"},{default:()=>s(C,null,[s(c("el-menu-item"),{index:"打开弹窗"},{default:()=>[p("打开弹窗")]}),s(c("el-menu-item"),{index:"关闭弹窗"},{default:()=>[p("关闭弹窗")]}),s(c("el-menu-item"),{index:"消息提醒"},{default:()=>[p("消息提醒")]})]),title:()=>s("span",null,[p("弹窗")])}),s(c("el-sub-menu"),{index:"3"},{default:()=>s(C,null,[s(c("el-menu-item"),{index:"发送请求"},{default:()=>[p("发送请求")]})]),title:()=>s("span",null,[p("服务")])}),s(c("el-sub-menu"),{index:"4"},{default:()=>s(C,null,[s(c("el-menu-item"),{index:"提交表单"},{default:()=>[p("提交表单")]}),s(c("el-menu-item"),{index:"重置表单"},{default:()=>[p("重置表单")]}),s(c("el-menu-item"),{index:"校验表单"},{default:()=>[p("校验表单")]})]),title:()=>s("span",null,[p("表单")])}),s(c("el-sub-menu"),{index:"5"},{default:()=>s(C,null,[s(c("el-menu-item"),{index:"组件可见性"},{default:()=>[p("组件可见性")]})]),title:()=>s("span",null,[p("组件")])})]})]),s("div",{class:"events-config-content"},[s("div",{class:"events-config-content-item"},[s("h3",{class:"events-config-content-item-title"},[p("动作说明")]),s("p",null,[H.handlerMap.get(t.menuActive).instructions])]),s("div",{class:"events-config-content-item"},[s("h3",{class:"events-config-content-item-title"},[p("动作配置")]),H.handlerMap.get(t.menuActive).configRender(t.data)])])])])}});const et=l({setup(){const e=U(re),t=A(re);let l=a({dialogIsShow:!0,addListIsShow:!1,eventsList:t.EditorDataMap.get(e.selectKey||"page").events||[],activeName:Array.from(H.eventMap.keys()),addAction:{title:"跳转连接",content:"",otherOption:{}},selectedEvent:null,selectedIndex:0,mouseEventsMap:new Map,isUpdate:!1});n((()=>e.selectKey),((e,o)=>{0==l.eventsList.length?delete t.EditorDataMap.get(o||"page").events:t.EditorDataMap.get(o||"page").events=l.eventsList,l.eventsList=t.EditorDataMap.get(e||"page").events||[],l.selectedEvent=null;for(let t of H.eventMap)l.mouseEventsMap.get(t[0]).exist=!1;for(let t of l.eventsList)l.mouseEventsMap.get(t.type).exist=!0})),L((()=>{t.EditorDataMap.get(e.selectKey||"page").events||0!=l.eventsList.length||(t.EditorDataMap.get(e.selectKey||"page").events=l.eventsList)}));for(let a of H.eventMap)l.mouseEventsMap.set(a[0],{type:a[1].type,name:a[1].name,exist:!1});for(let a of l.eventsList)l.mouseEventsMap.get(a.type).exist=!0;const o=()=>{l.addListIsShow=!1};window.addEventListener("click",o),i((()=>{window.removeEventListener("click",o)}));const u=()=>{l.addAction=Ce({title:"跳转连接",content:"",otherOption:{}})};return()=>{let t;return s(C,null,[s("div",{class:"events"},[s("div",{class:"events-addEvents",onClick:t=>{t.stopPropagation(),e.selectKey?l.addListIsShow=!l.addListIsShow:me.error("还没有选中节点！")}},[s("span",null,[p("添加事件")])]),l.addListIsShow&&s("div",{class:"events-addEvents-list"},[s("ul",null,[Array.from(l.mouseEventsMap.values()).map((e=>s("li",{onClick:t=>{t.stopPropagation(),e.exist||((e=>{l.eventsList.push({type:e.type,name:e.name,list:[]}),e.exist=!0})(e),o())},class:e.exist?"disabled":""},[e.name])))])]),s(c("elCollapse"),{modelValue:l.activeName,"onUpdate:modelValue":e=>l.activeName=e},(a=t=l.eventsList.map(((e,t)=>s("div",{class:"events-elCollapseItem"},[s("div",{class:"events-nav"},[s("i",{class:"icon iconfont icon-tianjia",onClick:t=>{return o=e,l.isUpdate=!1,u(),l.dialogIsShow=!0,void(l.selectedEvent=o);var o}},null),s("i",{class:"icon iconfont icon-shanchu",onClick:e=>{return o=t,l.mouseEventsMap.get(l.eventsList[o].type).exist=!1,void l.eventsList.splice(o,1);var o}},null)]),s(c("elCollapseItem"),{title:e.name,name:e.type},{default:()=>[s("div",{class:"events-list"},[e.list.map(((t,o)=>s("div",{class:"events-list-item"},[s("div",{class:"events-list-item-header"},[s("span",null,[t.title]),s("span",null,[s("i",{class:"icon iconfont icon-xiugai",onClick:t=>{return a=e,i=o,l.isUpdate=!0,l.addAction=Ce(a.list[i]),l.dialogIsShow=!0,l.selectedEvent=a,void(l.selectedIndex=i);var a,i}},null),s("i",{class:"icon iconfont icon-shanchu",onClick:t=>((e,t)=>{e.list.splice(t,1)})(e,o)},null)])]),s("div",{class:"events-list-item-content"},[H.handlerMap.get(t.title).selectedRender(t)])])))])]})]))),"function"==typeof a||"[object Object]"===Object.prototype.toString.call(a)&&!D(a)?t:{default:()=>[t]}))]),s(c("el-dialog"),{title:"事件配置",modelValue:l.dialogIsShow,"onUpdate:modelValue":e=>l.dialogIsShow=e,width:"60%",fullscreen:!0,"append-to-body":!0},{default:()=>s(Ge,{option:l.addAction,isShow:l.dialogIsShow},null),footer:()=>s("span",{class:"dialog-footer"},[s(c("el-button"),{onClick:e=>l.dialogIsShow=!1},{default:()=>[p("取 消")]}),s(c("el-button"),{type:"primary",onClick:e=>{""!=l.addAction.content.trim()?(l.dialogIsShow=!1,l.isUpdate?l.selectedEvent.list[l.selectedIndex]=Ce(l.addAction):l.selectedEvent.list.push(Ce(l.addAction)),u()):me.warning("内容不能为空")}},{default:()=>[p("确 定")]})])})]);var a}}}),tt={class:"ErComponent"},lt={class:"ErComponent-nav"},ot=["onClick"],at={class:"ErComponent-content"},it=l({__name:"EditorRight",props:["EditorData"],setup(e){const t=e,l=a([{label:"属性",active:!0,isShow:!0},{label:"外观",active:!1,isShow:!0},{label:"事件",active:!1,isShow:!0}]);return(e,o)=>(m(),v("div",tt,[h("div",lt,[(m(!0),v(C,null,w(l,((e,t)=>u((m(),v("label",{onClick:e=>(e=>{l.forEach(((t,l)=>{t.active=l==e}))})(t),class:V(["ErComponent-nav-btn",{active:e.active}])},k(e.label),11,ot)),[[E,e.isShow]]))),256))]),h("div",at,[l[0].active?(m(),S(y(Qe),{key:0,EditorData:t.EditorData},null,8,["EditorData"])):I("",!0),l[1].active?(m(),S(y(Ze),{key:1,EditorData:t.EditorData},null,8,["EditorData"])):I("",!0),l[2].active?(m(),S(y(et),{key:2})):I("",!0)])]))}}),nt=l({props:{dataKey:String,EditorDataMap:Object},setup(e){let t=null,l=e.EditorDataMap.get(e.dataKey),o={node:l,id:e.dataKey};return l.type.includes("container")&&(t=s(st,{dataKey:e.dataKey},null),o.children=t,o.childrenList=l.children),()=>{var e;return null==(e=Y.componentMap.get(l.type))?void 0:e.render(o)}}}),st=$(l({__name:"transitionDrag",props:["dataKey"],setup(e){const t=e,l=A(re);return(e,o)=>(m(),S(P,{"move-class":"move",class:"transition",tag:"div"},{default:M((()=>[(m(!0),v(C,null,w(y(l).EditorDataMap.get(t.dataKey).children,(e=>{return m(),v(C,{key:e},[(t=e,t.includes("container")?(m(),S(y(nt),{key:1,dataKey:e,EditorDataMap:y(l).EditorDataMap},null,8,["dataKey","EditorDataMap"])):(m(),S(y(nt),{key:0,dataKey:e,EditorDataMap:y(l).EditorDataMap},null,8,["dataKey","EditorDataMap"])))],64);var t})),128))])),_:1}))}}),[["__scopeId","data-v-944916cc"]]),ut=l({props:{EditorData:Object},setup(e){const t=A(re);let l=o(null);return b((()=>{l.value.attributes.childrenList=e.EditorData.get("page").children,t.rootNode=l})),()=>u(s("div",{class:"Editorcontainer",ref:l,onMouseenter:e=>K.mouseenter(e),onClick:e=>K.onclickToDrag(e),style:e.EditorData.style,"data-key":"page"},[s(st,{dataKey:"page"},null)]),[[x("contextmenu"),N]])}}),dt=l({props:{selectComponent:Function,unselectComponent:Function,makeACopy:Function,copycomponents:Function,shearComponents:Function,delComponents:Function,pasteComponents:Function,moveForward:Function,moveBack:Function,undo:Function,redo:Function,commands:Object},setup(e){const t=A(re);return()=>u(s("div",{class:"menu",style:t.menuConfig.style},[s(c("el-menu"),{class:"el-menu-vertical-demo","active-text-color":"#151b26","text-color":"#151b26"},{default:()=>[s(c("el-menu-item"),{index:"1",disabled:t.menuConfig.isShow.selectComponent},{default:()=>[s("div",{onClick:t=>e.selectComponent(t)},[p("选中组件")])]}),s(c("el-menu-item"),{index:"2",disabled:t.menuConfig.isShow.unselectComponent},{default:()=>[s("div",{onClick:t=>e.unselectComponent(t)},[p("取消选中")])]}),s("i",null,null),s(c("el-menu-item"),{index:"3",disabled:t.menuConfig.isShow.makeACopy},{default:()=>[s("div",{onClick:t=>e.makeACopy(t,e.commands)},[p("重复一份")])]}),s(c("el-menu-item"),{index:"4",disabled:t.menuConfig.isShow.copycomponents},{default:()=>[s("div",{onClick:t=>e.copycomponents(t)},[p("复制组件")])]}),s(c("el-menu-item"),{index:"5",disabled:t.menuConfig.isShow.shearComponents},{default:()=>[s("div",{onClick:t=>e.shearComponents(t,e.commands)},[p("剪切组件")])]}),s(c("el-menu-item"),{index:"6",disabled:t.menuConfig.isShow.pasteComponents},{default:()=>[s("div",{onClick:t=>e.pasteComponents(t,e.commands)},[p("粘贴组件")])]}),s(c("el-menu-item"),{index:"7",disabled:t.menuConfig.isShow.delComponents},{default:()=>[s("div",{onClick:t=>e.delComponents(t,e.commands)},[p("删除")])]}),s("i",null,null),s(c("el-menu-item"),{index:"8",disabled:t.menuConfig.isShow.moveForward},{default:()=>[s("div",{onClick:t=>e.moveForward(t)},[p("向前移动")])]}),s(c("el-menu-item"),{index:"9",disabled:t.menuConfig.isShow.moveBack},{default:()=>[s("div",{onClick:t=>e.moveBack(t)},[p("向后移动")])]}),s("i",null,null),s(c("el-menu-item"),{index:"10",disabled:t.menuConfig.isShow.undo},{default:()=>[s("div",{onClick:t=>e.undo(t,e.commands)},[p("撤销 (UnDo)")])]}),s(c("el-menu-item"),{index:"11",disabled:t.menuConfig.isShow.redo},{default:()=>[s("div",{onClick:t=>e.redo(t,e.commands)},[p("还原 (ReDo)")])]})]})]),[[E,t.menuConfig.isShowMenu]])}}),pt=l({props:{option:{type:Object}},setup(e){const t=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Ke,{option:l},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),rt=l({props:{option:{type:Object}},setup:e=>()=>s(We,{option:e.option},null)}),ct=l({props:{option:{type:Object}},setup(e){const t=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Ke,{option:l},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),mt=l({props:{option:{type:Object}},setup:e=>()=>s(We,{option:e.option},null)}),vt=l({props:{option:{type:Object}},setup(e){const t=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[s(Ke,{option:l},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),ht=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({value:"普通文字",options:[{value:"普通文字",label:"span"},{value:"段落",label:"p"},{value:"一级标题",label:"h1"},{value:"二级标题",label:"h2"},{value:"三级标题",label:"h3"},{value:"四级标题",label:"h4"},{value:"五级标题",label:"h5"},{value:"六级标题",label:"h6"}]}),o=a({whetherInline:{label:"内联模式",value:!0},textContent:{label:"文字内容",value:e.option.children}});e.option.style.display&&(o.whetherInline.value=!1);for(let a of l.options)if(a.label==e.option.label){l.value=a.value;break}return L((()=>{if(e.option.children=o.textContent.value,o.whetherInline.value?delete e.option.style.display:e.option.style.display="block",l.value)for(let t of l.options)if(t.value==l.value){e.option.label=t.label;break}})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"文字格式",setting:l},null),s(Fe,{option:o.whetherInline},null),s(W,{option:o.textContent},null)]})]})])}}),yt=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},o=a({value:"默认",options:[{value:"默认"},{value:"主要"},{value:"成功"},{value:"信息"},{value:"警告"},{value:"危险"}]}),i=a({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),n=a({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]}),d=a({blockDisplay:{label:"块状显示",value:!1},leftIconSize:{label:"左侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""},rightIconSize:{label:"右侧图标尺寸",value:"",placeholder:"请输入尺寸",oldValue:""}});""==e.option.buttonstyle?o.value="默认":"primary"==e.option.buttonstyle?o.value="主要":"success"==e.option.buttonstyle?o.value="成功":"info"==e.option.buttonstyle?o.value="信息":"warning"==e.option.buttonstyle?o.value="警告":o.value="危险","block"==e.option.style.display&&(d.blockDisplay.value=!0);let r=!1,m=!1;return r=!!e.option.icon.leftIcon,m=!!e.option.icon.rightIcon,e.option.icon.leftIconSize&&(d.leftIconSize.value=e.option.icon.leftIconSize),e.option.icon.leftIconSize&&(d.rightIconSize.value=e.option.icon.rightIconSize),L((()=>{"默认"==o.value?e.option.buttonstyle="":"主要"==o.value?e.option.buttonstyle="primary":"成功"==o.value?e.option.buttonstyle="success":"信息"==o.value?e.option.buttonstyle="info":"警告"==o.value?e.option.buttonstyle="warning":e.option.buttonstyle="danger",d.blockDisplay.value?e.option.style.display="block":e.option.style.display="",e.option.icon.leftIconSize=r?d.leftIconSize.value:"",e.option.icon.rightIconSize=m?d.rightIconSize.value:""})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"样式",setting:o},null),s(Fe,{option:d.blockDisplay},null),s($e,{setting:n},null)]}),s(c("elCollapseItem"),{title:"自定义样式",name:"customStyle"},{default:()=>[s(Re,{label:"状态",setting:i},null),s(Ke,{option:l},null),u(s(ze,{option:d.leftIconSize},null),[[E,r]]),u(s(ze,{option:d.rightIconSize},null),[[E,m]])]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})])}}),ft=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({bindingField:{label:"名称",value:"我的按钮",placeholder:"请输入名称"},twiceComfire:{label:"二次确认",value:!1},bubblePrompt:{label:"气泡提示",value:!1},leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},rightIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"},disable:{label:"禁用",value:!0}}),o=a({textarea:[{label:"确认内容",value:""}],hasTriggerMode:!1,hasPromptLocation:!1}),i=a({textarea:[{label:"正常提示",value:""},{label:"禁用信息",value:""}],hasTriggerMode:!0,hasPromptLocation:!0});return l.bindingField.value!=e.option.children&&(l.bindingField.value=e.option.children),e.option.twiceComfire.value?(l.twiceComfire.value=!0,o.textarea[0].value=e.option.twiceComfire.info):l.twiceComfire.value=!1,l.leftIconSelect.icon=e.option.icon.leftIcon?e.option.icon.leftIcon:"",l.leftIconSelect.iconText=e.option.icon.leftIcon?e.option.icon.leftIcon.replace("icon-",""):"",l.rightIconSelect.icon=e.option.icon.rightIcon?e.option.icon.rightIcon:"",l.rightIconSelect.iconText=e.option.icon.rightIcon?e.option.icon.rightIcon.replace("icon-",""):"",e.option.bubblePrompt.value?(l.bubblePrompt.value=!0,i.textarea[0].value=e.option.bubblePrompt.normalInfo,i.textarea[1].value=e.option.bubblePrompt.disableInfo):l.twiceComfire.value=!1,l.disable.value=e.option.isDisable,L((()=>{"我的按钮"!=l.bindingField.value&&(e.option.children=l.bindingField.value?l.bindingField.value:"我的按钮"),l.twiceComfire.value?(e.option.twiceComfire.value=!0,e.option.twiceComfire.info=o.textarea[0].value):(e.option.twiceComfire.value=!1,e.option.twiceComfire.info=o.textarea[0].value=""),l.bubblePrompt.value?(e.option.bubblePrompt.value=!0,e.option.bubblePrompt.normalInfo=i.textarea[0].value,e.option.bubblePrompt.disableInfo=i.textarea[1].value):(e.option.bubblePrompt.value=!1,e.option.bubblePrompt.normalInfo=i.textarea[0].value="",e.option.bubblePrompt.disableInfo=i.textarea[1].value="","鼠标悬浮"!=e.option.bubblePrompt.triggerMode&&(e.option.bubblePrompt.triggerMode="鼠标悬浮"),"下"!=e.option.bubblePrompt.promptLocation&&(e.option.bubblePrompt.promptLocation="下")),e.option.isDisable=l.disable.value})),n((()=>l.leftIconSelect.isShowList),(e=>{e&&l.rightIconSelect.isShowList&&(l.rightIconSelect.isShowList=!1)})),n((()=>l.rightIconSelect.isShowList),(e=>{e&&l.leftIconSelect.isShowList&&(l.leftIconSelect.isShowList=!1)})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.bindingField},null),s(Fe,{option:l.twiceComfire},null),u(s(He,{setting:o},null),[[E,l.twiceComfire.value]]),s(Ne,{label:"左侧图标",setting:l.leftIconSelect},null),s(Ne,{label:"右侧图标",setting:l.rightIconSelect},null),s(Fe,{option:l.bubblePrompt},null),u(s(He,{setting:i},null),[[E,l.bubblePrompt.value]])]}),s(c("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[s(Fe,{option:l.disable},null)]})]})])}}),gt=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({width:{label:"宽度",value:e.option.style.width,placeholder:"请输入输入框宽度",oldValue:""},height:{label:"高度",value:e.option.style.height,placeholder:"请输入输入框高度",oldValue:""}}),o=a({value:"常规",options:[{value:"常规"},{value:"悬浮"},{value:"点击"}]}),i={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style},n=a({value:"尺寸",options:[{value:"大"},{value:"中"},{value:"小"}]});return L((()=>{e.option.style.width=l.width.value,e.option.style.height=l.height.value})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.width},null),s(ze,{option:l.height},null),s($e,{setting:n},null)]}),s(c("elCollapseItem"),{title:"输入框样式",name:"inputStyle"},{default:()=>[s(Re,{label:"状态",setting:o},null),s(Ke,{option:i},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSourceCode"},{default:()=>[s("div",{class:"events"},[s("div",{class:"addEvents"},[s("span",null,[p("编辑样式源码")])])])]})]})])}}),bt=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({inputStyle:{value:"文本(text)",options:[{value:"文本(text)"},{value:"密码(password)"},{value:"邮箱(email)"}]},defaultValue:{label:"默认值",value:"",placeholder:"请输入输入框默认内容"},placeholderPrompt:{label:"占位提示",value:"",placeholder:"请输入占位提示"},clearable:{label:"可清除",value:!1},maxLength:{label:"最长输入长度",value:0,min:0},minLength:{label:"最小输入长度",value:0,min:0}}),o=a({hide:{label:"隐藏",value:!1},onlyRead:{label:"只读",value:!1},disable:{label:"禁用",value:!1},autofocus:{label:"自动对焦",value:!1}});let i=new RegExp("(?<=\\()(.+?)(?=\\))","g");return(()=>{if("input"!=e.option.inputStyle)for(let t=0;t<l.inputStyle.options.length;t++){let o=l.inputStyle.options[t].value.match(i);o[0]==e.option.inputStyle&&(l.inputStyle.value=l.inputStyle.options[t].value),"password"==o[0]&&(e.option.showPassword=!0)}l.defaultValue.value=e.option.value,l.placeholderPrompt.value=e.option.placeholder,l.clearable.value=e.option.clearable,l.maxLength.value=e.option.maxlength||0,l.minLength.value=e.option.minlength||0,l.maxLength.value&&0!=l.maxLength.value&&(e.option.showWordLimit=!0)})(),o.hide.value=e.option.hidden,o.onlyRead.value=e.option.readonly,o.disable.value=e.option.disabled,o.autofocus.value=e.option.autofocus,L((()=>{e.option.inputStyle=l.inputStyle.value.match(i)[0],"password"!=e.option.inputStyle&&(e.option.showPassword=!1),e.option.value=l.defaultValue.value,e.option.placeholder=l.placeholderPrompt.value,l.clearable.value?e.option.clearable=l.clearable.value:delete e.option.clearable,0!=l.maxLength.value?e.option.maxlength=l.maxLength.value:delete e.option.maxlength,0!=l.minLength.value?e.option.minlength=l.minLength.value:delete e.option.minlength,l.maxLength.value&&l.maxLength.value>0?e.option.showWordLimit=!0:e.option.showWordLimit=!1,o.hide.value?e.option.hidden=o.hide.value:delete e.option.hidden,o.onlyRead.value?e.option.readonly=o.onlyRead.value:delete e.option.readonly,o.disable.value?e.option.disabled=o.disable.value:delete e.option.disabled,o.autofocus.value?e.option.autofocus=o.autofocus.value:delete e.option.autofocus})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"输入类型",setting:l.inputStyle},null),s(ze,{option:l.defaultValue},null),s(ze,{option:l.placeholderPrompt},null),s(Fe,{option:l.clearable},null),s(q,{option:l.maxLength},null),s(q,{option:l.minLength},null)]}),s(c("elCollapseItem"),{title:"状态",name:"state"},{default:()=>[s(Fe,{option:o.hide},null),s(Fe,{option:o.onlyRead},null),s(Fe,{option:o.disable},null),s(Fe,{option:o.autofocus},null)]})]})])}}),xt=l({props:{option:{type:Object}},setup(e){const t=["basic","titleType","inputBoxType","styleSource"],l=a({inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style}});return(()=>{if(e.option.style.width){const{width:t}=e.option.style.width;"80px"==t?l.inputBoxSize.value="极小":"160px"==t?l.inputBoxSize.value="小":"240px"==t?l.inputBoxSize.value="中":"320px"==t&&(l.inputBoxSize.value="大")}})(),L((()=>{"极小"==l.inputBoxSize.value?e.option.style.width="80px":"小"==l.inputBoxSize.value?e.option.style.width="160px":"中"==l.inputBoxSize.value?e.option.style.width="240px":"大"==l.inputBoxSize.value?e.option.style.width="320px":delete e.option.style.width})),()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"下拉框尺寸",setting:l.inputBoxSize},null)]}),s(c("elCollapseItem"),{title:"下拉框样式",name:"inputBoxType"},{default:()=>[s(Ke,{option:l.inputBoxType},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),Ct=l({props:{option:{type:Object}},setup(e){const t=["basic","options"],l=a({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:""},filterable:{label:"可搜索",value:!!e.option.filterable&&e.option.filterable},multiple:{label:"是否多选",value:!!e.option.multiple&&e.option.multiple},defaultValue:{value:e.option.defaultValue?e.option.defaultValue:"",options:[]},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"},selectData:[{radio:!1,value:"选项A",isShow:!1},{radio:!1,value:"选项B",isShow:!1},{radio:!1,value:"选项C",isShow:!1}]});return e.option.selectData&&(l.selectData=e.option.selectData.map((e=>({...e,isShow:!1})))),L((()=>{""!=l.bindingField.value?e.option.bindingField=l.bindingField.value:delete e.option.bindingField,l.filterable.value?e.option.filterable=l.filterable.value:delete e.option.filterable,l.multiple.value?e.option.multiple=l.multiple.value:delete e.option.multiple,""!=l.defaultValue.value?e.option.defaultValue=l.defaultValue.value:delete e.option.defaultValue,""!=l.inputBoxPlaceholder.value?e.option.placeholder=l.inputBoxPlaceholder.value:delete e.option.placeholder,e.option.selectData=l.selectData.map((e=>({value:e.value,radio:e.radio}))),new Promise((e=>{let t=[];for(let o of l.selectData)""!=o.value.trim()&&t.push(o);e(t)})).then((e=>{l.defaultValue.options=e}))})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.bindingField},null),s(Fe,{option:l.multiple},null),s(Fe,{option:l.filterable},null),s(Re,{label:"默认值",setting:l.defaultValue,change:e=>{l.selectData.map((e=>e.radio=!1)),l.selectData.some((t=>{t.value==e&&(t.radio=!0)}))}},null),s(ze,{option:l.inputBoxPlaceholder},null)]}),s(c("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[s(qe,{option:{selectData:l.selectData,defaultValue:l.defaultValue}},null)]})]})])}}),wt=l({props:{option:{type:Object}},setup(e){const t=["basic","titleType","inputBoxType","styleSource"],l=a({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if("block"!=e.option.style.box.display&&(l.layout.value="水平"),e.option.style.input.width,e.option.style.input.width){const{width:t}=e.option.style.input.width;"80px"==t?l.inputBoxSize.value="极小":"160px"==t?l.inputBoxSize.value="小":"240px"==t?l.inputBoxSize.value="中":"320px"==t&&(l.inputBoxSize.value="大")}})(),L((()=>{"垂直"==l.layout.value?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),"极小"==l.inputBoxSize.value?e.option.style.input.width="80px":"小"==l.inputBoxSize.value?e.option.style.input.width="160px":"中"==l.inputBoxSize.value?e.option.style.input.width="240px":"大"==l.inputBoxSize.value?e.option.style.input.width="320px":delete e.option.style.input.width})),()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"布局",setting:l.layout},null),s(Re,{label:"输入框尺寸",setting:l.inputBoxSize},null)]}),s(c("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[s(Ke,{option:l.titleType},null)]}),s(c("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[s(Ke,{option:l.inputBoxType},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),St=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},inputType:{value:"文本",options:[{value:"文本"},{value:"密码"},{value:"邮箱"}]},clearable:{label:"可清除",value:!!e.option.clearable&&e.option.clearable},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return e.option.inputType&&("text"==e.option.inputType&&(l.inputType.value="文本"),"password"==e.option.inputType&&(l.inputType.value="密码"),"email"==e.option.inputType&&(l.inputType.value="邮箱")),L((()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach((t=>{""!=l[t].value?e.option[t]=l[t].value:delete e.option[t]})),""!=l.inputType.value?"文本"==l.inputType.value?e.option.inputType="text":"密码"==l.inputType.value?e.option.inputType="password":e.option.inputType="email":delete e.option.inputType})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.bindingField},null),s(Re,{label:"输入类型",setting:l.inputType},null),s(ze,{option:l.title},null),s(Fe,{option:l.clearable},null),s(ze,{option:l.inputBoxPlaceholder},null)]})]})])}}),It=l({props:{option:{type:Object}},setup(e){const t=["basic","titleType","inputBoxType","styleSource"],l=a({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},inputBoxSize:{value:"占满",options:[{value:"占满"},{value:"大"},{value:"中"},{value:"小"},{value:"极小"}]},rows:{minRows:{label:"最小展示行数",value:e.option.autosize.minRows,min:1,max:99},maxRows:{label:"最大展示行数",value:e.option.autosize.maxRows,min:1,max:99}},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},inputBoxType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,style:e.option.style.input}});return(()=>{if("block"!=e.option.style.box.display&&(l.layout.value="水平"),e.option.style.input.width,e.option.style.input.width){const{width:t}=e.option.style.input.width;"80px"==t?l.inputBoxSize.value="极小":"160px"==t?l.inputBoxSize.value="小":"240px"==t?l.inputBoxSize.value="中":"320px"==t&&(l.inputBoxSize.value="大")}})(),L((()=>{"垂直"==l.layout.value?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),"极小"==l.inputBoxSize.value?e.option.style.input.width="80px":"小"==l.inputBoxSize.value?e.option.style.input.width="160px":"中"==l.inputBoxSize.value?e.option.style.input.width="240px":"大"==l.inputBoxSize.value?e.option.style.input.width="320px":delete e.option.style.input.width,e.option.autosize.minRows=l.rows.minRows.value,e.option.autosize.maxRows=l.rows.maxRows.value})),()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"布局",setting:l.layout},null),s(Re,{label:"输入框尺寸",setting:l.inputBoxSize},null),s(q,{option:l.rows.minRows},null),s(q,{option:l.rows.maxRows},null)]}),s(c("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[s(Ke,{option:l.titleType},null)]}),s(c("elCollapseItem"),{title:"输入框样式",name:"inputBoxType"},{default:()=>[s(Ke,{option:l.inputBoxType},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),Vt=l({props:{option:{type:Object}},setup(e){const t=["basic","layout"],l=a({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},clearable:{label:"可清除",value:!!e.option.clearable&&e.option.clearable},inputBoxPlaceholder:{label:"占位提示",value:e.option.inputBoxPlaceholder?e.option.inputBoxPlaceholder:"",placeholder:"空内容提示占位"}});return L((()=>{["bindingField","title","clearable","inputBoxPlaceholder"].forEach((t=>{""!=l[t].value?e.option[t]=l[t].value:delete e.option[t]}))})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.bindingField},null),s(ze,{option:l.title},null),s(Fe,{option:l.clearable},null),s(ze,{option:l.inputBoxPlaceholder},null)]})]})])}}),kt=l({props:{option:{type:Object}},setup(e){const t=["basic","styleSource"],l={writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,radius:!0,shadow:!0,style:e.option.style};return()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"自定义样式",name:"basic"},{default:()=>[s(Ke,{option:l},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),Dt=l({props:{option:{type:Object}},setup(){const e=["basic"],t=a({leftIconSelect:{isShowList:!1,clearable:!1,isFill:!1,icon:"",iconText:"",clearIcon:"icon-cha"}});return()=>s(C,null,[s(c("elCollapse"),{modelValue:e},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Ne,{label:"修改图标",setting:t.leftIconSelect},null)]})]})])}}),Lt=l({props:{option:{type:Object}},setup(e){const t=["basic","titleType","radioType","styleSource"],l=a({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},radioType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,style:e.option.style.radio}});return"block"!=e.option.style.box.display&&(l.layout.value="水平"),L((()=>{"垂直"==l.layout.value?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px")})),()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"布局",setting:l.layout},null)]}),s(c("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[s(Ke,{option:l.titleType},null)]}),s(c("elCollapseItem"),{title:"单选框样式",name:"radioType"},{default:()=>[s(Ke,{option:l.radioType},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),Et=l({props:{option:{type:Object}},setup(e){const t=["basic","options"],l=a({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},selectData:[{radio:!1,value:"选项1",isShow:!1},{radio:!1,value:"选项2",isShow:!1},{radio:!1,value:"选项3",isShow:!1}],defaultValue:{value:e.option.value?e.option.value:"",options:[]}});return e.option.radioData&&(l.selectData=e.option.radioData.map((e=>({...e,isShow:!1})))),L((()=>{["bindingField","title"].forEach((t=>{""!=l[t].value?e.option[t]=l[t].value:delete e.option[t]})),""!=l.defaultValue.value?e.option.value=l.defaultValue.value:delete e.option.defaultValue,e.option.radioData=l.selectData.map((e=>({value:e.value,radio:e.radio}))),new Promise((e=>{let t=[];for(let o of l.selectData)""!=o.value.trim()&&t.push(o);e(t)})).then((e=>{l.defaultValue.options=e}))})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.bindingField},null),s(ze,{option:l.title},null)]}),s(c("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[s(qe,{option:{selectData:l.selectData,defaultValue:l.defaultValue}},null)]})]})])}}),Mt=l({props:{option:{type:Object}},setup(e){const t=["basic","titleType","checkboxesType","styleSource"],l=a({layout:{value:"垂直",options:[{value:"水平"},{value:"垂直"}]},border:{label:"边框",value:e.option.border},titleType:{writingStyle:!0,marginAndPadding:!0,style:e.option.style.title},checkboxesType:{writingStyle:!0,bgColor:!0,border:!0,marginAndPadding:!0,style:e.option.style.checkboxes}});return"block"!=e.option.style.box.display&&(l.layout.value="水平"),L((()=>{"垂直"==l.layout.value?e.option.style.box.display="block":(e.option.style.box.display="flex",e.option.style.box.alignItems="center",e.option.style.title.marginRight="5px"),e.option.border=l.border.value})),()=>s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(Re,{label:"布局",setting:l.layout},null),s(Fe,{option:l.border},null)]}),s(c("elCollapseItem"),{title:"标题样式",name:"titleType"},{default:()=>[s(Ke,{option:l.titleType},null)]}),s(c("elCollapseItem"),{title:"单选框样式",name:"checkboxesType"},{default:()=>[s(Ke,{option:l.checkboxesType},null)]}),s(c("elCollapseItem"),{title:"样式源码",name:"styleSource"},{default:()=>[s("div",{class:"elCollapseItem editStyle"},[s("div",{class:"editStyleSource"},[s("i",{class:"icon iconfont icon-daimajishufuwu"},null),s("span",null,[p("编辑样式源码")])])])]})]})}}),Pt=l({props:{option:{type:Object}},setup(e){const t=["basic","options"],l=a({bindingField:{label:"绑定字段",value:e.option.bindingField?e.option.bindingField:"",placeholder:"请输入字段"},title:{label:"标题",value:e.option.title?e.option.title:"",placeholder:"请输入标题"},selectData:[{radio:!1,value:"选项1",isShow:!1},{radio:!1,value:"选项2",isShow:!1},{radio:!1,value:"选项3",isShow:!1}],defaultValue:{value:e.option.value?e.option.value:"",options:[]}});return e.option.checkboxesData&&(l.selectData=e.option.checkboxesData.map((e=>({...e,isShow:!1})))),L((()=>{["bindingField","title"].forEach((t=>{""!=l[t].value?e.option[t]=l[t].value:delete e.option[t]})),""!=l.defaultValue.value?e.option.value=l.defaultValue.value:delete e.option.defaultValue,e.option.checkboxesData=l.selectData.map((e=>({value:e.value,radio:e.radio}))),new Promise((e=>{let t=[];for(let o of l.selectData)""!=o.value.trim()&&t.push(o);e(t)})).then((e=>{l.defaultValue.options=e}))})),()=>s(C,null,[s(c("elCollapse"),{modelValue:t},{default:()=>[s(c("elCollapseItem"),{title:"基本",name:"basic"},{default:()=>[s(ze,{option:l.bindingField},null),s(ze,{option:l.title},null)]}),s(c("elCollapseItem"),{title:"选项",name:"options"},{default:()=>[s(qe,{option:{selectData:l.selectData,defaultValue:l.defaultValue},check:!0},null)]})]})])}}),Bt=[{type:"container-ordinary",Properties:e=>s(rt,{option:e},null),appearances:e=>s(pt,{option:e},null)},{type:"container-free",Properties:e=>s(mt,{option:e},null),appearances:e=>s(ct,{option:e},null)},{type:"text",Properties:e=>s(ht,{option:e},null),appearances:e=>s(vt,{option:e},null)},{type:"button",Properties:e=>s(ft,{option:e},null),appearances:e=>s(yt,{option:e},null)},{type:"input",Properties:e=>s(bt,{option:e},null),appearances:e=>s(gt,{option:e},null)},{type:"select",Properties:e=>s(Ct,{option:e},null),appearances:e=>s(xt,{option:e},null)},{type:"textBox",Properties:e=>s(St,{option:e},null),appearances:e=>s(wt,{option:e},null)},{type:"multilineText",Properties:e=>s(Vt,{option:e},null),appearances:e=>s(It,{option:e},null)},{type:"icon",Properties:e=>s(Dt,{option:e},null),appearances:e=>s(kt,{option:e},null)},{type:"radio",Properties:e=>s(Et,{option:e},null),appearances:e=>s(Lt,{option:e},null)},{type:"checkboxes",Properties:e=>s(Pt,{option:e},null),appearances:e=>s(Mt,{option:e},null)}];const Tt=new class{constructor(e=new Map){this.componentMap=e}register(e){this.componentMap.set(e.type,e)}};for(let nl of Bt)Tt.register({type:nl.type,Properties:e=>nl.Properties(e),appearances:e=>nl.appearances(e)});const jt=l({props:{EditorData:Object},setup:e=>()=>s("div",{class:"EditorPreview"},[s("div",{id:"body",style:e.EditorData.get("page").style},[X("page")]),s("div",{class:"EditorPreview-leftMessage"},[p("按ESC可退出预览")])])});function At(){let e=new Map,t={},l=[],o=A(re),a=U(re);const n=[{name:"copy",keyboard:"ctrl+c",execute:()=>({redo(){o.copyData=a.selectKey}})},{name:"paste",keyboard:"ctrl+v",pushQueue:!0,execute(){var e;o.menuConfig.key++;let t=o.copyData,l=o.wantCopy,a=(null==(e=o.EditorDataMap.get(l))?void 0:e.parent)||"page";return{name:"paste",parent:a,index:o.EditorDataMap.get(a).children.findIndex((e=>e==l)),copyKey:t,addKeys:[]}},redo(e){e.addKeys.length=0,o.EditorDataMap.get(e.parent).children.splice(e.index+1,0,function t(l,a,i){i.parent=a;let n=F(l.replace(/-[^-]*$/,""),Ce(i));return e.addKeys.push(n),Array.isArray(i.children)&&(o.EditorDataMap.get(n).children=i.children.map((e=>t(e,n,o.EditorDataMap.get(e))))),n}(e.copyKey,e.parent,o.EditorDataMap.get(e.copyKey))),o.menuConfig.key++},undo(e){o.EditorDataMap.get(e.parent).children.splice(e.index+1,1),e.addKeys.forEach((e=>{o.EditorDataMap.delete(e)})),o.menuConfig.key--}},{name:"redo",keyboard:"ctrl+y",execute:()=>({async redo(){let t=o.queue[o.curPointerTo+1];return!!t&&(o.modify.disabled=!0,await e.get(t.name).redo(t),o.curPointerTo++,o.modify.disabled=!1,!0)}})},{name:"undo",keyboard:"ctrl+z",execute:()=>({async redo(){if(-1==o.curPointerTo)return;let t=o.queue[o.curPointerTo];return!!t&&(o.modify.disabled=!0,await e.get(t.name).undo(t),o.curPointerTo--,o.modify.disabled=!1,!0)}})},{name:"shear",keyboard:"ctrl+x",pushQueue:!0,execute:()=>(o.copyData=a.selectKey,{...e.get("delete").execute(),name:"shear"}),redo(t){e.get("delete").redo(t)},undo(t){e.get("delete").undo(t)}},{name:"save",keyboard:"ctrl+s",execute:()=>({async redo(){var e;o.isLoading=!0,pe("title",o.title),pe("data",o.setEditorData()),200==(null==(e=(await J({jsonData:o.setEditorData(),id:de("id"),title:o.title})).data)?void 0:e.code)&&(o.isLoading=!1,o.isNeedSave=!1,o.isSucessSave=!0,me.success({message:"保存成功",duration:2e3}))}})},{name:"removeSave",keyboard:"ctrl+delete",execute:()=>({redo(){localStorage.removeItem("title"),localStorage.removeItem("data"),me.success({message:"清除保存数据成功",duration:2e3})}})},{name:"delete",keyboard:"delete",pushQueue:!0,execute(){var e;let t=o.wantDel;if(t){a.isDrag&&a.destructionOfDrag();let l=(null==(e=o.EditorDataMap.get(t))?void 0:e.parent)||"page",i=o.EditorDataMap.get(l).children.findIndex((e=>e==t));return{name:"delete",parent:l,key:t,index:i}}me.error("编辑区域根节点不能删除！")},redo(e){o.EditorDataMap.get(e.parent).children.splice(e.index,1),o.menuConfig.key++},undo(e){o.EditorDataMap.get(e.parent).children.splice(e.index,0,e.key),o.menuConfig.key--}},{name:"preview",keyboard:"ctrl+p",execute:()=>({redo(){o.isPreview||(o.isPreview=!0,me.success({message:"已进入预览模式",duration:2e3}))}})},{name:"exitPreview",keyboard:"esc",execute:()=>({redo(){o.isPreview&&(o.isPreview=!1,me.success({message:"已退出预览模式",duration:1e3}))}})},{name:"export",keyboard:"ctrl+e",execute:()=>({redo(){!function(e,t,l="zip",o,a){z({method:"post",url:e,headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"blob",data:a}).then((async e=>{const a=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),i=URL.createObjectURL(a),n=document.createElement("a");n.setAttribute("download",`${t}_${(new Date).valueOf()}.${l}`),n.setAttribute("href",i),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),o.close(),me.success("下载文件成功")})).catch((e=>{console.error(e),me.error("下载文件出现错误，请联系管理员！")}))}("generateZipFile","lowcode","zip",be.service({fullscreen:!0,text:"服务器正在打包中,请稍等半分钟······"}),{id:de("id")})}})},{name:"clone",pushQueue:!0,init(){const e=()=>t.clone();return R.on("cloneEnd",e),()=>{R.off("cloneEnd",e)}},execute:()=>({name:"clone",parent:a.selectParent,type:a.selectedMaterial.type,defaultData:Ce(a.selectedMaterial.defaultData)}),redo(e){var t;e.id||(e.id=F(e.type,{...e.defaultData,parent:e.parent})),o.EditorDataMap.has(e.id)||o.EditorDataMap.set(e.id,{...e.defaultData,parent:e.parent}),null==(t=o.EditorDataMap.get(e.parent))||t.children.push(e.id),o.menuConfig.key++},undo(e){var t,l;let a=null==(t=o.EditorDataMap.get(e.parent))?void 0:t.children.at(-1);null==(l=o.EditorDataMap.get(e.parent))||l.children.pop(),o.EditorDataMap.delete(a),o.menuConfig.key--}},{name:"drag",pushQueue:!0,init(){this.oldParent=null,this.oldIndex=null;const e=()=>{var e;this.oldParent=(null==(e=o.EditorDataMap.get(a.selectKey))?void 0:e.parent)||"page",this.oldIndex=o.EditorDataMap.get(this.oldParent).children.findIndex((e=>e==a.selectKey))},l=()=>t.drag();return R.on("dragStart",e),R.on("dragEnd",l),()=>{R.off("dragStart",e),R.off("dragEnd",l)}},execute(){var e;let t=a.selectKey,l=(null==(e=o.EditorDataMap.get(t))?void 0:e.parent)||"page",i=o.EditorDataMap.get(l).children.findIndex((e=>e==t));return{name:"drag",oldParent:this.oldParent,oldIndex:this.oldIndex,parent:l,index:i,key:t}},redo(e){o.EditorDataMap.get(e.key).parent=e.parent,o.EditorDataMap.get(e.oldParent).children.splice(e.oldIndex,1),o.EditorDataMap.get(e.parent).children.splice(e.index,0,e.key)},undo(e){o.EditorDataMap.get(e.key).parent=e.oldParent,o.EditorDataMap.get(e.parent).children.splice(e.index,1),o.EditorDataMap.get(e.oldParent).children.splice(e.oldIndex,0,e.key),a.selectKey=null,a.dragEl=null,o.menuConfig.key--}},{name:"change",pushQueue:!0,init(){const e=()=>t.change();return R.on("changeEnd",e),()=>{R.off("changeEnd",e)}},execute:()=>({name:"change",key:a.selectKey||"page",newVal:JSON.stringify(o.EditorDataMap.get(a.selectKey||"page")),oldVal:o.modify.curData}),redo(e){o.modify.modifying--;const{newVal:t,key:l}=e,a=(e,t)=>{for(let[o,i]of Object.entries(e))try{Array.isArray(i)||("object"==typeof i?a(e[o],t[o]):t.hasOwnProperty(o)&&t[o]==e[o]||(t[o]=e[o],t[o],e[o]))}catch(l){me.error("重做失败！",l)}};a(JSON.parse(t),o.EditorDataMap.get(l)),o.menuConfig.key++},undo(e){o.modify.modifying++;let t=o.EditorDataMap.get(e.key);const l=(e,t)=>{for(let[a,i]of Object.entries(t))try{e.hasOwnProperty(a)||delete t[a],Array.isArray(i)||("object"==typeof i?l(e[a],t[a]):t[a]!=e[a]&&(t[a]=e[a]))}catch(o){me.error("撤销失败！",o)}};l(JSON.parse(e.oldVal),t),o.menuConfig.key--}},{name:"swap",pushQueue:!0,execute(){var e;o.modify.disabled=!0;let t=o.copyData,l=o.wantCopy,a=(null==(e=o.EditorDataMap.get(l))?void 0:e.parent)||"page";return{name:"swap",parent:a,index:o.EditorDataMap.get(a).children.findIndex((e=>e==l)),copyKey:t,addKeys:[],key:l}},redo(e){e.addKeys.length=0,o.EditorDataMap.get(e.parent).children.splice(e.index,1,function t(l,a,i){i.parent=a;let n=F(l.replace(/-[^-]*$/,""),Ce(i));return e.addKeys.push(n),Array.isArray(i.children)&&(o.EditorDataMap.get(n).children=i.children.map((e=>t(e,n,o.EditorDataMap.get(e))))),n}(e.copyKey,e.parent,o.EditorDataMap.get(e.copyKey))),o.menuConfig.key++,a.dragEl=null,o.modify.disabled=!1},undo(e){e.addKeys.forEach((e=>{o.EditorDataMap.delete(e)})),o.EditorDataMap.get(e.parent).children.splice(e.index,1,e.key),o.menuConfig.key--}}],s={67:"c",86:"v",90:"z",89:"y",88:"x",83:"s",46:"delete",80:"p",27:"esc",69:"e"},u=(()=>{const e=e=>{const{ctrlKey:l,keyCode:i}=e;let u=[];l&&u.push("ctrl"),u.push(s[i]);let d=u.join("+");n.forEach((({keyboard:l,name:n})=>{if(l&&l===d){if("delete"==d?o.wantDel&&t[n]():t[n](),"ctrl+s"==d?o.isNeedSave=!1:(o.isLoading=!1,o.isSucessSave=!1,o.isNeedSave=!0),["c","v","x"].includes(s[i])&&!a.isDrag)return;e.preventDefault()}}))};return()=>(window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)})})();return l.push(u()),n.forEach((i=>{var n;n=i,e.set(n.name,n),t[n.name]=()=>{if(a.isDraging)return;const e=n.execute();if(n.pushQueue){if("drag"==n.name){if(e.oldParent==e.parent&&e.oldIndex==e.index)return}else if("change"==n.name){if(e.oldVal==e.newVal)return;o.modify.curData=JSON.stringify(o.EditorDataMap.get(a.selectKey||"page"))}else n.redo(e);30==o.queue.length&&(o.queue.shift(),o.curPointerTo--),o.queue.length-1!=o.curPointerTo&&o.queue.splice(o.curPointerTo+1),o.queue.push({...e}),o.curPointerTo++}else e.redo()},i.init&&l.push(i.init())})),i((()=>{l.forEach((e=>e&&e()))})),{commands:t}}const zt=e=>(f("data-v-c75f58a7"),e=e(),g(),e),Rt={class:"editor"},Ft={class:"editor-header"},Ot={class:"editor-header-left"},Kt=[zt((()=>h("i",{class:"icon iconfont icon-fanhui"},null,-1)))],Ut=zt((()=>h("h2",null,"codeFlow",-1))),$t={class:"editor-header-mid"},Nt={class:"isSave"},_t={key:0,class:"svg"},Wt=[j('<svg class="circle" viewBox="0 0 1024 1024" data-v-c75f58a7><circle class="loading-circle" cx="512" cy="512" r="330" fill="none" stroke="url(#gradient)" stroke-width="60" data-v-c75f58a7></circle><defs data-v-c75f58a7><linearGradient id="gradient" data-v-c75f58a7><stop offset="0%" stop-color="#ffffff" data-v-c75f58a7></stop><stop offset="18%" stop-color="#ffffff" data-v-c75f58a7></stop><stop offset="18%" stop-color="#000000" data-v-c75f58a7></stop><stop offset="100%" stop-color="#000000" data-v-c75f58a7></stop></linearGradient></defs></svg>',1)],Ht={class:"editor-header-right"},Yt=[zt((()=>h("i",{class:"icon iconfont icon-jianpan"},null,-1)))],qt=zt((()=>h("div",{class:"editor-header-right-avatar"},[h("img",{src:O,alt:"user"})],-1))),Xt={class:"editor-body"},Jt={class:"editor-body-left"},Qt={class:"editor-body-container"},Zt={class:"editor-body-container-top"},Gt={class:"el-breadcrumb-button"},el={class:"editor-body-container-content"},tl={class:"editor-body-container-content_inner",ref:"editArea"},ll={class:"editor-body-right"},ol={class:"shortcuts"},al={class:"shortcuts-key"},il=$(l({__name:"editor",setup(e){B("editorConfig",Y),B("erConfig",Tt);const t=A(re),l=U(re);t.title=de("title")?de("title"):"新项目",t.setMap(),t.modify.curData=JSON.stringify(t.EditorDataMap.get("page"));const{commands:i}=At(),p=a({dialogIsShow:!1}),r=o(null),f=o(!1);n((()=>t.title),(e=>{""==e.trim()&&me.warning({message:"标题不能为空",duration:1e3})}));const g=[{label:"复制",key:"Ctrl+C"},{label:"粘贴",key:"Ctrl+V"},{label:"撤销",key:"Ctrl+Z"},{label:"还原",key:"Ctrl+Y"},{label:"剪切",key:"Ctrl+X"},{label:"保存",key:"Ctrl+S"},{label:"删除",key:"Delete"},{label:"预览",key:"Ctrl+P"},{label:"退出预览",key:"ESC"},{label:"导出",key:"Ctrl+E"}];n((()=>l.selectKey),(()=>{t.wantDel=l.selectKey,t.wantCopy=l.selectKey,"page"!=l.selectKey?t.getBreadcrumbData(t.EditorDataMap.get("page").children,Y,l.selectKey):t.Breadcrumb=["页面"]}));const b=a({icon:"icon-duigouzhong",context:"所有更改已保存"});n((()=>t.isSucessSave),(e=>{e&&(t.isLoading=!1,b.icon="icon-duigouzhong",b.context="已保存")})),n((()=>t.isNeedSave),(e=>{e&&(t.isLoading=!1,b.icon="icon-weixuanzhong",b.context="未保存")})),n((()=>t.isLoading),(e=>{e&&(b.icon="icon-weixuanzhong",b.context="正在保存")})),n((()=>t.menuConfig.selectKey),(e=>{"page"===e?(t.menuConfig.isShow.makeACopy=!0,t.menuConfig.isShow.copycomponents=!1,t.menuConfig.isShow.shearComponents=!0,t.menuConfig.isShow.pasteComponents=!0,t.menuConfig.isShow.delComponents=!0,t.menuConfig.isShow.moveForward=!0,t.menuConfig.isShow.moveBack=!0):(t.menuConfig.isShow.makeACopy=!1,t.menuConfig.isShow.copycomponents=!1,t.menuConfig.isShow.shearComponents=!1,t.menuConfig.isShow.pasteComponents=!1,t.menuConfig.isShow.delComponents=!1,t.queue.length<=0?(t.menuConfig.isShow.undo=!0,t.menuConfig.isShow.redo=!0):(t.menuConfig.isShow.undo=!1,t.menuConfig.isShow.redo=!1))}));const x=()=>{t.menuConfig.isShowMenu=!1};document.addEventListener("click",x),document.oncontextmenu=function(){t.menuConfig.isShowMenu=!1};const D=(e,l=2)=>{let o=l||2,a=t.EditorDataMap.get(e).children;if(Array.isArray(a)){let e=[];return a.forEach(((i,n)=>{let s=t.EditorDataMap.get(i),u=Y.componentMap.get(s.type).label;e.push({id:o+n,"node-key":i,label:u,children:D(i,l+a.length)})})),e}return[]};return n((()=>t.menuConfig.key),(()=>{t.OutlineData=D("page")}),{immediate:!0}),T((()=>{document.oncontextmenu=null,document.removeEventListener("click",x)})),(e,l)=>{const o=c("el-breadcrumb-item"),a=c("el-breadcrumb"),n=c("el-dialog");return m(),v(C,null,[u(h("div",Rt,[h("header",Ft,[h("div",Ot,[h("span",{class:"editor-header-left-exit",onClick:l[0]||(l[0]=t=>e.$router.go(-1))},Kt),Ut]),h("div",$t,[h("div",{class:V(["editor-header-mid-title",{active:f.value}])},[u(h("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>y(t).title=e),ref_key:"editorTitle",ref:r,onBlur:l[2]||(l[2]=e=>{return l=y(t).title,f.value=!1,void(""==l.trim()&&(r.value.focus(),me.warning({message:"标题不能为空",duration:1e3})));var l}),onFocus:l[3]||(l[3]=e=>f.value=!0)},null,544),[[d,y(t).title]]),h("div",Nt,[y(t).isLoading?(m(),v("div",_t,Wt)):I("",!0),y(t).isLoading?I("",!0):(m(),v("i",{key:1,class:V(["icon iconfont",b.icon])},null,2)),h("span",null,k(b.context),1)])],2)]),h("div",Ht,[h("div",{class:"editor-header-right-shortcut",onClick:l[4]||(l[4]=e=>p.dialogIsShow=!0)},Yt),h("div",{class:"editor-header-right-btn",onClick:l[5]||(l[5]=e=>y(i).preview())}," 预览 "),h("div",{class:"editor-header-right-btn",onClick:l[6]||(l[6]=e=>y(i).export())}," 导出 "),s(y(xe),{placement:"bottom",width:200,trigger:"click"},{reference:M((()=>[qt])),default:M((()=>[s(y(Q))])),_:1})])]),h("section",Xt,[h("div",Jt,[s(Ae)]),h("div",Qt,[h("div",Zt,[s(a,{separator:">"},{default:M((()=>[(m(!0),v(C,null,w(y(t).Breadcrumb,(e=>(m(),S(o,null,{default:M((()=>[h("span",Gt,k(e),1)])),_:2},1024)))),256))])),_:1})]),h("div",el,[h("div",tl,[s(y(ut),{EditorData:y(t).EditorDataMap},null,8,["EditorData"])],512)])]),h("div",ll,[s(it,{EditorData:y(t).EditorDataMap},null,8,["EditorData"])])])],512),[[E,!y(t).isPreview]]),y(t).isPreview?(m(),S(y(jt),{key:0,EditorData:y(t).EditorDataMap},null,8,["EditorData"])):I("",!0),s(n,{title:"快捷键",modelValue:p.dialogIsShow,"onUpdate:modelValue":l[7]||(l[7]=e=>p.dialogIsShow=e),width:"30%"},{default:M((()=>[h("ul",ol,[(m(),v(C,null,w(g,(e=>h("li",{key:e.key},[h("label",null,k(e.label),1),h("div",al,k(e.key),1)]))),64))])])),_:1},8,["modelValue"]),s(y(dt),{selectComponent:y(Z),unselectComponent:y(G),makeACopy:y(ee),copycomponents:y(te),shearComponents:y(le),delComponents:y(oe),pasteComponents:y(ae),moveForward:y(ie),moveBack:y(ne),undo:y(se),redo:y(ue),commands:y(i)},null,8,["selectComponent","unselectComponent","makeACopy","copycomponents","shearComponents","delComponents","pasteComponents","moveForward","moveBack","undo","redo","commands"])],64)}}}),[["__scopeId","data-v-c75f58a7"]]);export{il as default};
