import{a as e}from"../axios/axios.5ae1da96.js";import{p as r,l as t,b as o}from"../index.fa470b0b.js";import{d as s}from"../pinia/pinia.e5f2e591.js";import{Z as n}from"../@vue/@vue.5b184091.js";import{c as a}from"../element-plus/element-plus.739d7a40.js";const i=""+new URL("../../jpg/user.89bc.jpg",import.meta.url).href,u=new Map,p=(e,t)=>{const o=m(r);let s=e+"-"+c();return o.EditorDataMap.set(s,n(t)),s},l=()=>{let e=JSON.parse(t("data"));for(let[r,t]of Object.entries(e))u.set(r,n(t))},c=()=>"xyxxyxxx".replace(/[xy]/g,(function(e){let r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)})),m=s("mainStore",{state:()=>({title:"新项目",isPreview:!1,EditorData:null,copyData:null,wantDel:null,wantCopy:null,queue:[],curPointerTo:-1,EditorDataMap:null,isLoading:!1,isSucessSave:!1,isNeedSave:!1,Breadcrumb:["页面"],rootNode:null,menuConfig:{key:0,isShowMenu:!1,elOutlineTree:null,style:{top:"0px",left:"0px"},selectKey:"",isShow:{selectComponent:!1,unselectComponent:!1,makeACopy:!1,copycomponents:!1,shearComponents:!1,pasteComponents:!1,delComponents:!1,moveForward:!1,moveBack:!1,undo:!1,redo:!1}}}),actions:{setMap(){this.EditorDataMap=(u.clear(),l(),u)},setEditorData(){return e=this.EditorDataMap,JSON.stringify(Object.fromEntries(e));var e}}}),d=m(r),f=()=>{d.isLoading=!1,d.isSucessSave=!1,d.isNeedSave=!0};let w=e.create({baseURL:"http://47.115.228.27:8081"});function h(e){return w({method:"post",url:"/user/checkIfUserExist",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{username:e}})}function x(e,r){return w({method:"post",url:"/user/reguser",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{username:e,password:r}})}function y(e,r){return w({method:"post",url:"/user/login",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{username:e,password:r}})}w.interceptors.request.use((function(e){return e.url.match(/^\/user/)||(e.headers.authorization=o("token")),e}),(function(e){return Promise.reject(e)})),w.interceptors.response.use((function(e){return e}),(function(e){const{status:r}=e.request;return 0==r?(a.error("请检查您的网络配置!"),f()):400==r?(a.error("400错误,请求语法错误!"),f()):401==r?(a.error("401错误,请求需要身份验证!"),f()):403==r?(a.error("403错误,服务器拒绝请求!"),f()):404==r?(a.error("404错误,请求的资源不存在!"),f()):500==r?(a.error("500错误,服务器内部错误，无法完成请求!"),f()):502==r?(a.error("502错误,错误网关,请检查您的网络配置!"),f()):503==r?(a.error("503错误,服务器暂时无法处理请求!"),f()):504==r&&(a.error("504错误,网关超时,请检查您的网络配置!"),f()),Promise.reject(e)}));const S=s("userStore",{state:()=>({username:"",token:""})});export{i as _,p as a,h as c,y as l,m,x as r,w as s,S as u};
